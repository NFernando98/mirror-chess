(self.webpackChunkiframepage=self.webpackChunkiframepage||[]).push([[179],{203:(Vr,Ds,rc)=>{"use strict";function Ve(n){return"function"==typeof n}function b(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ic=b(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Cs(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class mt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ve(r))try{r()}catch(s){e=s instanceof ic?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{_a(s)}catch(a){e=null!=e?e:[],a instanceof ic?e=[...e,...a.errors]:e.push(a)}}if(e)throw new ic(e)}}add(e){var t;if(e&&e!==this)if(this.closed)_a(e);else{if(e instanceof mt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Cs(t,e)}remove(e){const{_teardowns:t}=this;t&&Cs(t,e),e instanceof mt&&e._removeParent(this)}}mt.EMPTY=(()=>{const n=new mt;return n.closed=!0,n})();const pn=mt.EMPTY;function ef(n){return n instanceof mt||n&&"closed"in n&&Ve(n.remove)&&Ve(n.add)&&Ve(n.unsubscribe)}function _a(n){Ve(n)?n():n.unsubscribe()}const Ki={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gi={setTimeout(...n){const{delegate:e}=Gi;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=Gi;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function jr(n){Gi.setTimeout(()=>{const{onUnhandledError:e}=Ki;if(!e)throw n;e(n)})}function va(){}const bs=en("C",void 0,void 0);function en(n,e,t){return{kind:n,value:e,error:t}}let gn=null;function _o(n){if(Ki.useDeprecatedSynchronousErrorHandling){const e=!gn;if(e&&(gn={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=gn;if(gn=null,t)throw r}}else n()}class fi extends mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ef(e)&&e.add(this)):this.destination=Jg}static create(e,t,r){return new pi(e,t,r)}next(e){this.isStopped?sc(function ya(n){return en("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?sc(function Es(n){return en("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sc(bs,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fr=Function.prototype.bind;function hi(n,e){return fr.call(n,e)}class $r{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Is(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Is(r)}else Is(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Is(t)}}}class pi extends fi{constructor(e,t,r){let i;if(super(),Ve(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&Ki.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hi(e.next,s),error:e.error&&hi(e.error,s),complete:e.complete&&hi(e.complete,s)}):i=e}this.destination=new $r(i)}}function Is(n){Ki.useDeprecatedSynchronousErrorHandling?function dr(n){Ki.useDeprecatedSynchronousErrorHandling&&gn&&(gn.errorThrown=!0,gn.error=n)}(n):jr(n)}function sc(n,e){const{onStoppedNotification:t}=Ki;t&&Gi.setTimeout(()=>t(n,e))}const Jg={closed:!0,next:va,error:function Xg(n){throw n},complete:va},oc="function"==typeof Symbol&&Symbol.observable||"@@observable";function gi(n){return n}let Be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function wa(n){return n&&n instanceof fi||function em(n){return n&&Ve(n.next)&&Ve(n.error)&&Ve(n.complete)}(n)&&ef(n)}(t)?t:new pi(t,r,i);return _o(()=>{const{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Wr(r))((i,s)=>{const a=new pi({next:c=>{try{t(c)}catch(u){s(u),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[oc](){return this}pipe(...t){return function tf(n){return 0===n.length?gi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Wr(t))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return n.create=e=>new n(e),n})();function Wr(n){var e;return null!==(e=null!=n?n:Ki.Promise)&&void 0!==e?e:Promise}const hr=b(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Oe=(()=>{class n extends Be{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new nf(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new hr}next(t){_o(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?pn:(s.push(t),new mt(()=>Cs(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Be;return t.source=this,t}}return n.create=(e,t)=>new nf(e,t),n})();class nf extends Oe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:pn}}function rf(n){return Ve(null==n?void 0:n.lift)}function Ye(n){return e=>{if(rf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(n,e,t,r,i){return new tm(n,e,t,r,i)}class tm extends fi{constructor(e,t,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Fe(n,e){return Ye((t,r)=>{let i=0;t.subscribe(et(r,s=>{r.next(n.call(e,s,i++))}))})}function zn(n){return this instanceof zn?(this.v=n,this):new zn(n)}function im(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(y){r[y]&&(i[y]=function(D){return new Promise(function(M,F){s.push([y,D,M,F])>1||c(y,D)})})}function c(y,D){try{!function u(y){y.value instanceof zn?Promise.resolve(y.value.v).then(f,p):m(s[0][2],y)}(r[y](D))}catch(M){m(s[0][3],M)}}function f(y){c("next",y)}function p(y){c("throw",y)}function m(y,D){y(D),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Ts(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Ss(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(c,u){!function i(s,a,c,u){Promise.resolve(u).then(function(f){s({value:f,done:c})},a)}(c,u,(a=n[s](a)).done,a.value)})}}}const Ea=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ia(n){return Ve(null==n?void 0:n.then)}function Sa(n){return Ve(n[oc])}function df(n){return Symbol.asyncIterator&&Ve(null==n?void 0:n[Symbol.asyncIterator])}function ff(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const dc=function sm(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fc(n){return Ve(null==n?void 0:n[dc])}function hf(n){return im(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield zn(t.read());if(i)return yield zn(void 0);yield yield zn(r)}}finally{t.releaseLock()}})}function pf(n){return Ve(null==n?void 0:n.getReader)}function Kn(n){if(n instanceof Be)return n;if(null!=n){if(Sa(n))return function om(n){return new Be(e=>{const t=n[oc]();if(Ve(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ea(n))return function gf(n){return new Be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ia(n))return function am(n){return new Be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jr)})}(n);if(df(n))return mf(n);if(fc(n))return function lm(n){return new Be(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(pf(n))return function hc(n){return mf(hf(n))}(n)}throw ff(n)}function mf(n){return new Be(e=>{(function cm(n,e){var t,r,i,s;return function rm(n,e,t,r){return new(t||(t=Promise))(function(s,a){function c(p){try{f(r.next(p))}catch(m){a(m)}}function u(p){try{f(r.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):function i(s){return s instanceof t?s:new t(function(a){a(s)})}(p.value).then(c,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Ts(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Gn(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function wt(n,e,t=1/0){return Ve(e)?wt((r,i)=>Fe((s,a)=>e(r,s,i,a))(Kn(n(r,i))),t):("number"==typeof e&&(t=e),Ye((r,i)=>function um(n,e,t,r,i,s,a,c){const u=[];let f=0,p=0,m=!1;const y=()=>{m&&!u.length&&!f&&e.complete()},D=F=>f<r?M(F):u.push(F),M=F=>{s&&e.next(F),f++;let L=!1;Kn(t(F,p++)).subscribe(et(e,H=>{null==i||i(H),s?D(H):e.next(H)},()=>{L=!0},void 0,()=>{if(L)try{for(f--;u.length&&f<r;){const H=u.shift();a?Gn(e,a,()=>M(H)):M(H)}y()}catch(H){e.error(H)}}))};return n.subscribe(et(e,D,()=>{m=!0,y()})),()=>{null==c||c()}}(r,i,n,t)))}function yo(n=1/0){return wt(gi,n)}const zr=new Be(n=>n.complete());function _f(n){return n&&Ve(n.schedule)}function pc(n){return n[n.length-1]}function wo(n){return _f(pc(n))?n.pop():void 0}function yf(n,e=0){return Ye((t,r)=>{t.subscribe(et(r,i=>Gn(r,n,()=>r.next(i),e),()=>Gn(r,n,()=>r.complete(),e),i=>Gn(r,n,()=>r.error(i),e)))})}function wf(n,e=0){return Ye((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Do(n,e){if(!n)throw new Error("Iterable cannot be null");return new Be(t=>{Gn(t,e,()=>{const r=n[Symbol.asyncIterator]();Gn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Mt(n,e){return e?function _m(n,e){if(null!=n){if(Sa(n))return function hm(n,e){return Kn(n).pipe(wf(e),yf(e))}(n,e);if(Ea(n))return function Ta(n,e){return new Be(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Ia(n))return function pm(n,e){return Kn(n).pipe(wf(e),yf(e))}(n,e);if(df(n))return Do(n,e);if(fc(n))return function gm(n,e){return new Be(t=>{let r;return Gn(t,e,()=>{r=n[dc](),Gn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void t.error(a)}s?t.complete():t.next(i)},0,!0)}),()=>Ve(null==r?void 0:r.return)&&r.return()})}(n,e);if(pf(n))return function mm(n,e){return Do(hf(n),e)}(n,e)}throw ff(n)}(n,e):Kn(n)}function Aa(...n){const e=wo(n),t=function fm(n,e){return"number"==typeof pc(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Kn(r[0]):yo(t)(Mt(r,e)):zr}function Zi(n){return n<=0?()=>zr:Ye((e,t)=>{let r=0;e.subscribe(et(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gc(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Zi(1)).subscribe(()=>n())}function je(n){for(let e in n)if(n[e]===je)return e;throw Error("Could not find renamed property on target object.")}function ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ma(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Cf=je({__forward_ref__:je});function xa(n){return n.__forward_ref__=xa,n.toString=function(){return ke(this())},n}function de(n){return function bf(n){return"function"==typeof n&&n.hasOwnProperty(Cf)&&n.__forward_ref__===xa}(n)?n():n}class Se extends Error{constructor(e,t){super(function Pa(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function le(n){return"string"==typeof n?n:null==n?"":String(n)}function Nt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():le(n)}function Co(n,e){const t=e?` in ${e}`:"";throw new Se(-201,`No provider for ${Nt(n)} found${t}`)}function tn(n,e){null==n&&function qe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qn(n){return{providers:n.providers||[],imports:n.imports||[]}}function _c(n){return Af(n,Ra)||Af(n,Mf)}function Af(n,e){return n.hasOwnProperty(e)?n[e]:null}function $e(n){return n&&(n.hasOwnProperty(vc)||n.hasOwnProperty(Im))?n[vc]:null}const Ra=je({\u0275prov:je}),vc=je({\u0275inj:je}),Mf=je({ngInjectableDef:je}),Im=je({ngInjectorDef:je});var oe=(()=>((oe=oe||{})[oe.Default=0]="Default",oe[oe.Host=1]="Host",oe[oe.Self=2]="Self",oe[oe.SkipSelf=4]="SkipSelf",oe[oe.Optional=8]="Optional",oe))();let yc;function _i(n){const e=yc;return yc=n,e}function Dt(n,e,t){const r=_c(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&oe.Optional?null:void 0!==e?e:void Co(ke(n),"Injector")}function Sn(n){return{toString:n}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),Qn=(()=>{return(n=Qn||(Qn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Qn;var n})();const Rf="undefined"!=typeof globalThis&&globalThis,Ff="undefined"!=typeof window&&window,Of="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Le=Rf||"undefined"!=typeof global&&global||Ff||Of,xt={},We=[],bo=je({\u0275cmp:je}),mr=je({\u0275dir:je}),Ms=je({\u0275pipe:je}),Fa=je({\u0275mod:je}),xe=je({\u0275fac:je}),Mn=je({__NG_ELEMENT_ID__:je});let wc=0;function xs(n){return Sn(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||We,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Qn.Emulated,id:"c",styles:n.styles||We,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,a=n.pipes;return r.id+=wc++,r.inputs=Qi(n.inputs,t),r.outputs=Qi(n.outputs),s&&s.forEach(c=>c(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(kf):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(Lf):null,r})}function kf(n){return Rt(n)||function _r(n){return n[mr]||null}(n)}function Lf(n){return function Kr(n){return n[Ms]||null}(n)}const Nf={};function Yn(n){return Sn(()=>{const e={type:n.type,bootstrap:n.bootstrap||We,declarations:n.declarations||We,imports:n.imports||We,exports:n.exports||We,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Nf[n.id]=n.type),e})}function Qi(n,e){if(null==n)return xt;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Pt=xs;function qt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Rt(n){return n[bo]||null}function mn(n,e){const t=n[Fa]||null;if(!t&&!0===e)throw new Error(`Type ${ke(n)} does not have '\u0275mod' property.`);return t}function vr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Jn(n){return Array.isArray(n)&&!0===n[1]}function bc(n){return 0!=(8&n.flags)}function es(n){return 2==(2&n.flags)}function I(n){return 1==(1&n.flags)}function P(n){return null!==n.template}function x(n){return 0!=(512&n[2])}function yr(n,e){return n.hasOwnProperty(xe)?n[xe]:null}class Uf{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function xn(){return xc}function xc(n){return n.type.prototype.ngOnChanges&&(n.setInput=Na),Vf}function Vf(){const n=Os(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===xt)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Na(n,e,t,r){const i=Os(n)||function ns(n,e){return n[Pc]=e}(n,{previous:xt,current:null}),s=i.current||(i.current={}),a=i.previous,c=this.declaredInputs[t],u=a[c];s[c]=new Uf(u&&u.currentValue,e,a===xt),n[r]=e}xn.ngInherit=!0;const Pc="__ngSimpleChanges__";function Os(n){return n[Pc]||null}let Ha;function Oc(){return void 0!==Ha?Ha:"undefined"!=typeof document?document:void 0}function we(n){return!!n.listen}const jf={createRenderer:(n,e)=>Oc()};function st(n){for(;Array.isArray(n);)n=n[0];return n}function yi(n,e){return st(e[n])}function rn(n,e){return st(e[n.index])}function rs(n,e){return n.data[e]}function wr(n,e){return n[e]}function Ht(n,e){const t=e[n];return vr(t)?t:t[0]}function is(n){return 4==(4&n[2])}function kc(n){return 128==(128&n[2])}function wi(n,e){return null==e?null:n[e]}function Wf(n){n[18]=0}function Lc(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const J={lFrame:jc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Mo(){return J.bindingsEnabled}function N(){return J.lFrame.lView}function Te(){return J.lFrame.tView}function sn(n){return J.lFrame.contextLView=n,n[8]}function Qe(){let n=Kf();for(;null!==n&&64===n.type;)n=n.parent;return n}function Kf(){return J.lFrame.currentTNode}function Dr(n,e){const t=J.lFrame;t.currentTNode=n,t.isParent=e}function Nc(){return J.lFrame.isParent}function Va(){return J.isInCheckNoChangesMode}function ja(n){J.isInCheckNoChangesMode=n}function Zt(){const n=J.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Hs(){return J.lFrame.bindingIndex++}function Hm(n,e){const t=J.lFrame;t.bindingIndex=t.bindingRootIndex=n,Hc(e)}function Hc(n){J.lFrame.currentDirectiveIndex=n}function Fn(){return J.lFrame.currentQueryIndex}function Vc(n){J.lFrame.currentQueryIndex=n}function Um(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function qf(n,e,t){if(t&oe.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&oe.Host||(i=Um(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=J.lFrame=Zf();return r.currentTNode=e,r.lView=n,!0}function $a(n){const e=Zf(),t=n[1];J.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Zf(){const n=J.lFrame,e=null===n?null:n.child;return null===e?jc(n):e}function jc(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function $c(){const n=J.lFrame;return J.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Qf=$c;function Wa(){const n=$c();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function It(){return J.lFrame.selectedIndex}function Ci(n){J.lFrame.selectedIndex=n}function tt(){const n=J.lFrame;return rs(n.tView,n.selectedIndex)}function Ro(){J.lFrame.currentNamespace="svg"}function Fo(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:p}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-t,a),c&&((n.contentHooks||(n.contentHooks=[])).push(t,c),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,c)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=p&&(n.destroyHooks||(n.destroyHooks=[])).push(t,p)}}function Oo(n,e,t){zc(n,e,3,t)}function bi(n,e,t,r){(3&n[2])===t&&zc(n,e,t,r)}function br(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function zc(n,e,t,r){const s=null!=r?r:-1,a=e.length-1;let c=0;for(let u=void 0!==r?65535&n[18]:0;u<a;u++)if("number"==typeof e[u+1]){if(c=e[u],null!=r&&c>=r)break}else e[u]<0&&(n[18]+=65536),(c<s||-1==s)&&(jm(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function jm(n,e,t,r){const i=t[r]<0,s=t[r+1],c=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(c)}finally{}}}else try{s.call(c)}finally{}}class ko{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Lo(n,e,t){const r=we(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const a=t[i++],c=t[i++],u=t[i++];r?n.setAttribute(e,c,u,a):e.setAttributeNS(a,c,u)}else{const a=s,c=t[++i];No(a)?r&&n.setProperty(e,a,c):r?n.setAttribute(e,a,c):e.setAttribute(a,c),i++}}return i}function Ut(n){return 3===n||4===n||6===n}function No(n){return 64===n.charCodeAt(0)}function Ga(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Xf(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Xf(n,e,t,r,i){let s=0,a=n.length;if(-1===e)a=-1;else for(;s<n.length;){const c=n[s++];if("number"==typeof c){if(c===e){a=-1;break}if(c>e){a=s-1;break}}}for(;s<n.length;){const c=n[s];if("number"==typeof c)break;if(c===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function Jf(n){return-1!==n}function Ei(n){return 32767&n}function Ir(n,e){let t=function $m(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let qa=!0;function Za(n){const e=qa;return qa=n,e}let Wm=0;function js(n,e){const t=Qc(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Zc(r.data,n),Zc(e,null),Zc(r.blueprint,null));const i=Qa(n,e),s=n.injectorIndex;if(Jf(i)){const a=Ei(i),c=Ir(i,e),u=c[1].data;for(let f=0;f<8;f++)e[s+f]=c[a+f]|u[a+f]}return e[s+8]=i,s}function Zc(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Qc(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Qa(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],a=s.type;if(r=2===a?s.declTNode:1===a?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Bo(n,e,t){!function qc(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Mn)&&(r=t[Mn]),null==r&&(r=t[Mn]=Wm++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function th(n,e,t){if(t&oe.Optional)return n;Co(e,"NodeInjector")}function Ya(n,e,t,r){if(t&oe.Optional&&void 0===r&&(r=null),0==(t&(oe.Self|oe.Host))){const i=n[9],s=_i(void 0);try{return i?i.get(e,r,t&oe.Optional):Dt(e,r,t&oe.Optional)}finally{_i(s)}}return th(r,e,t)}function Xc(n,e,t,r=oe.Default,i){if(null!==n){const s=function rh(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Mn)?n[Mn]:void 0;return"number"==typeof e?e>=0?255&e:nh:e}(t);if("function"==typeof s){if(!qf(e,n,r))return r&oe.Host?th(i,t,r):Ya(e,t,r,i);try{const a=s(r);if(null!=a||r&oe.Optional)return a;Co(t)}finally{Qf()}}else if("number"==typeof s){let a=null,c=Qc(n,e),u=-1,f=r&oe.Host?e[16][6]:null;for((-1===c||r&oe.SkipSelf)&&(u=-1===c?Qa(n,e):e[c+8],-1!==u&&eu(r,!1)?(a=e[1],c=Ei(u),e=Ir(u,e)):c=-1);-1!==c;){const p=e[1];if(ih(s,c,p.data)){const m=Xa(c,e,t,a,r,f);if(m!==Jc)return m}u=e[c+8],-1!==u&&eu(r,e[1].data[c+8]===f)&&ih(s,c,e)?(a=p,c=Ei(u),e=Ir(u,e)):c=-1}}}return Ya(e,t,r,i)}const Jc={};function nh(){return new Ws(Qe(),N())}function Xa(n,e,t,r,i,s){const a=e[1],c=a.data[n+8],p=Ja(c,a,t,null==r?es(c)&&qa:r!=a&&0!=(3&c.type),i&oe.Host&&s===c);return null!==p?$s(e,a,p,c):Jc}function Ja(n,e,t,r,i){const s=n.providerIndexes,a=e.data,c=1048575&s,u=n.directiveStart,p=s>>20,y=i?c+p:n.directiveEnd;for(let D=r?c:c+p;D<y;D++){const M=a[D];if(D<u&&t===M||D>=u&&M.type===t)return D}if(i){const D=a[u];if(D&&P(D)&&D.type===t)return u}return null}function $s(n,e,t,r){let i=n[t];const s=e.data;if(function Yf(n){return n instanceof ko}(i)){const a=i;a.resolving&&function Ef(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Se(-200,`Circular dependency in DI detected for ${n}${t}`)}(Nt(s[t]));const c=Za(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?_i(a.injectImpl):null;qf(n,r,oe.Default);try{i=n[t]=a.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Vm(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=xc(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&_i(u),Za(c),a.resolving=!1,Qf()}}return i}function ih(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function eu(n,e){return!(n&oe.Self||n&oe.Host&&e)}class Ws{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Xc(this._tNode,this._lView,e,r,t)}}const Ii="__parameters__";function Sr(n,e,t){return Sn(()=>{const r=function nu(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return c.annotation=a,c;function c(u,f,p){const m=u.hasOwnProperty(Ii)?u[Ii]:Object.defineProperty(u,Ii,{value:[]})[Ii];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(a),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class se{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kn=new se("AnalyzeForEntryComponents");function on(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),on(r,e)):e!==n&&e.push(r)}return e}function Bn(n,e){n.forEach(t=>Array.isArray(t)?Bn(t,e):e(t))}function Qr(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function tl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function an(n,e,t){let r=qs(n,e);return r>=0?n[1|r]=t:(r=~r,function su(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function nl(n,e){const t=qs(n,e);if(t>=0)return n[1|t]}function qs(n,e){return function ou(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),a=n[s<<t];if(e===a)return s<<t;a>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Zs={},Si="__NG_DI_FLAG__",Ti="ngTempTokenPath",fh=/\n/gm,Uo="__source",ph=je({provide:String,useValue:je});let Ai;function sl(n){const e=Ai;return Ai=n,e}function ol(n,e=oe.Default){if(void 0===Ai)throw new Se(203,"");return null===Ai?Dt(n,void 0,e):Ai.get(n,e&oe.Optional?null:void 0,e)}function K(n,e=oe.Default){return(function xf(){return yc}()||ol)(de(n),e)}const Vo=K;function al(n){const e=[];for(let t=0;t<n.length;t++){const r=de(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Se(900,"");let i,s=oe.Default;for(let a=0;a<r.length;a++){const c=r[a],u=Jm(c);"number"==typeof u?-1===u?i=c.token:s|=u:i=c}e.push(K(i,s))}else e.push(K(r))}return e}function us(n,e){return n[Si]=e,n.prototype[Si]=e,n}function Jm(n){return n[Si]}const jo=us(Sr("Inject",n=>({token:n})),-1),Xr=us(Sr("Optional"),8),Qs=us(Sr("SkipSelf"),4);let dl,hl;function Xs(n){var e;return(null===(e=function fl(){if(void 0===dl&&(dl=null,Le.trustedTypes))try{dl=Le.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return dl}())||void 0===e?void 0:e.createHTML(n))||n}function jt(n){var e;return(null===(e=function ir(){if(void 0===hl&&(hl=null,Le.trustedTypes))try{hl=Le.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return hl}())||void 0===e?void 0:e.createHTML(n))||n}class gl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function xi(n){return n instanceof gl?n.changingThisBreaksApplicationSecurity:n}function Wo(n,e){const t=function o_(n){return n instanceof gl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class zo{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Xs(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class uu{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Xs(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Xs(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const a=t.item(i).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&e.removeAttribute(a)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Th=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ah=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yn(n){return(n=String(n)).match(Th)||n.match(Ah)?n:"unsafe:"+n}function Ar(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Js(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Mh=Ar("area,br,col,hr,img,wbr"),xh=Ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ph=Ar("rp,rt"),fu=Js(Mh,Js(xh,Ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Js(Ph,Ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Js(Ph,xh)),hu=Ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pu=Ar("srcset"),gu=Js(hu,pu,Ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rh=Ar("script,style,template");class Fh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!fu.hasOwnProperty(t))return this.sanitizedSomething=!0,!Rh.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,c=a.toLowerCase();if(!gu.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=s.value;hu[c]&&(u=yn(u)),pu[c]&&(n=u,u=(n=String(n)).split(",").map(e=>yn(e.trim())).join(", ")),this.buf.push(" ",a,'="',Oh(u),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();fu.hasOwnProperty(t)&&!Mh.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Oh(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const c_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u_=/([^\#-~ |!])/g;function Oh(n){return n.replace(/&/g,"&amp;").replace(c_,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(u_,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ko;function mu(n){return"content"in n&&function f_(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ft=(()=>((ft=ft||{})[ft.NONE=0]="NONE",ft[ft.HTML=1]="HTML",ft[ft.STYLE=2]="STYLE",ft[ft.SCRIPT=3]="SCRIPT",ft[ft.URL=4]="URL",ft[ft.RESOURCE_URL=5]="RESOURCE_URL",ft))();function kh(n){const e=ds();return e?jt(e.sanitize(ft.HTML,n)||""):Wo(n,"HTML")?jt(xi(n)):function d_(n,e){let t=null;try{Ko=Ko||function cu(n){const e=new uu(n);return function Sh(){try{return!!(new window.DOMParser).parseFromString(Xs(""),"text/html")}catch(n){return!1}}()?new zo(e):e}(n);let r=e?String(e):"";t=Ko.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Ko.getInertBodyElement(r)}while(r!==s);return Xs((new Fh).sanitizeChildren(mu(t)||t))}finally{if(t){const r=mu(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(Oc(),le(n))}function St(n){const e=ds();return e?e.sanitize(ft.URL,n)||"":Wo(n,"URL")?xi(n):yn(le(n))}function ds(){const n=N();return n&&n[12]}const Hh="__ngContext__";function $t(n,e){n[Hh]=e}function vu(n){const e=function Go(n){return n[Hh]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function wu(n){return n.ngOriginalError}function $h(n,...e){n.error(...e)}class qo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function Du(n){return n&&n.ngErrorLogger||$h}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&wu(e);for(;t&&wu(t);)t=wu(t);return t||null}}const F_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Le))();function Mr(n){return n instanceof Function?n():n}var wn=(()=>((wn=wn||{})[wn.Important=1]="Important",wn[wn.DashCase=2]="DashCase",wn))();function bu(n,e){return undefined(n,e)}function Zo(n){const e=n[3];return Jn(e)?e[3]:e}function Su(n){return qh(n[13])}function Tu(n){return qh(n[4])}function qh(n){for(;null!==n&&!Jn(n);)n=n[4];return n}function Jr(n,e,t,r,i){if(null!=r){let s,a=!1;Jn(r)?s=r:vr(r)&&(a=!0,r=r[0]);const c=st(r);0===n&&null!==t?null==i?Fu(e,t,c):Ri(e,t,c,i||null,!0):1===n&&null!==t?Ri(e,t,c,i||null,!0):2===n?function rp(n,e,t){const r=vl(n,e);r&&function z_(n,e,t,r){we(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,c,a):3===n&&e.destroyNode(c),null!=s&&function G_(n,e,t,r,i){const s=t[7];s!==st(t)&&Jr(e,n,r,s,i);for(let c=10;c<t.length;c++){const u=t[c];Xo(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function Mu(n,e,t){if(we(n))return n.createElement(e,t);{const r=null!==t?function Rm(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function Qh(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Lc(i,-1)),t.splice(r,1)}function to(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Qh(i,r),e>0&&(n[t-1][4]=r[4]);const s=tl(n,10+e);!function H_(n,e){Xo(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Yh(n,e){if(!(256&e[2])){const t=e[11];we(t)&&t.destroyNode&&Xo(n,e,t,3,null,null),function j_(n){let e=n[13];if(!e)return _l(n[1],n);for(;e;){let t=null;if(vr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)vr(e)&&_l(e[1],e),e=e[3];null===e&&(e=n),vr(e)&&_l(e[1],e),t=e&&e[4]}e=t}}(e)}}function _l(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function xu(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof ko)){const s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const c=i[s[a]],u=s[a+1];try{u.call(c)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function Xh(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+1],c="function"==typeof a?a(e):st(e[a]),u=r[i=t[s+2]],f=t[s+3];"boolean"==typeof f?c.removeEventListener(t[s],u,f):f>=0?r[i=f]():r[i=-f].unsubscribe(),s+=2}else{const a=r[i=t[s+1]];t[s].call(a)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&we(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Jn(e[3])){t!==e[3]&&Qh(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function Pu(n,e,t){return function Ru(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Qn.None||i===Qn.Emulated)return null}return rn(r,t)}(n,e.parent,t)}function Ri(n,e,t,r,i){we(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function Fu(n,e,t){we(n)?n.appendChild(e,t):e.appendChild(t)}function Jh(n,e,t,r,i){null!==r?Ri(n,e,t,r,i):Fu(n,e,t)}function vl(n,e){return we(n)?n.parentNode(e):e.parentNode}let tp=function ep(n,e,t){return 40&n.type?rn(n,t):null};function wl(n,e,t,r){const i=Pu(n,r,e),s=e[11],c=function Qo(n,e,t){return tp(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)Jh(s,i,t[u],c,!1);else Jh(s,i,t,c,!1)}function Dl(n,e){if(null!==e){const t=e.type;if(3&t)return rn(e,n);if(4&t)return ku(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Dl(n,r);{const i=n[e.index];return Jn(i)?ku(-1,i):st(i)}}if(32&t)return bu(e,n)()||st(n[e.index]);{const r=np(n,e);return null!==r?Array.isArray(r)?r[0]:Dl(Zo(n[16]),r):Dl(n,e.next)}}return null}function np(n,e){return null!==e?n[16][6].projection[e.projection]:null}function ku(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Dl(r,i)}return e[7]}function Lu(n,e,t,r,i,s,a){for(;null!=t;){const c=r[t.index],u=t.type;if(a&&0===e&&(c&&$t(st(c),r),t.flags|=4),64!=(64&t.flags))if(8&u)Lu(n,e,t.child,r,i,s,!1),Jr(e,n,i,c,s);else if(32&u){const f=bu(t,r);let p;for(;p=f();)Jr(e,n,i,p,s);Jr(e,n,i,c,s)}else 16&u?ip(n,e,r,t,i,s):Jr(e,n,i,c,s);t=a?t.projectionNext:t.next}}function Xo(n,e,t,r,i,s){Lu(t,r,n.firstChild,e,i,s,!1)}function ip(n,e,t,r,i,s){const a=t[16],u=a[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)Jr(e,n,i,u[f],s);else Lu(n,e,u,a[3],i,s,!0)}function sp(n,e,t){we(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Dn(n,e,t){we(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function op(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const Fi="ng-template";function he(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==op(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ap(n){return 4===n.type&&n.value!==Fi}function cn(n,e,t){return e===(4!==n.type||t?n.value:Fi)}function ot(n,e,t){let r=4;const i=n.attrs||[],s=function Q_(n){for(let e=0;e<n.length;e++)if(Ut(n[e]))return e;return n.length}(i);let a=!1;for(let c=0;c<e.length;c++){const u=e[c];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!cn(n,u,t)||""===u&&1===e.length){if(sr(r))return!1;a=!0}}else{const f=8&r?u:e[++c];if(8&r&&null!==n.attrs){if(!he(n.attrs,f,t)){if(sr(r))return!1;a=!0}continue}const m=Oi(8&r?"class":u,i,ap(n),t);if(-1===m){if(sr(r))return!1;a=!0;continue}if(""!==f){let y;y=m>s?"":i[m+1].toLowerCase();const D=8&r?y:null;if(D&&-1!==op(D,f,0)||2&r&&f!==y){if(sr(r))return!1;a=!0}}}}else{if(!a&&!sr(r)&&!sr(u))return!1;if(a&&sr(u))continue;a=!1,r=u|1&r}}return sr(r)||a}function sr(n){return 0==(1&n)}function Oi(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const a=e[i];if(a===n)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function Y_(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function lp(n,e,t=!1){for(let r=0;r<e.length;r++)if(ot(n,e[r],t))return!0;return!1}function Cl(n,e){return n?":not("+e.trim()+")":e}function J_(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&r){const c=n[++t];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!sr(a)&&(e+=Cl(s,i),i=""),r=a,s=s||!sr(r);t++}return""!==i&&(e+=Cl(s,i)),e}const ne={};function ae(n){nt(Te(),N(),It()+n,Va())}function nt(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Oo(e,s,t)}else{const s=n.preOrderHooks;null!==s&&bi(e,s,0,t)}Ci(t)}function bl(n,e){return n<<17|e<<2}function or(n){return n>>17&32767}function Bu(n){return 2|n}function ti(n){return(131068&n)>>2}function El(n,e){return-131069&n|e<<2}function Jo(n){return 1|n}function gp(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const a=n.data[s];Vc(i),a.contentQueries(2,e[s],s)}}}function ea(n,e,t,r,i,s,a,c,u,f){const p=e.blueprint.slice();return p[0]=i,p[2]=140|r,Wf(p),p[3]=p[15]=n,p[8]=t,p[10]=a||n&&n[10],p[11]=c||n&&n[11],p[12]=u||n&&n[12]||null,p[9]=f||n&&n[9]||null,p[6]=s,p[16]=2==e.type?n[16]:p,p}function io(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Tl(n,e,t,r,i){const s=Kf(),a=Nc(),u=n.data[e]=function bp(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(a?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function Bm(){return J.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const a=function xo(){const n=J.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Dr(s,!0),s}function so(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ta(n,e,t){$a(e);try{const r=n.viewQuery;null!==r&&ra(1,r,t);const i=n.template;null!==i&&Zu(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&gp(n,e),n.staticViewQueries&&ra(2,n.viewQuery,t);const s=n.components;null!==s&&function sv(n,e){for(let t=0;t<e.length;t++)Cv(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Wa()}}function oo(n,e,t,r){const i=e[2];if(256==(256&i))return;$a(e);const s=Va();try{Wf(e),function Cr(n){return J.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Zu(n,e,t,2,r);const a=3==(3&i);if(!s)if(a){const f=n.preOrderCheckHooks;null!==f&&Oo(e,f,null)}else{const f=n.preOrderHooks;null!==f&&bi(e,f,0,null),br(e,0)}if(function Dv(n){for(let e=Su(n);null!==e;e=Tu(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Lc(s,1),i[2]|=1024}}}(e),function wv(n){for(let e=Su(n);null!==e;e=Tu(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];kc(r)&&oo(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&gp(n,e),!s)if(a){const f=n.contentCheckHooks;null!==f&&Oo(e,f)}else{const f=n.contentHooks;null!==f&&bi(e,f,1),br(e,1)}!function iv(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ci(~i);else{const s=i,a=t[++r],c=t[++r];Hm(a,s),c(2,e[s])}}}finally{Ci(-1)}}(n,e);const c=n.components;null!==c&&function mp(n,e){for(let t=0;t<e.length;t++)nd(n,e[t])}(e,c);const u=n.viewQuery;if(null!==u&&ra(2,u,r),!s)if(a){const f=n.viewCheckHooks;null!==f&&Oo(e,f)}else{const f=n.viewHooks;null!==f&&bi(e,f,2),br(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Lc(e[3],-1))}finally{Wa()}}function _p(n,e,t,r){const i=e[10],s=!Va(),a=is(e);try{s&&!a&&i.begin&&i.begin(),a&&ta(n,e,r),oo(n,e,t,r)}finally{s&&!a&&i.end&&i.end()}}function Zu(n,e,t,r,i){const s=It(),a=2&r;try{Ci(-1),a&&e.length>20&&nt(n,e,20,Va()),t(r,i)}finally{Ci(s)}}function Qu(n,e,t){!Mo()||(function hv(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||js(t,e),$t(r,e);const a=t.initialInputs;for(let c=i;c<s;c++){const u=n.data[c],f=P(u);f&&vv(e,t,u);const p=$s(e,n,c,t);$t(p,e),null!==a&&td(0,c-i,p,u,0,a),f&&(Ht(t.index,e)[8]=p)}}(n,e,t,rn(t,e)),128==(128&t.flags)&&function pv(n,e,t){const r=t.directiveStart,i=t.directiveEnd,a=t.index,c=function ss(){return J.lFrame.currentDirectiveIndex}();try{Ci(a);for(let u=r;u<i;u++){const f=n.data[u],p=e[u];Hc(u),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&Sp(f,p)}}finally{Ci(-1),Hc(c)}}(n,e,t))}function Yu(n,e,t=rn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],c=-1===a?t(e,n):n[a];n[i++]=c}}}function yp(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ii(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ii(n,e,t,r,i,s,a,c,u,f){const p=20+r,m=p+i,y=function ov(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ne);return t}(p,m),D="function"==typeof f?f():f;return y[1]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1}}function Cp(n,e,t,r){const i=Fp(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Op(n).push(r,i.length-1))}function Xu(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Ju(n,e,t,r){let i=!1;if(Mo()){const s=function gv(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const a=r[s];lp(t,a.selectors,!1)&&(i||(i=[]),Bo(js(t,e),n,a.type),P(a)?(Tp(n,t),i.unshift(a)):i.push(a))}return i}(n,e,t),a=null===r?null:{"":-1};if(null!==s){i=!0,Ap(t,n.data.length,s.length);for(let p=0;p<s.length;p++){const m=s[p];m.providersResolver&&m.providersResolver(m)}let c=!1,u=!1,f=so(n,e,s.length,null);for(let p=0;p<s.length;p++){const m=s[p];t.mergedAttrs=Ga(t.mergedAttrs,m.hostAttrs),Mp(n,t,e,f,m),_v(f,m,a),null!==m.contentQueries&&(t.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=128);const y=m.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),c=!0),!u&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),f++}!function av(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,a=[];let c=null,u=null;for(let f=e.directiveStart;f<r;f++){const p=i[f],m=p.inputs,y=null===s||ap(e)?null:xp(m,s);a.push(y),c=Xu(m,f,c),u=Xu(p.outputs,f,u)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=16),c.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t)}a&&function mv(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Se(-301,!1);r.push(e[i],s)}}}(t,r,a)}return t.mergedAttrs=Ga(t.mergedAttrs,t.attrs),i}function Ip(n,e,t,r,i,s){const a=s.hostBindings;if(a){let c=n.hostBindingOpCodes;null===c&&(c=n.hostBindingOpCodes=[]);const u=~e.index;(function fv(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(c)!=u&&c.push(u),c.push(r,i,a)}}function Sp(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Tp(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function _v(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;P(e)&&(t[""]=n)}}function Ap(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Mp(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=yr(i.type)),a=new ko(s,P(i),null);n.blueprint[r]=a,t[r]=a,Ip(n,e,0,r,so(n,t,i.hostVars,ne),i)}function vv(n,e,t){const r=rn(e,n),i=yp(t),s=n[10],a=Ot(n,ea(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=a}function xr(n,e,t,r,i,s){const a=rn(n,e);!function ed(n,e,t,r,i,s,a){if(null==s)we(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const c=null==a?le(s):a(s,r||"",i);we(n)?n.setAttribute(e,i,c,t):t?e.setAttributeNS(t,i,c):e.setAttribute(i,c)}}(e[11],a,s,n.value,t,r,i)}function td(n,e,t,r,i,s){const a=s[e];if(null!==a){const c=r.setInput;for(let u=0;u<a.length;){const f=a[u++],p=a[u++],m=a[u++];null!==c?r.setInput(t,m,f,p):t[p]=m}}}function xp(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Pp(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function nd(n,e){const t=Ht(e,n);if(kc(t)){const r=t[1];80&t[2]?oo(r,t,r.template,t[8]):t[5]>0&&rd(t)}}function rd(n){for(let r=Su(n);null!==r;r=Tu(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const a=s[1];oo(a,s,a.template,s[8])}else s[5]>0&&rd(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Ht(t[r],n);kc(i)&&i[5]>0&&rd(i)}}function Cv(n,e){const t=Ht(e,n),r=t[1];(function bv(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),ta(r,t,t[8])}function Ot(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function na(n){for(;n;){n[2]|=64;const e=Zo(n);if(x(n)&&!e)return n;n=e}return null}function sd(n,e,t){const r=e[10];r.begin&&r.begin();try{oo(n,e,n.template,t)}catch(i){throw kp(e,i),i}finally{r.end&&r.end()}}function Rp(n){!function id(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=vu(t),i=r[1];_p(i,r,i.template,t)}}(n[8])}function ra(n,e,t){Vc(0),e(n,t)}const Sv=(()=>Promise.resolve(null))();function Fp(n){return n[7]||(n[7]=[])}function Op(n){return n.cleanup||(n.cleanup=[])}function kp(n,e){const t=n[9],r=t?t.get(qo,null):null;r&&r.handleError(e)}function Lp(n,e,t,r,i){for(let s=0;s<t.length;){const a=t[s++],c=t[s++],u=e[a],f=n.data[a];null!==f.setInput?f.setInput(u,i,r,c):u[c]=i}}function si(n,e,t){const r=yi(e,n);!function Zh(n,e,t){we(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function ao(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const c=e[a];"number"==typeof c?s=c:1==s?i=Ma(i,c):2==s&&(r=Ma(r,c+": "+e[++a]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const cd=new se("INJECTOR",-1);class Np{get(e,t=Zs){if(t===Zs){const r=new Error(`NullInjectorError: No provider for ${ke(e)}!`);throw r.name="NullInjectorError",r}return t}}const ud=new se("Set Injector scope."),ia={},Av={};let dd;function Bp(){return void 0===dd&&(dd=new Np),dd}function Hp(n,e=null,t=null,r){const i=Up(n,e,t,r);return i._resolveInjectorDefTypes(),i}function Up(n,e=null,t=null,r){return new Mv(n,t,e||Bp(),r)}class Mv{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Bn(t,c=>this.processProvider(c,e,t)),Bn([e],c=>this.processInjectorType(c,[],s)),this.records.set(cd,lo(void 0,this));const a=this.records.get(ud);this.scope=null!=a?a.value:null,this.source=i||("object"==typeof e?null:ke(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Zs,r=oe.Default){this.assertNotDestroyed();const i=sl(this),s=_i(void 0);try{if(!(r&oe.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function h(n){return"function"==typeof n||"object"==typeof n&&n instanceof se}(e)&&_c(e);c=u&&this.injectableDefInScope(u)?lo(fd(e),ia):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&oe.Self?Bp():this.parent).get(e,t=r&oe.Optional&&t===Zs?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ti]=a[Ti]||[]).unshift(ke(e)),i)throw a;return function gh(n,e,t,r){const i=n[Ti];throw e[Uo]&&i.unshift(e[Uo]),n.message=function Yr(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=ke(e);if(Array.isArray(e))i=e.map(ke).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];s.push(a+":"+("string"==typeof c?JSON.stringify(c):ke(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(fh,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ti]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{_i(s),sl(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ke(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processInjectorType(e,t,r){if(!(e=de(e)))return!1;let i=$e(e);const s=null==i&&e.ngModule||void 0,a=void 0===s?e:s,c=-1!==r.indexOf(a);if(void 0!==s&&(i=$e(s)),null==i)return!1;if(null!=i.imports&&!c){let p;r.push(a);try{Bn(i.imports,m=>{this.processInjectorType(m,t,r)&&(void 0===p&&(p=[]),p.push(m))})}finally{}if(void 0!==p)for(let m=0;m<p.length;m++){const{ngModule:y,providers:D}=p[m];Bn(D,M=>this.processProvider(M,y,D||We))}}this.injectorDefTypes.add(a);const u=yr(a)||(()=>new a);this.records.set(a,lo(u,ia));const f=i.providers;if(null!=f&&!c){const p=e;Bn(f,m=>this.processProvider(m,p,f))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=co(e=de(e))?e:de(e&&e.provide);const s=function Pv(n,e,t){return jp(n)?lo(void 0,n.useValue):lo(Vp(n),ia)}(e);if(co(e)||!0!==e.multi)this.records.get(i);else{let a=this.records.get(i);a||(a=lo(void 0,ia,!0),a.factory=()=>al(a.multi),this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===ia&&(t.value=Av,t.value=t.factory()),"object"==typeof t.value&&t.value&&function d(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=de(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function fd(n){const e=_c(n),t=null!==e?e.factory:yr(n);if(null!==t)return t;if(n instanceof se)throw new Se(204,!1);if(n instanceof Function)return function xv(n){const e=n.length;if(e>0)throw function Hn(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new Se(204,!1);const t=function Em(n){const e=n&&(n[Ra]||n[Mf]);if(e){const t=function Ze(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Se(204,!1)}function Vp(n,e,t){let r;if(co(n)){const i=de(n);return yr(i)||fd(i)}if(jp(n))r=()=>de(n.useValue);else if(function Fv(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...al(n.deps||[]));else if(function Rv(n){return!(!n||!n.useExisting)}(n))r=()=>K(de(n.useExisting));else{const i=de(n&&(n.useClass||n.provide));if(!function l(n){return!!n.deps}(n))return yr(i)||fd(i);r=()=>new i(...al(n.deps))}return r}function lo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jp(n){return null!==n&&"object"==typeof n&&ph in n}function co(n){return"function"==typeof n}let g=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return Hp({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return Hp({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Zs,n.NULL=new Np,n.\u0275prov=pe({token:n,providedIn:"any",factory:()=>K(cd)}),n.__NG_ELEMENT_ID__=-1,n})();function TS(n,e){Fo(vu(n)[1],Qe())}let $p=null;function Al(){if(!$p){const n=Le.Symbol;if(n&&n.iterator)$p=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&($p=r)}}}return $p}function hd(n){return!!Lv(n)&&(Array.isArray(n)||!(n instanceof Map)&&Al()in n)}function Lv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ni(n,e,t){return n[e]=t}function fn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ml(n,e,t,r){const i=N();return fn(i,Hs(),e)&&(Te(),xr(tt(),i,n,e,t,r)),Ml}function Fr(n,e,t,r,i,s,a,c){const u=N(),f=Te(),p=n+20,m=f.firstCreatePass?function BS(n,e,t,r,i,s,a,c,u){const f=e.consts,p=io(e,n,4,a||null,wi(f,c));Ju(e,t,p,wi(f,u)),Fo(e,p);const m=p.tViews=ii(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}(p,f,u,e,t,r,i,s,a):f.data[p];Dr(m,!1);const y=u[11].createComment("");wl(f,u,y,m),$t(y,u),Ot(u,u[p]=Pp(y,u,y,m)),I(m)&&Qu(f,u,m),null!=a&&Yu(u,m,c)}function Nv(n){return wr(function Nm(){return J.lFrame.contextLView}(),20+n)}function z(n,e=oe.Default){const t=N();return null===t?K(n,e):Xc(Qe(),t,de(n),e)}function jv(){throw new Error("invalid")}function ht(n,e,t){const r=N();return fn(r,Hs(),e)&&function Cn(n,e,t,r,i,s,a,c){const u=rn(e,t);let p,f=e.inputs;!c&&null!=f&&(p=f[r])?(Lp(n,t,p,r,i),es(e)&&function cv(n,e){const t=Ht(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function lv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=a?a(i,e.value||"",r):i,we(s)?s.setProperty(u,r,i):No(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(Te(),tt(),r,n,e,r[11],t,!1),ht}function $v(n,e,t,r,i){const a=i?"class":"style";Lp(n,t,e.inputs[a],a,r)}function lt(n,e,t,r){const i=N(),s=Te(),a=20+n,c=i[11],u=i[a]=Mu(c,e,function On(){return J.lFrame.currentNamespace}()),f=s.firstCreatePass?function sT(n,e,t,r,i,s,a){const c=e.consts,f=io(e,n,2,i,wi(c,s));return Ju(e,t,f,wi(c,a)),null!==f.attrs&&ao(f,f.attrs,!1),null!==f.mergedAttrs&&ao(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(a,s,i,0,e,t,r):s.data[a];Dr(f,!0);const p=f.mergedAttrs;null!==p&&Lo(c,u,p);const m=f.classes;null!==m&&Dn(c,u,m);const y=f.styles;return null!==y&&sp(c,u,y),64!=(64&f.flags)&&wl(s,i,u,f),0===function zf(){return J.lFrame.elementDepthCount}()&&$t(u,i),function _(){J.lFrame.elementDepthCount++}(),I(f)&&(Qu(s,i,f),function vp(n,e,t){if(bc(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}}(s,f,i)),null!==r&&Yu(i,f),lt}function ct(){let n=Qe();Nc()?function Bc(){J.lFrame.isParent=!1}():(n=n.parent,Dr(n,!1));const e=n;!function Bs(){J.lFrame.elementDepthCount--}();const t=Te();return t.firstCreatePass&&(Fo(t,n),bc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Er(n){return 0!=(16&n.flags)}(e)&&$v(t,e,N(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Kc(n){return 0!=(32&n.flags)}(e)&&$v(t,e,N(),e.stylesWithoutHost,!1),ct}function Or(n,e,t,r){return lt(n,e,t,r),ct(),Or}function gd(){return N()}function Kp(n){return!!n&&"function"==typeof n.then}function bC(n){return!!n&&"function"==typeof n.subscribe}const EC=bC;function hn(n,e,t,r){const i=N(),s=Te(),a=Qe();return function SC(n,e,t,r,i,s,a,c){const u=I(r),p=n.firstCreatePass&&Op(n),m=e[8],y=Fp(e);let D=!0;if(3&r.type||c){const L=rn(r,e),H=c?c(L):L,R=y.length,$=c?ie=>c(st(ie[r.index])):r.index;if(we(t)){let ie=null;if(!c&&u&&(ie=function aT(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===t&&i[s+1]===r){const c=e[7],u=i[s+2];return c.length>u?c[u]:null}"string"==typeof a&&(s+=2)}return null}(n,e,i,r.index)),null!==ie)(ie.__ngLastListenerFn__||ie).__ngNextListenerFn__=s,ie.__ngLastListenerFn__=s,D=!1;else{s=Kv(r,e,m,s,!1);const Me=t.listen(H,i,s);y.push(s,Me),p&&p.push(i,$,R,R+1)}}else s=Kv(r,e,m,s,!0),H.addEventListener(i,s,a),y.push(s),p&&p.push(i,$,R,a)}else s=Kv(r,e,m,s,!1);const M=r.outputs;let F;if(D&&null!==M&&(F=M[i])){const L=F.length;if(L)for(let H=0;H<L;H+=2){const ur=e[F[H]][F[H+1]].subscribe(s),ma=y.length;y.push(s,ur),p&&p.push(i,r.index,ma,-(ma+1))}}}(s,i,i[11],a,n,e,!!t,r),hn}function TC(n,e,t,r){try{return!1!==t(r)}catch(i){return kp(n,i),!1}}function Kv(n,e,t,r,i){return function s(a){if(a===Function)return r;const c=2&n.flags?Ht(n.index,e):e;0==(32&e[2])&&na(c);let u=TC(e,0,r,a),f=s.__ngNextListenerFn__;for(;f;)u=TC(e,0,f,a)&&u,f=f.__ngNextListenerFn__;return i&&!1===u&&(a.preventDefault(),a.returnValue=!1),u}}function pt(n=1){return function Wc(n){return(J.lFrame.contextLView=function Po(n,e){for(;n>0;)e=e[15],n--;return e}(n,J.lFrame.contextLView))[8]}(n)}function NC(n,e,t,r,i){const s=n[t+1],a=null===e;let c=r?or(s):ti(s),u=!1;for(;0!==c&&(!1===u||a);){const p=n[c+1];hT(n[c],e)&&(u=!0,n[c+1]=r?Jo(p):Bu(p)),c=r?or(p):ti(p)}u&&(n[t+1]=r?Bu(s):Jo(s))}function hT(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&qs(n,e)>=0}function fs(n,e,t){return ai(n,e,t,!1),fs}function Gp(n,e){return ai(n,e,null,!0),Gp}function ai(n,e,t,r){const i=N(),s=Te(),a=function qr(n){const e=J.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function zC(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[It()],a=function WC(n,e){return e>=n.expandoStartIndex}(n,t);(function ZC(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!a&&(e=!1),e=function CT(n,e,t,r){const i=function Uc(n){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=md(t=qv(null,n,e,t,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==i)if(t=qv(i,n,e,t,r),null===s){let u=function bT(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ti(r))return n[or(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=qv(null,n,e,u[1],r),u=md(u,e.attrs,r),function ET(n,e,t,r){n[or(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function IT(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=md(r,n[s].hostAttrs,t);return md(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function dT(n,e,t,r,i,s){let a=s?e.classBindings:e.styleBindings,c=or(a),u=ti(a);n[r]=t;let p,f=!1;if(Array.isArray(t)){const m=t;p=m[1],(null===p||qs(m,p)>0)&&(f=!0)}else p=t;if(i)if(0!==u){const y=or(n[c+1]);n[r+1]=bl(y,c),0!==y&&(n[y+1]=El(n[y+1],r)),n[c+1]=function ev(n,e){return 131071&n|e<<17}(n[c+1],r)}else n[r+1]=bl(c,0),0!==c&&(n[c+1]=El(n[c+1],r)),c=r;else n[r+1]=bl(u,0),0===c?c=r:n[u+1]=El(n[u+1],r),u=r;f&&(n[r+1]=Bu(n[r+1])),NC(n,p,r,!0),NC(n,p,r,!1),function fT(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&qs(s,e)>=0&&(t[r+1]=Jo(t[r+1]))}(e,p,n,r,s),a=bl(c,u),s?e.classBindings=a:e.styleBindings=a}(i,s,e,t,a,r)}}(s,n,a,r),e!==ne&&fn(i,a,e)&&function GC(n,e,t,r,i,s,a,c){if(!(3&e.type))return;const u=n.data,f=u[c+1];qp(function no(n){return 1==(1&n)}(f)?qC(u,e,t,i,ti(f),a):void 0)||(qp(s)||function up(n){return 2==(2&n)}(f)&&(s=qC(u,null,t,i,c,a)),function q_(n,e,t,r,i){const s=we(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let a=-1===r.indexOf("-")?void 0:wn.DashCase;if(null==i)s?n.removeStyle(t,r,a):t.style.removeProperty(r);else{const c="string"==typeof i&&i.endsWith("!important");c&&(i=i.slice(0,-10),a|=wn.Important),s?n.setStyle(t,r,i,a):t.style.setProperty(r,i,c?"important":"")}}}(r,a,yi(It(),t),i,s))}(s,s.data[It()],i,i[11],n,i[a+1]=function AT(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ke(xi(n)))),n}(e,t),r,a)}function qv(n,e,t,r,i){let s=null;const a=t.directiveEnd;let c=t.directiveStylingLast;for(-1===c?c=t.directiveStart:c++;c<a&&(s=e[c],r=md(r,s.hostAttrs,i),s!==n);)c++;return null!==n&&(t.directiveStylingLast=c),r}function md(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),an(n,a,!!t||e[++s]))}return void 0===n?null:n}function qC(n,e,t,r,i,s){const a=null===e;let c;for(;i>0;){const u=n[i],f=Array.isArray(u),p=f?u[1]:u,m=null===p;let y=t[i+1];y===ne&&(y=m?We:void 0);let D=m?nl(y,r):p===r?y:void 0;if(f&&!qp(D)&&(D=nl(u,r)),qp(D)&&(c=D,a))return c;const M=n[i+1];i=a?or(M):ti(M)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(c=nl(u,r))}return c}function qp(n){return void 0!==n}function oa(n,e=""){const t=N(),r=Te(),i=n+20,s=r.firstCreatePass?io(r,i,1,e,null):r.data[i],a=t[i]=function Au(n,e){return we(n)?n.createText(e):n.createTextNode(e)}(t[11],e);wl(r,t,a,s),Dr(s,!1)}function _d(n,e,t){const r=N(),i=function Pl(n,e,t,r){return fn(n,Hs(),t)?e+le(t)+r:ne}(r,n,e,t);return i!==ne&&si(r,It(),i),_d}const Zp="en-US";let vb=Zp;function Yv(n,e,t,r,i){if(n=de(n),Array.isArray(n))for(let s=0;s<n.length;s++)Yv(n[s],e,t,r,i);else{const s=Te(),a=N();let c=co(n)?n:de(n.provide),u=Vp(n);const f=Qe(),p=1048575&f.providerIndexes,m=f.directiveStart,y=f.providerIndexes>>20;if(co(n)||!n.multi){const D=new ko(u,i,z),M=Jv(c,e,i?p:p+y,m);-1===M?(Bo(js(f,a),s,c),Xv(s,n,e.length),e.push(c),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),t.push(D),a.push(D)):(t[M]=D,a[M]=D)}else{const D=Jv(c,e,p+y,m),M=Jv(c,e,p,p+y),F=D>=0&&t[D],L=M>=0&&t[M];if(i&&!L||!i&&!F){Bo(js(f,a),s,c);const H=function GA(n,e,t,r,i){const s=new ko(n,t,z);return s.multi=[],s.index=e,s.componentProviders=0,jb(s,i,r&&!t),s}(i?KA:zA,t.length,i,r,u);!i&&L&&(t[M].providerFactory=H),Xv(s,n,e.length,0),e.push(c),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),t.push(H),a.push(H)}else Xv(s,n,D>-1?D:M,jb(t[i?M:D],u,!i&&r));!i&&r&&L&&t[M].componentProviders++}}}function Xv(n,e,t,r){const i=co(e),s=function o(n){return!!n.useClass}(e);if(i||s){const u=(s?de(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const p=f.indexOf(t);-1===p?f.push(t,[r,u]):f[p+1].push(r,u)}else f.push(t,u)}}}function jb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Jv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function zA(n,e,t,r){return ey(this.multi,[])}function KA(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=$s(t,t[1],this.providerFactory.index,r);s=c.slice(0,a),ey(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],ey(i,s);return s}function ey(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function $b(n,e=[]){return t=>{t.providersResolver=(r,i)=>function WA(n,e,t){const r=Te();if(r.firstCreatePass){const i=P(n);Yv(t,r.data,r.blueprint,i,!0),Yv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Wb{}class QA{resolveComponentFactory(e){throw function ZA(n){const e=Error(`No component factory found for ${ke(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Cd=(()=>{class n{}return n.NULL=new QA,n})();function YA(){return $l(Qe(),N())}function $l(n,e){return new Ui(rn(n,e))}let Ui=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=YA,n})();function XA(n){return n instanceof Ui?n.nativeElement:n}class Kb{}let eg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function eM(){const n=N(),t=Ht(Qe().index,n);return function JA(n){return n[11]}(vr(t)?t:n)}(),n})(),tM=(()=>{class n{}return n.\u0275prov=pe({token:n,providedIn:"root",factory:()=>null}),n})();class tg{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nM=new tg("13.2.5"),ty={};function ng(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(st(s)),Jn(s))for(let c=10;c<s.length;c++){const u=s[c],f=u[1].firstChild;null!==f&&ng(u[1],u,f,r)}const a=t.type;if(8&a)ng(n,e,t.child,r);else if(32&a){const c=bu(t,e);let u;for(;u=c();)r.push(u)}else if(16&a){const c=np(e,t);if(Array.isArray(c))r.push(...c);else{const u=Zo(e[16]);ng(u[1],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}class bd{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ng(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Jn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(to(e,r),tl(t,r))}this._attachedToViewContainer=!1}Yh(this._lView[1],this._lView)}onDestroy(e){Cp(this._lView[1],this._lView,null,e)}markForCheck(){na(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){sd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function od(n,e,t){ja(!0);try{sd(n,e,t)}finally{ja(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Se(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function V_(n,e){Xo(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Se(902,"");this._appRef=e}}class rM extends bd{constructor(e){super(e),this._view=e}detectChanges(){Rp(this._view)}checkNoChanges(){!function Iv(n){ja(!0);try{Rp(n)}finally{ja(!1)}}(this._view)}get context(){return null}}class Gb extends Cd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Rt(e);return new ny(t,this.ngModule)}}function qb(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class ny extends Wb{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function ei(n){return n.map(J_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return qb(this.componentDef.inputs)}get outputs(){return qb(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function sM(n,e){return{get:(t,r,i)=>{const s=n.get(t,ty,i);return s!==ty||r===ty?s:e.get(t,r,i)}}}(e,i.injector):e,a=s.get(Kb,jf),c=s.get(tM,null),u=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function Dp(n,e,t){if(we(n))return n.selectRootElement(e,t===Qn.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Mu(a.createRenderer(null,this.componentDef),f,function iM(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),m=this.componentDef.onPush?576:528,y=function eC(n,e){return{components:[],scheduler:n||F_,clean:Sv,playerHandler:e||null,flags:0}}(),D=ii(0,null,null,1,0,null,null,null,null,null),M=ea(null,D,y,m,null,null,a,u,c,s);let F,L;$a(M);try{const H=function XD(n,e,t,r,i,s){const a=t[1];t[20]=n;const u=io(a,20,2,"#host",null),f=u.mergedAttrs=e.hostAttrs;null!==f&&(ao(u,f,!0),null!==n&&(Lo(i,n,f),null!==u.classes&&Dn(i,n,u.classes),null!==u.styles&&sp(i,n,u.styles)));const p=r.createRenderer(n,e),m=ea(t,yp(e),null,e.onPush?64:16,t[20],u,r,p,s||null,null);return a.firstCreatePass&&(Bo(js(u,t),a,e.type),Tp(a,u),Ap(u,t.length,1)),Ot(t,m),t[20]=m}(p,this.componentDef,M,a,u);if(p)if(r)Lo(u,p,["ng-version",nM.full]);else{const{attrs:R,classes:$}=function cp(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!sr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);R&&Lo(u,p,R),$&&$.length>0&&Dn(u,p,$.join(" "))}if(L=rs(D,20),void 0!==t){const R=L.projection=[];for(let $=0;$<this.ngContentSelectors.length;$++){const ie=t[$];R.push(null!=ie?Array.from(ie):null)}}F=function JD(n,e,t,r,i){const s=t[1],a=function dv(n,e,t){const r=Qe();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Mp(n,r,e,so(n,e,1,null),t));const i=$s(e,n,r.directiveStart,r);$t(i,e);const s=rn(r,e);return s&&$t(s,e),i}(s,t,e);if(r.components.push(a),n[8]=a,i&&i.forEach(u=>u(a,e)),e.contentQueries){const u=Qe();e.contentQueries(1,a,u.directiveStart)}const c=Qe();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ci(c.index),Ip(t[1],c,0,c.directiveStart,c.directiveEnd,e),Sp(e,a)),a}(H,this.componentDef,M,y,[TS]),ta(D,M,null)}finally{Wa()}return new aM(this.componentType,F,$l(L,M),M,L)}}class aM extends class qA{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new rM(i),this.componentType=e}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class hs{}class Zb{}const Wl=new Map;class Xb extends hs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Gb(this);const r=mn(e);this._bootstrapComponents=Mr(r.bootstrap),this._r3Injector=Up(e,t,[{provide:hs,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],ke(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=g.THROW_IF_NOT_FOUND,r=oe.Default){return e===g||e===hs||e===cd?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ry extends Zb{constructor(e){super(),this.moduleType=e,null!==mn(e)&&function cM(n){const e=new Set;!function t(r){const i=mn(r,!0),s=i.id;null!==s&&(function Qb(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ke(e)} vs ${ke(e.name)}`)}(s,Wl.get(s),r),Wl.set(s,r));const a=Mr(i.imports);for(const c of a)e.has(c)||(e.add(c),t(c))}(n)}(e)}create(e){return new Xb(this.moduleType,e)}}function eE(n,e,t,r,i,s){const a=e+t;return fn(n,a,i)?Ni(n,a+1,s?r.call(s,i):r(i)):function Ed(n,e){const t=n[e];return t===ne?void 0:t}(n,a+1)}function iy(n,e){const t=Te();let r;const i=n+20;t.firstCreatePass?(r=function yM(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=yr(r.type)),a=_i(z);try{const c=Za(!1),u=s();return Za(c),function HS(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,N(),i,u),u}finally{_i(a)}}function sy(n,e,t){const r=n+20,i=N(),s=wr(i,r);return function Id(n,e){return n[1].data[e].pure}(i,r)?eE(i,Zt(),e,s.transform,t,s):s.transform(t)}function oy(n){return e=>{setTimeout(n,void 0,e)}}const rt=class EM extends Oe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,a;let c=e,u=t||(()=>null),f=r;if(e&&"object"==typeof e){const m=e;c=null===(i=m.next)||void 0===i?void 0:i.bind(m),u=null===(s=m.error)||void 0===s?void 0:s.bind(m),f=null===(a=m.complete)||void 0===a?void 0:a.bind(m)}this.__isAsync&&(u=oy(u),c&&(c=oy(c)),f&&(f=oy(f)));const p=super.subscribe({next:c,error:u,complete:f});return e instanceof mt&&e.add(p),p}};function IM(){return this._results[Al()]()}class ay{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Al(),r=ay.prototype;r[t]||(r[t]=IM)}get changes(){return this._changes||(this._changes=new rt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=on(e);(this._changesDetected=!function ch(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ps=(()=>{class n{}return n.__NG_ELEMENT_ID__=AM,n})();const SM=ps,TM=class extends SM{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=ea(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),ta(t,r,e),new bd(r)}};function AM(){return rg(Qe(),N())}function rg(n,e){return 4&n.type?new TM(e,n,$l(n,e)):null}let kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=MM,n})();function MM(){return aE(Qe(),N())}const xM=kr,sE=class extends xM{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return $l(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qa(this._hostTNode,this._hostLView);if(Jf(e)){const t=Ir(e,this._hostLView),r=Ei(e);return new Ws(t[1].data[r+8],t)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=oE(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const a=e&&!function Gs(n){return"function"==typeof n}(e);let c;if(a)c=t;else{const m=t||{};c=m.index,r=m.injector,i=m.projectableNodes,s=m.ngModuleRef}const u=a?e:new ny(Rt(e)),f=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(a?f:this.parentInjector).get(hs,null);y&&(s=y)}const p=u.create(f,i,void 0,s);return this.insert(p.hostView,c),p}insert(e,t){const r=e._lView,i=r[1];if(function Lm(n){return Jn(n[3])}(r)){const p=this.indexOf(e);if(-1!==p)this.detach(p);else{const m=r[3],y=new sE(m,m[6],m[3]);y.detach(y.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;!function $_(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Qr(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const a=e[17];null!==a&&t!==a&&function W_(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(a,e);const c=e[19];null!==c&&c.insertView(n),e[2]|=128}(i,r,a,s);const c=ku(s,a),u=r[11],f=vl(u,a[7]);return null!==f&&function U_(n,e,t,r,i,s){r[0]=i,r[6]=e,Xo(n,r,t,1,i,s)}(i,a[6],u,r,f,c),e.attachToViewContainerRef(),Qr(ly(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=oE(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=to(this._lContainer,t);r&&(tl(ly(this._lContainer),t),Yh(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=to(this._lContainer,t);return r&&null!=tl(ly(this._lContainer),t)?new bd(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function oE(n){return n[8]}function ly(n){return n[8]||(n[8]=[])}function aE(n,e){let t;const r=e[n.index];if(Jn(r))t=r;else{let i;if(8&n.type)i=st(r);else{const s=e[11];i=s.createComment("");const a=rn(n,e);Ri(s,vl(s,a),i,function yl(n,e){return we(n)?n.nextSibling(e):e.nextSibling}(s,a),!1)}e[n.index]=t=Pp(r,e,i,n),Ot(e,t)}return new sE(t,n,e)}class cy{constructor(e){this.queryList=e,this.matches=null}clone(){return new cy(this.queryList)}setDirty(){this.queryList.setDirty()}}class uy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const a=t.getByIndex(s);i.push(this.queries[a.indexInDeclarationView].clone())}return new uy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==fE(e,t).matches&&this.queries[t].setDirty()}}class lE{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class dy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new dy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class fy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new fy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,FM(t,s)),this.matchTNodeWithReadOption(e,t,Ja(t,e,s,!1,!1))}else r===ps?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ja(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ui||i===kr||i===ps&&4&t.type)this.addMatch(t.index,-2);else{const s=Ja(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function FM(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function kM(n,e,t,r){return-1===t?function OM(n,e){return 11&n.type?$l(n,e):4&n.type?rg(n,e):null}(e,n):-2===t?function LM(n,e,t){return t===Ui?$l(e,n):t===ps?rg(e,n):t===kr?aE(e,n):void 0}(n,e,r):$s(n,n[1],t,e)}function cE(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,a=t.matches,c=[];for(let u=0;u<a.length;u+=2){const f=a[u];c.push(f<0?null:kM(e,s[f],a[u+1],t.metadata.read))}i.matches=c}return i.matches}function hy(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const a=cE(n,e,i,t);for(let c=0;c<s.length;c+=2){const u=s[c];if(u>0)r.push(a[c/2]);else{const f=s[c+1],p=e[-u];for(let m=10;m<p.length;m++){const y=p[m];y[17]===y[3]&&hy(y[1],y,f,r)}if(null!==p[9]){const m=p[9];for(let y=0;y<m.length;y++){const D=m[y];hy(D[1],D,f,r)}}}}}return r}function Vi(n){const e=N(),t=Te(),r=Fn();Vc(r+1);const i=fE(t,r);if(n.dirty&&is(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?hy(t,e,r,[]):cE(t,e,i,r);n.reset(s,XA),n.notifyOnChanges()}return!0}return!1}function Sd(n,e,t){const r=Te();r.firstCreatePass&&(dE(r,new lE(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),uE(r,N(),e)}function zl(n,e,t,r){const i=Te();if(i.firstCreatePass){const s=Qe();dE(i,new lE(e,t,r),s.index),function BM(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}uE(i,N(),t)}function ji(){return function NM(n,e){return n[19].queries[e].queryList}(N(),Fn())}function uE(n,e,t){const r=new ay(4==(4&t));Cp(n,e,r,r.destroy),null===e[19]&&(e[19]=new uy),e[19].queries.push(new cy(r))}function dE(n,e,t){null===n.queries&&(n.queries=new dy),n.queries.track(new fy(e,t))}function fE(n,e){return n.queries.getByIndex(e)}function og(...n){}const yy=new se("Application Initializer");let wy=(()=>{class n{constructor(t){this.appInits=t,this.resolve=og,this.reject=og,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Kp(s))t.push(s);else if(EC(s)){const a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});t.push(a)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(K(yy,8))},n.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ad=new se("AppId",{providedIn:"root",factory:function ME(){return`${Dy()}${Dy()}${Dy()}`}});function Dy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xE=new se("Platform Initializer"),ag=new se("Platform ID"),PE=new se("appBootstrapListener");let RE=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();const uo=new se("LocaleId",{providedIn:"root",factory:()=>Vo(uo,oe.Optional|oe.SkipSelf)||function n1(){return"undefined"!=typeof $localize&&$localize.locale||Zp}()});class s1{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let FE=(()=>{class n{compileModuleSync(t){return new ry(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Mr(mn(t).declarations).reduce((a,c)=>{const u=Rt(c);return u&&a.push(new ny(u)),a},[]);return new s1(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a1=(()=>Promise.resolve(0))();function Cy(n){"undefined"==typeof Zone?a1.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class vt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function l1(){let n=Le.requestAnimationFrame,e=Le.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function d1(n){const e=()=>{!function u1(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Le,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ey(n),n.isCheckStableRunning=!0,by(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ey(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,a,c)=>{try{return OE(n),t.invokeTask(i,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),kE(n)}},onInvoke:(t,r,i,s,a,c,u)=>{try{return OE(n),t.invoke(i,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),kE(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Ey(n),by(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(vt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,c1,og,og);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const c1={};function by(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ey(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function OE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kE(n){n._nesting--,by(n)}class f1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let Iy=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vt.assertNotInAngularZone(),Cy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(K(vt))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})(),LE=(()=>{class n{constructor(){this._applications=new Map,Sy.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Sy.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();class h1{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let ci,Sy=new h1;const NE=new se("AllowMultipleToken");class BE{constructor(e,t){this.name=e,this.token=t}}function HE(n,e,t=[]){const r=`Platform: ${e}`,i=new se(r);return(s=[])=>{let a=UE();if(!a||a.injector.get(NE,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const c=t.concat(s).concat({provide:i,useValue:!0},{provide:ud,useValue:"platform"});!function _1(n){if(ci&&!ci.destroyed&&!ci.injector.get(NE,!1))throw new Se(400,"");ci=n.get(VE);const e=n.get(xE,null);e&&e.forEach(t=>t())}(g.create({providers:c,name:r}))}return function v1(n){const e=UE();if(!e)throw new Se(401,"");return e}()}}function UE(){return ci&&!ci.destroyed?ci:null}let VE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const c=function y1(n,e){let t;return t="noop"===n?new f1:("zone.js"===n?void 0:n)||new vt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:vt,useValue:c}];return c.run(()=>{const f=g.create({providers:u,parent:this.injector,name:t.moduleType.name}),p=t.create(f),m=p.injector.get(qo,null);if(!m)throw new Se(402,"");return c.runOutsideAngular(()=>{const y=c.onError.subscribe({next:D=>{m.handleError(D)}});p.onDestroy(()=>{Ay(this._modules,p),y.unsubscribe()})}),function w1(n,e,t){try{const r=t();return Kp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(m,c,()=>{const y=p.injector.get(wy);return y.runInitializers(),y.donePromise.then(()=>(function JT(n){tn(n,"Expected localeId to be defined"),"string"==typeof n&&(vb=n.toLowerCase().replace(/_/g,"-"))}(p.injector.get(uo,Zp)||Zp),this._moduleDoBootstrap(p),p))})})}bootstrapModule(t,r=[]){const i=jE({},r);return function g1(n,e,t){const r=new ry(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ty);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Se(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(K(g))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();function jE(n,e){return Array.isArray(e)?e.reduce(jE,n):Object.assign(Object.assign({},n),e)}let Ty=(()=>{class n{constructor(t,r,i,s,a){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new Be(f=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{f.next(this._stable),f.complete()})}),u=new Be(f=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{vt.assertNotInAngularZone(),Cy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,f.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{vt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{f.next(!1)}))});return()=>{p.unsubscribe(),m.unsubscribe()}});this.isStable=Aa(c,u.pipe(function Df(n={}){const{connector:e=(()=>new Oe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let a=null,c=null,u=null,f=0,p=!1,m=!1;const y=()=>{null==c||c.unsubscribe(),c=null},D=()=>{y(),a=u=null,p=m=!1},M=()=>{const F=a;D(),null==F||F.unsubscribe()};return Ye((F,L)=>{f++,!m&&!p&&y();const H=u=null!=u?u:e();L.add(()=>{f--,0===f&&!m&&!p&&(c=gc(M,i))}),H.subscribe(L),a||(a=new pi({next:R=>H.next(R),error:R=>{m=!0,y(),c=gc(D,t,R),H.error(R)},complete:()=>{p=!0,y(),c=gc(D,r),H.complete()}}),Mt(F).subscribe(a))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new Se(405,"");let i;i=t instanceof Wb?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function m1(n){return n.isBoundToModule}(i)?void 0:this._injector.get(hs),c=i.create(g.NULL,[],r||i.selector,s),u=c.location.nativeElement,f=c.injector.get(Iy,null),p=f&&c.injector.get(LE);return f&&p&&p.registerApplication(u,f),c.onDestroy(()=>{this.detachView(c.hostView),Ay(this.components,c),p&&p.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Se(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Ay(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(PE,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(K(vt),K(g),K(qo),K(Cd),K(wy))},n.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ay(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let WE=!0,Md=(()=>{class n{}return n.__NG_ELEMENT_ID__=b1,n})();function b1(n){return function E1(n,e,t){if(es(n)&&!t){const r=Ht(n.index,e);return new bd(r,r)}return 47&n.type?new bd(e[16],e):null}(Qe(),N(),16==(16&n))}class ZE{constructor(){}supports(e){return hd(e)}create(e){return new x1(e)}}const M1=(n,e)=>e;class x1{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||M1}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const a=!r||t&&t.currentIndex<YE(r,i,s)?t:r,c=YE(a,i,s),u=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{s||(s=[]);const f=c-i,p=u-i;if(f!=p){for(let y=0;y<f;y++){const D=y<s.length?s[y]:s[y]=0,M=D+y;p<=M&&M<f&&(s[y]=D+1)}s[a.previousIndex]=p-f}}c!==u&&e(a,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!hd(e))throw new Se(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],a=this._trackByFn(c,s),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,s,a,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,c),r=!0),t=t._next}else i=0,function NS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Al()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,c=>{a=this._trackByFn(i,c),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,c,a,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)):(t=this._mismatch(t,c,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new P1(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new QE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class P1{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class R1{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class QE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new R1,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YE(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class XE{constructor(){}supports(e){return e instanceof Map||Lv(e)}create(){return new F1}}class F1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Lv(e)))throw new Se(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new O1(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class O1{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JE(){return new ug([new ZE])}let ug=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||JE()),deps:[[n,new Qs,new Xr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Se(901,"")}}return n.\u0275prov=pe({token:n,providedIn:"root",factory:JE}),n})();function e0(){return new xd([new XE])}let xd=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||e0()),deps:[[n,new Qs,new Xr]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new Se(901,"")}}return n.\u0275prov=pe({token:n,providedIn:"root",factory:e0}),n})();const N1=HE(null,"core",[{provide:ag,useValue:"unknown"},{provide:VE,deps:[g]},{provide:LE,deps:[]},{provide:RE,deps:[]}]);let B1=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(K(Ty))},n.\u0275mod=Yn({type:n}),n.\u0275inj=qn({}),n})(),dg=null;function fo(){return dg}const Xt=new se("DocumentToken");let ca=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pe({token:n,factory:function(){return function j1(){return K(t0)}()},providedIn:"platform"}),n})();const $1=new se("Location Initialized");let t0=(()=>{class n extends ca{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fo().getBaseHref(this._doc)}onPopState(t){const r=fo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=fo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){n0()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){n0()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(K(Xt))},n.\u0275prov=pe({token:n,factory:function(){return function W1(){return new t0(K(Xt))}()},providedIn:"platform"}),n})();function n0(){return!!window.history.pushState}function Fy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function r0(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function gs(n){return n&&"?"!==n[0]?"?"+n:n}let Gl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pe({token:n,factory:function(){return function z1(n){const e=K(Xt).location;return new s0(K(ca),e&&e.origin||"")}()},providedIn:"root"}),n})();const Oy=new se("appBaseHref");let s0=(()=>{class n extends Gl{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+gs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const a=this.prepareExternalUrl(i+gs(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){const a=this.prepareExternalUrl(i+gs(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(K(ca),K(Oy,8))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})(),K1=(()=>{class n extends Gl{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Fy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+gs(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+gs(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(K(ca),K(Oy,8))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})(),ky=(()=>{class n{constructor(t,r){this._subject=new rt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=r0(o0(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+gs(r))}normalize(t){return n.stripTrailingSlash(function q1(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,o0(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gs(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gs(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=gs,n.joinWithSlash=Fy,n.stripTrailingSlash=r0,n.\u0275fac=function(t){return new(t||n)(K(Gl),K(ca))},n.\u0275prov=pe({token:n,factory:function(){return function G1(){return new ky(K(Gl),K(ca))}()},providedIn:"root"}),n})();function o0(n){return n.replace(/\/index.html$/,"")}let g0=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(hd(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ke(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(z(ug),z(xd),z(Ui),z(eg))},n.\u0275dir=Pt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Fx{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let m0=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Fx(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const c=r.get(s);r.move(c,a),_0(c,i)}});for(let i=0,s=r.length;i<s;i++){const c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(z(kr),z(ps),z(ug))},n.\u0275dir=Pt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function _0(n,e){n.context.$implicit=e.item}let zy=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ox,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){v0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){v0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(z(kr),z(ps))},n.\u0275dir=Pt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ox{constructor(){this.$implicit=null,this.ngIf=null}}function v0(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ke(e)}'.`)}let w0=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(z(Ui),z(xd),z(eg))},n.\u0275dir=Pt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class Hx{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Ux{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Vx=new Ux,jx=new Hx;let D0=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Kp(t))return Vx;if(bC(t))return jx;throw function di(n,e){return new Se(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(z(Md,16))},n.\u0275pipe=qt({name:"async",type:n,pure:!1}),n})(),b0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=qn({}),n})();const E0="browser";let cP=(()=>{class n{}return n.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new uP(K(Xt),window)}),n})();class uP{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function dP(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=I0(this.window.history)||I0(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function I0(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qy extends class hP extends class V1{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function U1(n){dg||(dg=n)}(new Qy)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function pP(){return Fd=Fd||document.querySelector("base"),Fd?Fd.getAttribute("href"):null}();return null==t?null:function gP(n){Dg=Dg||document.createElement("a"),Dg.setAttribute("href",n);const e=Dg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Px(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Dg,Fd=null;const S0=new se("TRANSITION_ID"),_P=[{provide:yy,useFactory:function mP(n,e,t){return()=>{t.get(wy).donePromise.then(()=>{const r=fo(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[S0,Xt,g],multi:!0}];class Yy{static init(){!function p1(n){Sy=n}(new Yy)}addToWindow(e){Le.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(r=>{const i=Le.getAllAngularTestabilities();let s=i.length,a=!1;const c=function(u){a=a||u,s--,0==s&&r(a)};i.forEach(function(u){u.whenStable(c)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?fo().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let vP=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();const Cg=new se("EventManagerPlugins");let bg=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const a=i[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(K(Cg),K(vt))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();class T0{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=fo().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let A0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})(),Od=(()=>{class n extends A0{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,i.push(r.appendChild(a))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(M0),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(M0))}}return n.\u0275fac=function(t){return new(t||n)(K(Xt))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();function M0(n){fo().remove(n)}const Xy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jy=/%COMP%/g;function Eg(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Eg(n,i,t):(i=i.replace(Jy,n),t.push(i))}return t}function R0(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ew=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new tw(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Qn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new EP(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Qn.ShadowDom:return new IP(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Eg(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(K(bg),K(Od),K(Ad))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();class tw{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Xy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Xy[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Xy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(wn.DashCase|wn.Important)?e.style.setProperty(t,r,i&wn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&wn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,R0(r)):this.eventManager.addEventListener(e,t,R0(r))}}class EP extends tw{constructor(e,t,r,i){super(e),this.component=r;const s=Eg(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function DP(n){return"_ngcontent-%COMP%".replace(Jy,n)}(i+"-"+r.id),this.hostAttr=function CP(n){return"_nghost-%COMP%".replace(Jy,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class IP extends tw{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Eg(i.id,i.styles,[]);for(let a=0;a<s.length;a++){const c=document.createElement("style");c.textContent=s[a],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let SP=(()=>{class n extends T0{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(K(Xt))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();const O0=["alt","control","meta","shift"],AP={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},MP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xP=(()=>{class n extends T0{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fo().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let a="";if(O0.forEach(u=>{const f=r.indexOf(u);f>-1&&(r.splice(f,1),a+=u+".")}),a+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static getEventFullKey(t){let r="",i=function PP(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&k0.hasOwnProperty(e)&&(e=k0[e]))}return AP[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),O0.forEach(s=>{s!=i&&MP[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(K(Xt))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();const kP=HE(N1,"browser",[{provide:ag,useValue:E0},{provide:xE,useValue:function RP(){Qy.makeCurrent(),Yy.init()},multi:!0},{provide:Xt,useFactory:function OP(){return function Fm(n){Ha=n}(document),document},deps:[]}]),LP=[{provide:ud,useValue:"root"},{provide:qo,useFactory:function FP(){return new qo},deps:[]},{provide:Cg,useClass:SP,multi:!0,deps:[Xt,vt,ag]},{provide:Cg,useClass:xP,multi:!0,deps:[Xt]},{provide:ew,useClass:ew,deps:[bg,Od,Ad]},{provide:Kb,useExisting:ew},{provide:A0,useExisting:Od},{provide:Od,useClass:Od,deps:[Xt]},{provide:Iy,useClass:Iy,deps:[vt]},{provide:bg,useClass:bg,deps:[Cg,vt]},{provide:class fP{},useClass:vP,deps:[]}];let NP=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Ad,useValue:t.appId},{provide:S0,useExisting:Ad},_P]}}}return n.\u0275fac=function(t){return new(t||n)(K(n,12))},n.\u0275mod=Yn({type:n}),n.\u0275inj=qn({providers:LP,imports:[b0,B1]}),n})();function ye(...n){return Mt(n,wo(n))}"undefined"!=typeof window&&window;class In extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:qP}=Array,{getPrototypeOf:ZP,prototype:QP,keys:YP}=Object;const{isArray:eR}=Array;function iR(...n){const e=wo(n),t=function vf(n){return Ve(pc(n))?n.pop():void 0}(n),{args:r,keys:i}=function XP(n){if(1===n.length){const e=n[0];if(qP(e))return{args:e,keys:null};if(function JP(n){return n&&"object"==typeof n&&ZP(n)===QP}(e)){const t=YP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return Mt([],e);const s=new Be(function sR(n,e,t=gi){return r=>{B0(e,()=>{const{length:i}=n,s=new Array(i);let a=i,c=i;for(let u=0;u<i;u++)B0(e,()=>{const f=Mt(n[u],e);let p=!1;f.subscribe(et(r,m=>{s[u]=m,p||(p=!0,c--),c||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>function rR(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,a):gi));return t?s.pipe(function nR(n){return Fe(e=>function tR(n,e){return eR(e)?n(...e):n(e)}(n,e))}(t)):s}function B0(n,e,t){n?Gn(t,n,e):e()}function Ig(n,e){const t=Ve(n)?n:()=>n,r=i=>i.error(t());return new Be(e?i=>e.schedule(r,0,i):r)}const Sg=b(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function rw(...n){return function oR(){return yo(1)}()(Mt(n,wo(n)))}function H0(n){return new Be(e=>{Kn(n()).subscribe(e)})}function U0(){return Ye((n,e)=>{let t=null;n._refCount++;const r=et(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class aR extends Be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mt;const t=this.getSubject();e.add(this.source.subscribe(et(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mt.EMPTY)}return e}refCount(){return U0()(this)}}function po(n,e){return Ye((t,r)=>{let i=null,s=0,a=!1;const c=()=>a&&!i&&r.complete();t.subscribe(et(r,u=>{null==i||i.unsubscribe();let f=0;const p=s++;Kn(n(u,p)).subscribe(i=et(r,m=>r.next(e?e(u,m,p,f++):m),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function iw(...n){const e=wo(n);return Ye((t,r)=>{(e?rw(n,t,e):rw(n,t)).subscribe(r)})}function lR(n,e,t,r,i){return(s,a)=>{let c=t,u=e,f=0;s.subscribe(et(a,p=>{const m=f++;u=c?n(u,p,m):(c=!0,p),r&&a.next(u)},i&&(()=>{c&&a.next(u),a.complete()})))}}function V0(n,e){return Ye(lR(n,e,arguments.length>=2,!0))}function ql(n,e){return Ye((t,r)=>{let i=0;t.subscribe(et(r,s=>n.call(e,s,i++)&&r.next(s)))})}function go(n){return Ye((e,t)=>{let s,r=null,i=!1;r=e.subscribe(et(t,void 0,void 0,a=>{s=Kn(n(a,go(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function kd(n,e){return Ve(e)?wt(n,e,1):wt(n,1)}function sw(n){return n<=0?()=>zr:Ye((e,t)=>{let r=[];e.subscribe(et(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function j0(n=cR){return Ye((e,t)=>{let r=!1;e.subscribe(et(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function cR(){return new Sg}function $0(n){return Ye((e,t)=>{let r=!1;e.subscribe(et(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Zl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ql((i,s)=>n(i,s,r)):gi,Zi(1),t?$0(e):j0(()=>new Sg))}function $n(n,e,t){const r=Ve(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ye((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let c=!0;i.subscribe(et(s,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),s.next(u)},()=>{var u;c=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var f;c=!1,null===(f=r.error)||void 0===f||f.call(r,u),s.error(u)},()=>{var u,f;c&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):gi}class _s{constructor(e,t){this.id=e,this.url=t}}class ow extends _s{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ld extends _s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class W0 extends _s{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fR extends _s{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hR extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pR extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gR extends _s{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mR extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _R extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z0{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class K0{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vR{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yR{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wR{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DR{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G0{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const be="primary";class CR{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ql(n){return new CR(n)}const q0="ngNavigationCancelingError";function aw(n){const e=Error("NavigationCancelingError: "+n);return e[q0]=!0,e}function ER(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const a=r[s],c=n[s];if(a.startsWith(":"))i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $i(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Z0(n[i],e[i]))return!1;return!0}function Z0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Q0(n){return Array.prototype.concat.apply([],n)}function Y0(n){return n.length>0?n[n.length-1]:null}function Jt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Wi(n){return EC(n)?n:Kp(n)?Mt(Promise.resolve(n)):ye(n)}const TR={exact:function eI(n,e,t){if(!da(n.segments,e.segments)||!Tg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!eI(n.children[r],e.children[r],t))return!1;return!0},subset:tI},X0={exact:function AR(n,e){return $i(n,e)},subset:function MR(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Z0(n[t],e[t]))},ignored:()=>!0};function J0(n,e,t){return TR[t.paths](n.root,e.root,t.matrixParams)&&X0[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function tI(n,e,t){return nI(n,e,e.segments,t)}function nI(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!da(i,t)||e.hasChildren()||!Tg(i,t,r))}if(n.segments.length===t.length){if(!da(n.segments,t)||!Tg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!tI(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(da(n.segments,i)&&Tg(n.segments,i,r)&&n.children[be])&&nI(n.children[be],e,s,r)}}function Tg(n,e,t){return e.every((r,i)=>X0[t](n[i].parameters,r.parameters))}class ua{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ql(this.queryParams)),this._queryParamMap}toString(){return RR.serialize(this)}}class Ae{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ag(this)}}class Nd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ql(this.parameters)),this._parameterMap}toString(){return aI(this)}}function da(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class rI{}class iI{parse(e){const t=new VR(e);return new ua(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bd(e.root,!0)}`,r=function kR(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Mg(t)}=${Mg(i)}`).join("&"):`${Mg(t)}=${Mg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function FR(n){return encodeURI(n)}(e.fragment)}`:""}`}}const RR=new iI;function Ag(n){return n.segments.map(e=>aI(e)).join("/")}function Bd(n,e){if(!n.hasChildren())return Ag(n);if(e){const t=n.children[be]?Bd(n.children[be],!1):"",r=[];return Jt(n.children,(i,s)=>{s!==be&&r.push(`${s}:${Bd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function PR(n,e){let t=[];return Jt(n.children,(r,i)=>{i===be&&(t=t.concat(e(r,i)))}),Jt(n.children,(r,i)=>{i!==be&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===be?[Bd(n.children[be],!1)]:[`${i}:${Bd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[be]?`${Ag(n)}/${t[0]}`:`${Ag(n)}/(${t.join("//")})`}}function sI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mg(n){return sI(n).replace(/%3B/gi,";")}function lw(n){return sI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xg(n){return decodeURIComponent(n)}function oI(n){return xg(n.replace(/\+/g,"%20"))}function aI(n){return`${lw(n.path)}${function OR(n){return Object.keys(n).map(e=>`;${lw(e)}=${lw(n[e])}`).join("")}(n.parameters)}`}const LR=/^[^\/()?;=#]+/;function Pg(n){const e=n.match(LR);return e?e[0]:""}const NR=/^[^=?&#]+/,HR=/^[^&#]+/;class VR{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[be]=new Ae(e,t)),r}parseSegment(){const e=Pg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Nd(xg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Pg(this.remaining);i&&(r=i,this.capture(r))}e[xg(t)]=xg(r)}parseQueryParam(e){const t=function BR(n){const e=n.match(NR);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function UR(n){const e=n.match(HR);return e?e[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=oI(t),s=oI(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=be);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[be]:new Ae([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class lI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=cw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=cw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uw(e,this._root).map(t=>t.value)}}function cw(n,e){if(n===e.value)return e;for(const t of e.children){const r=cw(n,t);if(r)return r}return null}function uw(n,e){if(n===e.value)return[e];for(const t of e.children){const r=uw(n,t);if(r.length)return r.unshift(e),r}return[]}class vs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cI extends lI{constructor(e,t){super(e),this.snapshot=t,dw(this,e)}toString(){return this.snapshot.toString()}}function uI(n,e){const t=function jR(n,e){const a=new Rg([],{},{},"",{},be,e,null,n.root,-1,{});return new fI("",new vs(a,[]))}(n,e),r=new In([new Nd("",{})]),i=new In({}),s=new In({}),a=new In({}),c=new In(""),u=new Xl(r,i,a,c,s,be,e,t.root);return u.snapshot=t.root,new cI(new vs(u,[]),t)}class Xl{constructor(e,t,r,i,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Fe(e=>Ql(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Fe(e=>Ql(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function $R(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Rg{constructor(e,t,r,i,s,a,c,u,f,p,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=p,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ql(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ql(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fI extends lI{constructor(e,t){super(t),this.url=e,dw(this,t)}toString(){return hI(this._root)}}function dw(n,e){e.value._routerState=n,e.children.forEach(t=>dw(n,t))}function hI(n){const e=n.children.length>0?` { ${n.children.map(hI).join(", ")} } `:"";return`${n.value}${e}`}function fw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$i(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$i(e.params,t.params)||n.params.next(t.params),function IR(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$i(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$i(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hw(n,e){const t=$i(n.params,e.params)&&function xR(n,e){return da(n,e)&&n.every((t,r)=>$i(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hw(n.parent,e.parent))}function Hd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function zR(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hd(n,r,i);return Hd(n,r)})}(n,e,t);return new vs(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>Hd(n,c)),a}}const r=function KR(n){return new Xl(new In(n.url),new In(n.params),new In(n.queryParams),new In(n.fragment),new In(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Hd(n,s));return new vs(r,i)}}function Fg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ud(n){return"object"==typeof n&&null!=n&&n.outlets}function pw(n,e,t,r,i){let s={};return r&&Jt(r,(a,c)=>{s[c]=Array.isArray(a)?a.map(u=>`${u}`):`${a}`}),new ua(t.root===n?e:pI(t.root,n,e),s,i)}function pI(n,e,t){const r={};return Jt(n.children,(i,s)=>{r[s]=i===e?t:pI(i,e,t)}),new Ae(n.segments,r)}class gI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fg(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ud);if(i&&i!==Y0(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gw{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function mI(n,e,t){if(n||(n=new Ae([],{})),0===n.segments.length&&n.hasChildren())return Og(n,e,t);const r=function XR(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const a=n.segments[i],c=t[r];if(Ud(c))break;const u=`${c}`,f=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!vI(u,f,a))return s;r+=2}else{if(!vI(u,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ae(n.segments.slice(0,r.pathIndex),{});return s.children[be]=new Ae(n.segments.slice(r.pathIndex),n.children),Og(s,0,i)}return r.match&&0===i.length?new Ae(n.segments,{}):r.match&&!n.hasChildren()?mw(n,e,t):r.match?Og(n,0,i):mw(n,e,t)}function Og(n,e,t){if(0===t.length)return new Ae(n.segments,{});{const r=function YR(n){return Ud(n[0])?n[0].outlets:{[be]:n}}(t),i={};return Jt(r,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[a]=mI(n.children[a],e,s))}),Jt(n.children,(s,a)=>{void 0===r[a]&&(i[a]=s)}),new Ae(n.segments,i)}}function mw(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Ud(s)){const u=JR(s.outlets);return new Ae(r,u)}if(0===i&&Fg(t[0])){r.push(new Nd(n.segments[e].path,_I(t[0]))),i++;continue}const a=Ud(s)?s.outlets[be]:`${s}`,c=i<t.length-1?t[i+1]:null;a&&c&&Fg(c)?(r.push(new Nd(a,_I(c))),i+=2):(r.push(new Nd(a,{})),i++)}return new Ae(r,{})}function JR(n){const e={};return Jt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=mw(new Ae([],{}),0,t))}),e}function _I(n){const e={};return Jt(n,(t,r)=>e[r]=`${t}`),e}function vI(n,e,t){return n==t.path&&$i(e,t.parameters)}class tF{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),fw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Yl(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Jt(i,(s,a)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Yl(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);if(r&&r.outlet){const a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Yl(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Yl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new DR(s.value.snapshot))}),e.children.length&&this.forwardEvent(new yR(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(fw(i),i===s)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),fw(c.route.value),this.activateChildRoutes(e,null,a.children)}else{const c=function nF(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=u,a.outlet&&a.outlet.activateWith(i,u),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class _w{constructor(e,t){this.routes=e,this.module=t}}function mo(n){return"function"==typeof n}function fa(n){return n instanceof ua}const Vd=Symbol("INITIAL_VALUE");function jd(){return po(n=>iR(n.map(e=>e.pipe(Zi(1),iw(Vd)))).pipe(V0((e,t)=>{let r=!1;return t.reduce((i,s,a)=>i!==Vd?i:(s===Vd&&(r=!0),r||!1!==s&&a!==t.length-1&&!fa(s)?i:s),e)},Vd),ql(e=>e!==Vd),Fe(e=>fa(e)?e:!0===e),Zi(1)))}class lF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $d,this.attachRef=null}}class $d{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new lF,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let yI=(()=>{class n{constructor(t,r,i,s,a){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.name=s||be,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const a=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),c=this.parentContexts.getOrCreateContext(this.name).children,u=new cF(t,c,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(z($d),z(kr),z(Cd),function ls(n){return function Yc(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Ut(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Qe(),n)}("name"),z(Md))},n.\u0275dir=Pt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class cF{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Xl?this.route:e===$d?this.childContexts:this.parent.get(e,t)}}let wI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xs({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Or(0,"router-outlet")},directives:[yI],encapsulation:2}),n})();function DI(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];uF(r,dF(e,r))}}function uF(n,e){n.children&&DI(n.children,e)}function dF(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function vw(n){const e=n.children&&n.children.map(vw),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==be&&(t.component=wI),t}function Br(n){return n.outlet||be}function CI(n,e){const t=n.filter(r=>Br(r)===e);return t.push(...n.filter(r=>Br(r)!==e)),t}const bI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},bI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||ER)(t,n,e);if(!s)return Object.assign({},bI);const a={};Jt(s.posParams,(u,f)=>{a[f]=u.path});const c=s.consumed.length>0?Object.assign(Object.assign({},a),s.consumed[s.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:c,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Lg(n,e,t,r,i="corrected"){if(t.length>0&&function pF(n,e,t){return t.some(r=>Ng(n,e,r)&&Br(r)!==be)}(n,t,r)){const a=new Ae(e,function hF(n,e,t,r){const i={};i[be]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Br(s)!==be){const a=new Ae([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Br(s)]=a}return i}(n,e,r,new Ae(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function gF(n,e,t){return t.some(r=>Ng(n,e,r))}(n,t,r)){const a=new Ae(n.segments,function fF(n,e,t,r,i,s){const a={};for(const c of r)if(Ng(n,t,c)&&!i[Br(c)]){const u=new Ae([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,a[Br(c)]=u}return Object.assign(Object.assign({},i),a)}(n,e,t,r,n.children,i));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const s=new Ae(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Ng(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function EI(n,e,t,r){return!!(Br(n)===r||r!==be&&Ng(e,t,n))&&("**"===n.path||kg(e,n,t).matched)}function II(n,e,t){return 0===e.length&&!n.children[t]}class Wd{constructor(e){this.segmentGroup=e||null}}class SI{constructor(e){this.urlTree=e}}function Bg(n){return Ig(new Wd(n))}function TI(n){return Ig(new SI(n))}class yF{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(hs)}apply(){const e=Lg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ae(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,be).pipe(Fe(s=>this.createUrlTree(yw(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(go(s=>{if(s instanceof SI)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Wd?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,be).pipe(Fe(i=>this.createUrlTree(yw(i),e.queryParams,e.fragment))).pipe(go(i=>{throw i instanceof Wd?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ae([],{[be]:e}):e;return new ua(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Fe(s=>new Ae([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Mt(i).pipe(kd(s=>{const a=r.children[s],c=CI(t,s);return this.expandSegmentGroup(e,c,a,s).pipe(Fe(u=>({segment:u,outlet:s})))}),V0((s,a)=>(s[a.outlet]=a.segment,s),{}),function uR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ql((i,s)=>n(i,s,r)):gi,sw(1),t?$0(e):j0(()=>new Sg))}())}expandSegment(e,t,r,i,s,a){return Mt(r).pipe(kd(c=>this.expandSegmentAgainstRoute(e,t,r,c,i,s,a).pipe(go(f=>{if(f instanceof Wd)return ye(null);throw f}))),Zl(c=>!!c),go((c,u)=>{if(c instanceof Sg||"EmptyError"===c.name){if(II(t,i,s))return ye(new Ae([],{}));throw new Wd(t)}throw c}))}expandSegmentAgainstRoute(e,t,r,i,s,a,c){return EI(i,t,s,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,a):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a):Bg(t):Bg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?TI(s):this.lineralizeSegments(r,s).pipe(wt(a=>{const c=new Ae(a,{});return this.expandSegment(e,c,t,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){const{matched:c,consumedSegments:u,remainingSegments:f,positionalParamSegments:p}=kg(t,i,s);if(!c)return Bg(t);const m=this.applyRedirectCommands(u,i.redirectTo,p);return i.redirectTo.startsWith("/")?TI(m):this.lineralizeSegments(i,m).pipe(wt(y=>this.expandSegment(e,t,r,y.concat(f),a,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ye(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Fe(m=>(r._loadedConfig=m,new Ae(i,{})))):ye(new Ae(i,{}));const{matched:a,consumedSegments:c,remainingSegments:u}=kg(t,r,i);return a?this.getChildConfig(e,r,i).pipe(wt(p=>{const m=p.module,y=p.routes,{segmentGroup:D,slicedSegments:M}=Lg(t,c,u,y),F=new Ae(D.segments,D.children);if(0===M.length&&F.hasChildren())return this.expandChildren(m,y,F).pipe(Fe($=>new Ae(c,$)));if(0===y.length&&0===M.length)return ye(new Ae(c,{}));const L=Br(r)===s;return this.expandSegment(m,F,y,M,L?be:s,!0).pipe(Fe(R=>new Ae(c.concat(R.segments),R.children)))})):Bg(t)}getChildConfig(e,t,r){return t.children?ye(new _w(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ye(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(wt(i=>i?this.configLoader.load(e.injector,t).pipe(Fe(s=>(t._loadedConfig=s,s))):function _F(n){return Ig(aw(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ye(new _w([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ye(i.map(a=>{const c=e.get(a);let u;if(function iF(n){return n&&mo(n.canLoad)}(c))u=c.canLoad(t,r);else{if(!mo(c))throw new Error("Invalid CanLoad guard");u=c(t,r)}return Wi(u)})).pipe(jd(),$n(a=>{if(!fa(a))return;const c=aw(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw c.url=a,c}),Fe(a=>!0===a)):ye(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ye(r);if(i.numberOfChildren>1||!i.children[be])return Ig(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[be]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new ua(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Jt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const c=i.substring(1);r[s]=t[c]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let a={};return Jt(t.children,(c,u)=>{a[u]=this.createSegmentGroup(e,c,r,i)}),new Ae(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function yw(n){const e={};for(const r of Object.keys(n.children)){const s=yw(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function wF(n){if(1===n.numberOfChildren&&n.children[be]){const e=n.children[be];return new Ae(n.segments.concat(e.segments),e.children)}return n}(new Ae(n.segments,e))}class AI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hg{constructor(e,t){this.component=e,this.route=t}}function CF(n,e,t){const r=n._root;return zd(r,e?e._root:null,t,[r.value])}function Ug(n,e,t){const r=function EF(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function zd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Yl(e);return n.children.forEach(a=>{(function IF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function SF(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!da(n.url,e.url);case"pathParamsOrQueryParamsChange":return!da(n.url,e.url)||!$i(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hw(n,e)||!$i(n.queryParams,e.queryParams);default:return!hw(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new AI(r)):(s.data=a.data,s._resolvedData=a._resolvedData),zd(n,e,s.component?c?c.children:null:t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Hg(c.outlet.component,a))}else a&&Kd(e,c,i),i.canActivateChecks.push(new AI(r)),zd(n,null,s.component?c?c.children:null:t,r,i)})(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Jt(s,(a,c)=>Kd(a,t.getContext(c),i)),i}function Kd(n,e,t){const r=Yl(n),i=n.value;Jt(r,(s,a)=>{Kd(s,i.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new Hg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class kF{}function MI(n){return new Be(e=>e.error(n))}class NF{constructor(e,t,r,i,s,a){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){const e=Lg(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,be);if(null===t)return null;const r=new Rg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},be,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vs(r,t),s=new fI(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=dI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const a=t.children[s],c=CI(e,s),u=this.processSegmentGroup(c,a,s);if(null===u)return null;r.push(...u)}const i=xI(r);return function BF(n){n.sort((e,t)=>e.value.outlet===be?-1:t.value.outlet===be?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const a=this.processSegmentAgainstRoute(s,t,r,i);if(null!==a)return a}return II(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!EI(e,t,r,i))return null;let s,a=[],c=[];if("**"===e.path){const D=r.length>0?Y0(r).parameters:{};s=new Rg(r,D,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,FI(e),Br(e),e.component,e,PI(t),RI(t)+r.length,OI(e))}else{const D=kg(t,e,r);if(!D.matched)return null;a=D.consumedSegments,c=D.remainingSegments,s=new Rg(a,D.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,FI(e),Br(e),e.component,e,PI(t),RI(t)+a.length,OI(e))}const u=function HF(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:f,slicedSegments:p}=Lg(t,a,c,u.filter(D=>void 0===D.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren()){const D=this.processChildren(u,f);return null===D?null:[new vs(s,D)]}if(0===u.length&&0===p.length)return[new vs(s,[])];const m=Br(e)===i,y=this.processSegment(u,f,p,m?be:i);return null===y?null:[new vs(s,y)]}}function UF(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xI(n){const e=[],t=new Set;for(const r of n){if(!UF(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=xI(r.children);e.push(new vs(r.value,i))}return e.filter(r=>!t.has(r))}function PI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function RI(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function FI(n){return n.data||{}}function OI(n){return n.resolve||{}}function kI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ww(n){return po(e=>{const t=n(e);return t?Mt(t).pipe(Fe(()=>e)):ye(e)})}class qF extends class GF{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Dw=new se("ROUTES");class LI{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const a=s.create(e);return new _w(Q0(a.injector.get(Dw,void 0,oe.Self|oe.Optional)).map(vw),a)}),go(s=>{throw t._loader$=void 0,s}));return t._loader$=new aR(i,()=>new Oe).pipe(U0()),t._loader$}loadModuleFactory(e){return Wi(e()).pipe(wt(t=>t instanceof Zb?ye(t):Mt(this.compiler.compileModuleAsync(t))))}}class QF{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function YF(n){throw n}function XF(n,e,t){return e.parse("/")}function NI(n,e){return ye(null)}const JF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lr=(()=>{class n{constructor(t,r,i,s,a,c,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Oe,this.errorHandler=YF,this.malformedUriErrorHandler=XF,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:NI,afterPreactivation:NI},this.urlHandlingStrategy=new QF,this.routeReuseStrategy=new qF,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(hs),this.console=a.get(RE);const m=a.get(vt);this.isNgZoneEnabled=m instanceof vt&&vt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function SR(){return new ua(new Ae([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new LI(a,c,y=>this.triggerEvent(new z0(y)),y=>this.triggerEvent(new K0(y))),this.routerState=uI(this.currentUrlTree,this.rootComponentType),this.transitions=new In({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ql(i=>0!==i.id),Fe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),po(i=>{let s=!1,a=!1;return ye(i).pipe($n(c=>{this.currentNavigation={id:c.id,initialUrl:c.currentRawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),po(c=>{const u=this.browserUrlTree.toString(),f=!this.navigated||c.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Vg(c.source)&&(this.browserUrlTree=c.extractedUrl),ye(c).pipe(po(m=>{const y=this.transitions.getValue();return r.next(new ow(m.id,this.serializeUrl(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions.getValue()?zr:Promise.resolve(m)}),function DF(n,e,t,r){return po(i=>function vF(n,e,t,r,i){return new yF(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Fe(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),$n(m=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:m.urlAfterRedirects})}),function VF(n,e,t,r,i){return wt(s=>function LF(n,e,t,r,i="emptyOnly",s="legacy"){try{const a=new NF(n,e,t,r,i,s).recognize();return null===a?MI(new kF):ye(a)}catch(a){return MI(a)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Fe(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.rootComponentType,this.config,m=>this.serializeUrl(m),this.paramsInheritanceStrategy,this.relativeLinkResolution),$n(m=>{if("eager"===this.urlUpdateStrategy){if(!m.extras.skipLocationChange){const D=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);this.setBrowserUrl(D,m)}this.browserUrlTree=m.urlAfterRedirects}const y=new hR(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);r.next(y)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:y,extractedUrl:D,source:M,restoredState:F,extras:L}=c,H=new ow(y,this.serializeUrl(D),M,F);r.next(H);const R=uI(D,this.rootComponentType).snapshot;return ye(Object.assign(Object.assign({},c),{targetSnapshot:R,urlAfterRedirects:D,extras:Object.assign(Object.assign({},L),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=c.rawUrl,c.resolve(null),zr}),ww(c=>{const{targetSnapshot:u,id:f,extractedUrl:p,rawUrl:m,extras:{skipLocationChange:y,replaceUrl:D}}=c;return this.hooks.beforePreactivation(u,{navigationId:f,appliedUrlTree:p,rawUrlTree:m,skipLocationChange:!!y,replaceUrl:!!D})}),$n(c=>{const u=new pR(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}),Fe(c=>Object.assign(Object.assign({},c),{guards:CF(c.targetSnapshot,c.currentSnapshot,this.rootContexts)})),function TF(n,e){return wt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?ye(Object.assign(Object.assign({},t),{guardsResult:!0})):function AF(n,e,t,r){return Mt(n).pipe(wt(i=>function OF(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ye(s.map(c=>{const u=Ug(c,e,i);let f;if(function aF(n){return n&&mo(n.canDeactivate)}(u))f=Wi(u.canDeactivate(n,e,t,r));else{if(!mo(u))throw new Error("Invalid CanDeactivate guard");f=Wi(u(n,e,t,r))}return f.pipe(Zl())})).pipe(jd()):ye(!0)}(i.component,i.route,t,e,r)),Zl(i=>!0!==i,!0))}(a,r,i,n).pipe(wt(c=>c&&function rF(n){return"boolean"==typeof n}(c)?function MF(n,e,t,r){return Mt(e).pipe(kd(i=>rw(function PF(n,e){return null!==n&&e&&e(new vR(n)),ye(!0)}(i.route.parent,r),function xF(n,e){return null!==n&&e&&e(new wR(n)),ye(!0)}(i.route,r),function FF(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function bF(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>H0(()=>ye(a.guards.map(u=>{const f=Ug(u,a.node,t);let p;if(function oF(n){return n&&mo(n.canActivateChild)}(f))p=Wi(f.canActivateChild(r,n));else{if(!mo(f))throw new Error("Invalid CanActivateChild guard");p=Wi(f(r,n))}return p.pipe(Zl())})).pipe(jd())));return ye(s).pipe(jd())}(n,i.path,t),function RF(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ye(!0);const i=r.map(s=>H0(()=>{const a=Ug(s,e,t);let c;if(function sF(n){return n&&mo(n.canActivate)}(a))c=Wi(a.canActivate(e,n));else{if(!mo(a))throw new Error("Invalid CanActivate guard");c=Wi(a(e,n))}return c.pipe(Zl())}));return ye(i).pipe(jd())}(n,i.route,t))),Zl(i=>!0!==i,!0))}(r,s,n,e):ye(c)),Fe(c=>Object.assign(Object.assign({},t),{guardsResult:c})))})}(this.ngModule.injector,c=>this.triggerEvent(c)),$n(c=>{if(fa(c.guardsResult)){const f=aw(`Redirecting to "${this.serializeUrl(c.guardsResult)}"`);throw f.url=c.guardsResult,f}const u=new gR(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.triggerEvent(u)}),ql(c=>!!c.guardsResult||(this.restoreHistory(c),this.cancelNavigationTransition(c,""),!1)),ww(c=>{if(c.guards.canActivateChecks.length)return ye(c).pipe($n(u=>{const f=new mR(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(f)}),po(u=>{let f=!1;return ye(u).pipe(function jF(n,e){return wt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ye(t);let s=0;return Mt(i).pipe(kd(a=>function $F(n,e,t,r){return function WF(n,e,t,r){const i=kI(n);if(0===i.length)return ye({});const s={};return Mt(i).pipe(wt(a=>function zF(n,e,t,r){const i=Ug(n,e,r);return Wi(i.resolve?i.resolve(e,t):i(e,t))}(n[a],e,t,r).pipe($n(c=>{s[a]=c}))),sw(1),wt(()=>kI(s).length===i.length?ye(s):zr))}(n._resolve,n,e,r).pipe(Fe(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),dI(n,t).resolve),null)))}(a.route,r,n,e)),$n(()=>s++),sw(1),wt(a=>s===i.length?ye(t):zr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),$n({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),$n(u=>{const f=new _R(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(f)}))}),ww(c=>{const{targetSnapshot:u,id:f,extractedUrl:p,rawUrl:m,extras:{skipLocationChange:y,replaceUrl:D}}=c;return this.hooks.afterPreactivation(u,{navigationId:f,appliedUrlTree:p,rawUrlTree:m,skipLocationChange:!!y,replaceUrl:!!D})}),Fe(c=>{const u=function WR(n,e,t){const r=Hd(n,e._root,t?t._root:void 0);return new cI(r,e)}(this.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return Object.assign(Object.assign({},c),{targetRouterState:u})}),$n(c=>{this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>Fe(r=>(new tF(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,c=>this.triggerEvent(c)),$n({next(){s=!0},complete(){s=!0}}),function dR(n){return Ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var c;s||a||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(c=this.currentNavigation)||void 0===c?void 0:c.id)===i.id&&(this.currentNavigation=null)}),go(c=>{if(a=!0,function bR(n){return n&&n[q0]}(c)){const u=fa(c.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const f=new W0(i.id,this.serializeUrl(i.extractedUrl),c.message);r.next(f),u?setTimeout(()=>{const p=this.urlHandlingStrategy.merge(c.url,this.rawUrlTree),m={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vg(i.source)};this.scheduleNavigation(p,"imperative",null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new fR(i.id,this.serializeUrl(i.extractedUrl),c);r.next(u);try{i.resolve(this.errorHandler(c))}catch(f){i.reject(f)}}return zr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},a=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(a){const u=Object.assign({},a);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){DI(t),this.config=t.map(vw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,f=i||this.routerState.root,p=u?this.currentUrlTree.fragment:a;let m=null;switch(c){case"merge":m=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}return null!==m&&(m=this.removeEmptyProps(m)),function GR(n,e,t,r,i){if(0===t.length)return pw(e.root,e.root,e,r,i);const s=function qR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gI(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Jt(s.outlets,(u,f)=>{c[f]="string"==typeof u?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===a?(s.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?t=!0:".."===c?e++:""!=c&&i.push(c))}),i):[...i,s]},[]);return new gI(t,e,r)}(t);if(s.toRoot())return pw(e.root,new Ae([],{}),e,r,i);const a=function ZR(n,e,t){if(n.isAbsolute)return new gw(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new gw(s,s===e.root,0)}const r=Fg(n.commands[0])?0:1;return function QR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new gw(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),c=a.processChildren?Og(a.segmentGroup,a.index,s.commands):mI(a.segmentGroup,a.index,s.commands);return pw(a.segmentGroup,c,e,r,i)}(f,this.currentUrlTree,t,m,null!=p?p:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=fa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function tO(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},JF):!1===r?Object.assign({},eO):r,fa(t))return J0(this.currentUrlTree,t,i);const s=this.parseUrl(t);return J0(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ld(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,a){var c,u,f;if(this.disposed)return Promise.resolve(!1);const p=this.transitions.value,m=Vg(r)&&p&&!Vg(p.source),y=p.rawUrl.toString()===t.toString(),D=p.id===(null===(c=this.currentNavigation)||void 0===c?void 0:c.id);if(m&&y&&D)return Promise.resolve(!0);let F,L,H;a?(F=a.resolve,L=a.reject,H=a.promise):H=new Promise((ie,Me)=>{F=ie,L=Me});const R=++this.navigationId;let $;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),$=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):$=0,this.setTransition({id:R,targetPageId:$,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:F,reject:L,promise:H,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),H.catch(ie=>Promise.reject(ie))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===a?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new W0(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){jv()},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();function Vg(n){return"imperative"!==n}class BI{}class HI{preload(e,t){return ye(null)}}let UI=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new LI(i,r,u=>t.triggerEvent(new z0(u)),u=>t.triggerEvent(new K0(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ql(t=>t instanceof Ld),kd(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(hs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const a=s._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Mt(i).pipe(yo(),Fe(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ye(r._loadedConfig):this.loader.load(t.injector,r)).pipe(wt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(K(lr),K(FE),K(g),K(BI))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})(),Ew=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ow?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ld&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof G0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new G0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){jv()},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();const ha=new se("ROUTER_CONFIGURATION"),VI=new se("ROUTER_FORROOT_GUARD"),sO=[ky,{provide:rI,useClass:iI},{provide:lr,useFactory:function uO(n,e,t,r,i,s,a={},c,u){const f=new lr(null,n,e,t,r,i,Q0(s));return c&&(f.urlHandlingStrategy=c),u&&(f.routeReuseStrategy=u),function dO(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(a,f),a.enableTracing&&f.events.subscribe(p=>{var m,y;null===(m=console.group)||void 0===m||m.call(console,`Router Event: ${p.constructor.name}`),console.log(p.toString()),console.log(p),null===(y=console.groupEnd)||void 0===y||y.call(console)}),f},deps:[rI,$d,ky,g,FE,Dw,ha,[class ZF{},new Xr],[class KF{},new Xr]]},$d,{provide:Xl,useFactory:function fO(n){return n.routerState.root},deps:[lr]},UI,HI,class iO{preload(e,t){return t().pipe(go(()=>ye(null)))}},{provide:ha,useValue:{enableTracing:!1}}];function oO(){return new BE("Router",lr)}let jI=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[sO,$I(t),{provide:VI,useFactory:cO,deps:[[lr,new Xr,new Qs]]},{provide:ha,useValue:r||{}},{provide:Gl,useFactory:lO,deps:[ca,[new jo(Oy),new Xr],ha]},{provide:Ew,useFactory:aO,deps:[lr,cP,ha]},{provide:BI,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:HI},{provide:BE,multi:!0,useFactory:oO},[Iw,{provide:yy,multi:!0,useFactory:hO,deps:[Iw]},{provide:WI,useFactory:pO,deps:[Iw]},{provide:PE,multi:!0,useExisting:WI}]]}}static forChild(t){return{ngModule:n,providers:[$I(t)]}}}return n.\u0275fac=function(t){return new(t||n)(K(VI,8),K(lr,8))},n.\u0275mod=Yn({type:n}),n.\u0275inj=qn({}),n})();function aO(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ew(n,e,t)}function lO(n,e,t={}){return t.useHash?new K1(n,e):new s0(n,e)}function cO(n){return"guarded"}function $I(n){return[{provide:kn,multi:!0,useValue:n},{provide:Dw,multi:!0,useValue:n}]}let Iw=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Oe}appInitializer(){return this.injector.get($1,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(c=>r=c),s=this.injector.get(lr),a=this.injector.get(ha);return"disabled"===a.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ye(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ha),i=this.injector.get(UI),s=this.injector.get(Ew),a=this.injector.get(lr),c=this.injector.get(Ty);t===c.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&a.initialNavigation(),i.setUpPreloading(),s.init(),a.resetRootComponentType(c.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(K(g))},n.\u0275prov=pe({token:n,factory:n.\u0275fac}),n})();function hO(n){return n.appInitializer.bind(n)}function pO(n){return n.bootstrapListener.bind(n)}const WI=new se("Router Initializer"),mO=[];let Sw,_O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=qn({imports:[[jI.forRoot(mO)],jI]}),n})();try{Sw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Sw=!1}let Gd,Tw,vO=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function lP(n){return n===E0}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Sw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(K(ag))},n.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qd(n){return function yO(){if(null==Gd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gd=!0}))}finally{Gd=Gd||!1}return Gd}()?n:!!n.capture}function KI(n){if(function wO(){if(null==Tw){const n="undefined"!=typeof document?document.head:null;Tw=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Tw}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function $g(n){return n.composedPath?n.composedPath()[0]:n.target}function GI(n){return null!=n&&"false"!=`${n}`}function cr(n){return n instanceof Ui?n.nativeElement:n}class BO extends mt{constructor(e,t){super()}schedule(e,t=0){return this}}const Wg={setInterval(...n){const{delegate:e}=Wg;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=Wg;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class Aw extends BO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Wg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;Wg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Cs(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const YI={now:()=>(YI.delegate||Date).now(),delegate:void 0};class Zd{constructor(e,t=Zd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Zd.now=YI.now;class Mw extends Zd{constructor(e,t=Zd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const xw=new Mw(Aw),HO=xw;function XI(n=0,e,t=HO){let r=-1;return null!=e&&(_f(e)?t=e:r=e),new Be(i=>{let s=function UO(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const Qd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Qd;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new mt(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Qd;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Qd;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},JI=new class $O extends Mw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class jO extends Aw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Qd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Qd.cancelAnimationFrame(t),e._scheduled=void 0)}});function Pw(n){return Ye((e,t)=>{Kn(n).subscribe(et(t,()=>t.complete(),va)),!t.closed&&e.subscribe(t)})}let Rw,WO=1;const zg={};function eS(n){return n in zg&&(delete zg[n],!0)}const zO={setImmediate(n){const e=WO++;return zg[e]=!0,Rw||(Rw=Promise.resolve()),Rw.then(()=>eS(e)&&n()),e},clearImmediate(n){eS(n)}},{setImmediate:KO,clearImmediate:GO}=zO,Kg={setImmediate(...n){const{delegate:e}=Kg;return((null==e?void 0:e.setImmediate)||KO)(...n)},clearImmediate(n){const{delegate:e}=Kg;return((null==e?void 0:e.clearImmediate)||GO)(n)},delegate:void 0};new class ZO extends Mw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class qO extends Aw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Kg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Kg.clearImmediate(t),e._scheduled=void 0)}});let ek=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Oe,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function XO(n,e=xw){return function YO(n){return Ye((e,t)=>{let r=!1,i=null,s=null,a=!1;const c=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const f=i;i=null,t.next(f)}a&&t.complete()},u=()=>{s=null,a&&t.complete()};e.subscribe(et(t,f=>{r=!0,i=f,s||Kn(n(f)).subscribe(s=et(t,c,u))},()=>{a=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>XI(n,e))}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(K(vO),K(vt),K(Xt,8))},n.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=qn({}),n})();const nk=new se("cdk-dir-doc",{providedIn:"root",factory:function rk(){return Vo(Xt)}}),ik=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ok=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new rt,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function sk(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ik.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(K(nk,8))},n.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fw(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,(null==t?void 0:t.has(r))?"important":""):n.removeProperty(r)}return n}function tc(n,e){const t=e?"":"none";Fw(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function tS(n,e,t){Fw(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Gg(n,e){return e&&"none"!=e?n+" "+e:n}function nS(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function Ow(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function kw(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Lw(n,e,t){const{top:r,bottom:i,left:s,right:a}=n;return t>=r&&t<=i&&e>=s&&e<=a}function Yd(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function rS(n,e,t,r){const{top:i,right:s,bottom:a,left:c,width:u,height:f}=n,p=u*e,m=f*e;return r>i-m&&r<a+m&&t>c-p&&t<s+p}class iS{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:kw(t)})})}handleScroll(e){const t=$g(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let s,a;if(t===this._document){const f=this.getViewportScrollPosition();s=f.top,a=f.left}else s=t.scrollTop,a=t.scrollLeft;const c=i.top-s,u=i.left-a;return this.positions.forEach((f,p)=>{f.clientRect&&t!==p&&t.contains(p)&&Yd(f.clientRect,c,u)}),i.top=s,i.left=a,{top:c,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function sS(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?lS(n,e):("input"===r||"select"===r||"textarea"===r)&&aS(n,e),oS("canvas",n,e,lS),oS("input, textarea, select",n,e,aS),e}function oS(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const s=t.querySelectorAll(n);for(let a=0;a<i.length;a++)r(i[a],s[a])}}let lk=0;function aS(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${lk++}`)}function lS(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(r){}}const cS=qd({passive:!0}),qg=qd({passive:!1}),Nw=new Set(["position"]);class uk{constructor(e,t,r,i,s,a){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Oe,this._pointerMoveSubscription=mt.EMPTY,this._pointerUpSubscription=mt.EMPTY,this._scrollSubscription=mt.EMPTY,this._resizeSubscription=mt.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Oe,this.started=new Oe,this.released=new Oe,this.ended=new Oe,this.entered=new Oe,this.exited=new Oe,this.dropped=new Oe,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const u=this._handles.find(f=>c.target&&(c.target===f||f.contains(c.target)));u&&!this._disabledHandles.has(u)&&!this.disabled&&this._initializeDragSequence(u,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const u=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(u.x-this._pickupPositionOnPage.x)+Math.abs(u.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const D=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),M=this._dropContainer;if(!D)return void this._endDragSequence(c);(!M||!M.isDragging()&&!M.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}c.preventDefault();const f=this._getConstrainedPointerPosition(u);if(this._hasMoved=!0,this._lastKnownPointerPosition=u,this._updatePointerDirectionDelta(f),this._dropContainer)this._updateActiveDropContainer(f,u);else{const p=this._activeTransform;p.x=f.x-this._pickupPositionOnPage.x+this._passiveTransform.x,p.y=f.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(p.x,p.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:f,event:c,distance:this._getDragDistance(f),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new iS(r),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=GI(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>tc(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>cr(r)),this._handles.forEach(r=>tc(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=cr(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,qg),t.addEventListener("touchstart",this._pointerDown,cS),t.addEventListener("dragstart",hS,qg)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?cr(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),tc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),tc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null===(e=this._preview)||void 0===e||e.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null===(e=this._placeholder)||void 0===e||e.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Xd(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();i.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),tS(r,!1,Nw),this._document.body.appendChild(i.replaceChild(s,r)),this._getPreviewInsertionPoint(i,c).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=Xd(t),s=!i&&0!==t.button,a=this._rootElement,c=$g(t),u=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),f=i?function LO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function kO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(c&&c.draggable&&"mousedown"===t.type&&t.preventDefault(),r||s||u||f)return;if(this._handles.length){const y=a.style;this._rootElementTapHighlight=y.webkitTapHighlightColor||"",y.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=kw(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){tS(this._rootElement,!0,Nw),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),s=this._getDragDistance(i),a=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,a,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const s=e.matchSize?this._rootElement.getBoundingClientRect():null,a=e.viewContainer.createEmbeddedView(r,e.context);a.detectChanges(),i=dS(a,this._document),this._previewRef=a,e.matchSize?fS(i,s):i.style.transform=Zg(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;i=sS(s),fS(i,s.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return Fw(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Nw),tc(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>i.classList.add(s)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function ak(n){const e=getComputedStyle(n),t=Ow(e,"transition-property"),r=t.find(c=>"transform"===c||"all"===c);if(!r)return 0;const i=t.indexOf(r),s=Ow(e,"transition-duration"),a=Ow(e,"transition-delay");return nS(s[i])+nS(a[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=a=>{var c;(!a||$g(a)===this._preview&&"transform"===a.propertyName)&&(null===(c=this._preview)||void 0===c||c.removeEventListener("transitionend",i),r(),clearTimeout(s))},s=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=dS(this._placeholderRef,this._document)):r=sS(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,s=i?i.getBoundingClientRect():r,a=Xd(t)?t.targetTouches[0]:t,c=this._getViewportScrollPosition();return{x:s.left-r.left+(a.pageX-s.left-c.left),y:s.top-r.top+(a.pageY-s.top-c.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=Xd(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,s=r.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const c=this._ownerSVGElement.createSVGPoint();return c.x=i,c.y=s,c.matrixTransform(a.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:a}=this._pickupPositionInElement,c=this._boundaryRect,{width:u,height:f}=this._getPreviewRect(),p=c.top+a,m=c.bottom-(f-a);r=uS(r,c.left+s,c.right-(u-s)),i=uS(i,p,m)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-s.x),c=Math.abs(r-s.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=t>s.x?1:-1,s.x=t),c>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,tc(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,qg),e.removeEventListener("touchstart",this._pointerDown,cS),e.removeEventListener("dragstart",hS,qg)}_applyRootElementTransform(e,t){const r=Zg(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=Gg(r,this._initialTransform)}_applyPreviewTransform(e,t){var r;const i=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,s=Zg(e,t);this._preview.style.transform=Gg(s,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,a=i.right-r.right,c=r.top-i.top,u=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),a>0&&(e-=a)):e=0,r.height>i.height?(c>0&&(t+=c),u>0&&(t-=u)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Xd(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=$g(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&Yd(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=KI(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return cr(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}}function Zg(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function uS(n,e,t){return Math.max(e,Math.min(t,n))}function Xd(n){return"t"===n.type[0]}function dS(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function fS(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Zg(e.left,e.top)}function hS(n){n.preventDefault()}function Jd(n,e){return Math.max(0,Math.min(e,n))}class fk{constructor(e,t,r,i,s){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Oe,this.entered=new Oe,this.exited=new Oe,this.dropped=new Oe,this.sorted=new Oe,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=mt.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Oe,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function VO(n=0,e=xw){return n<0&&(n=0),XI(n,n,e)}(0,JI).pipe(Pw(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-c):2===this._verticalScrollDirection&&a.scrollBy(0,c),1===this._horizontalScrollDirection?a.scrollBy(-c,0):2===this._horizontalScrollDirection&&a.scrollBy(c,0)})},this.element=cr(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new iS(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){let s;this._draggingStarted(),null==i?(s=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(e,t,r))):s=i;const a=this._activeDraggables,c=a.indexOf(e),u=e.getPlaceholderElement();let f=a[s];if(f===e&&(f=a[s+1]),!f&&(null==s||-1===s||s<a.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(f=a[0]),c>-1&&a.splice(c,1),f&&!this._dragDropRegistry.isDragging(f)){const p=f.getRootElement();p.parentElement.insertBefore(u,p),a.splice(s,0,e)}else cr(this.element).appendChild(u),a.push(e);u.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,s,a,c){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:a,dropPoint:c})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=cr(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!rS(this._clientRect,.05,t,r))return;const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===a&&s.length>0)return;const c="horizontal"===this._orientation,u=s.findIndex(L=>L.drag===e),f=s[a],m=f.clientRect,y=u>a?1:-1,D=this._getItemOffsetPx(s[u].clientRect,m,y),M=this._getSiblingOffsetPx(u,s,y),F=s.slice();(function dk(n,e,t){const r=Jd(e,n.length-1),i=Jd(t,n.length-1);if(r===i)return;const s=n[r],a=i<r?-1:1;for(let c=r;c!==i;c+=a)n[c]=n[c+a];n[i]=s})(s,u,a),this.sorted.next({previousIndex:u,currentIndex:a,container:this,item:e}),s.forEach((L,H)=>{if(F[H]===L)return;const R=L.drag===e,$=R?D:M,ie=R?e.getPlaceholderElement():L.drag.getRootElement();L.offset+=$,c?(ie.style.transform=Gg(`translate3d(${Math.round(L.offset)}px, 0, 0)`,L.initialTransform),Yd(L.clientRect,0,$)):(ie.style.transform=Gg(`translate3d(0, ${Math.round(L.offset)}px, 0)`,L.initialTransform),Yd(L.clientRect,$,0))}),this._previousSwap.overlaps=Lw(m,t,r),this._previousSwap.drag=f.drag,this._previousSwap.delta=c?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,s=0;if(this._parentPositions.positions.forEach((a,c)=>{c===this._document||!a.clientRect||r||rS(a.clientRect,.05,e,t)&&([i,s]=function hk(n,e,t,r){const i=mS(e,r),s=_S(e,t);let a=0,c=0;if(i){const u=n.scrollTop;1===i?u>0&&(a=1):n.scrollHeight-u>n.clientHeight&&(a=2)}if(s){const u=n.scrollLeft;1===s?u>0&&(c=1):n.scrollWidth-u>n.clientWidth&&(c=2)}return[a,c]}(c,a.clientRect,e,t),(i||s)&&(r=c))}),!i&&!s){const{width:a,height:c}=this._viewportRuler.getViewportSize(),u={width:a,height:c,top:0,right:a,bottom:c,left:0};i=mS(u,t),s=_S(u,e),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=cr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=cr(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:kw(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=cr(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var r;const i=t.getRootElement();if(i){const s=null===(r=this._itemPositions.find(a=>a.drag===t))||void 0===r?void 0:r.initialTransform;i.style.transform=s||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this._orientation,s=t[e].clientRect,a=t[e+-1*r];let c=s[i?"width":"height"]*r;if(a){const u=i?"left":"top",f=i?"right":"bottom";-1===r?c-=a.clientRect[u]-s[f]:c+=s[u]-a.clientRect[f]}return c}_getItemOffsetPx(e,t,r){const i="horizontal"===this._orientation;let s=i?t.left-e.left:t.top-e.top;return-1===r&&(s+=i?t.width-e.width:t.height-e.height),s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const a=r[r.length-1].clientRect;return i?e>=a.right:t>=a.bottom}{const a=r[0].clientRect;return i?e<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(e,t,r,i){const s="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:c,clientRect:u})=>{if(c===e)return!1;if(i){const f=s?i.x:i.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&f===this._previousSwap.delta)return!1}return s?t>=Math.floor(u.left)&&t<Math.floor(u.right):r>=Math.floor(u.top)&&r<Math.floor(u.bottom)});return-1!==a&&this.sortPredicate(a,e,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&Lw(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!Lw(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const s=cr(this.element);return i===s||s.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{Yd(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=KI(cr(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function mS(n,e){const{top:t,bottom:r,height:i}=n,s=.05*i;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}function _S(n,e){const{left:t,right:r,width:i}=n,s=.05*i;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}const Qg=qd({passive:!1,capture:!0});let pk=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new Oe,this.pointerUp=new Oe,this.scroll=new Oe,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Qg)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Qg)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Qg}),i||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Qg}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new Be(i=>this._ngZone.runOutsideAngular(()=>{const a=c=>{this._activeDragInstances.length&&i.next(c)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),Aa(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(K(vt),K(Xt))},n.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gk={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let vS=(()=>{class n{constructor(t,r,i,s){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(t,r=gk){return new uk(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new fk(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(K(Xt),K(vt),K(ek),K(pk))},n.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yS=new se("CDK_DRAG_PARENT"),mk=new se("CDK_DRAG_CONFIG"),_k=new se("CdkDropList"),wS=new se("CdkDragHandle"),vk=new se("CdkDragPlaceholder"),yk=new se("CdkDragPreview");let Dk=(()=>{class n{constructor(t,r,i,s,a,c,u,f,p,m,y){this.element=t,this.dropContainer=r,this._ngZone=s,this._viewContainerRef=a,this._dir=u,this._changeDetectorRef=p,this._selfHandle=m,this._parentDrag=y,this._destroyed=new Oe,this.started=new rt,this.released=new rt,this.ended=new rt,this.entered=new rt,this.exited=new rt,this.dropped=new rt,this.moved=new Be(D=>{const M=this._dragRef.moved.pipe(Fe(F=>({source:this,pointerPosition:F.pointerPosition,event:F.event,delta:F.delta,distance:F.distance}))).subscribe(D);return()=>{M.unsubscribe()}}),this._dragRef=f.createDrag(t,{dragStartThreshold:c&&null!=c.dragStartThreshold?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&null!=c.pointerDirectionChangeThreshold?c.pointerDirectionChangeThreshold:5,zIndex:null==c?void 0:c.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),c&&this._assignDefaults(c),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=GI(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zi(1),Pw(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const r=this.element.nativeElement;let i=r;this.rootElementSelector&&(i=void 0!==r.closest?r.closest(this.rootElementSelector):null===(t=r.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||r)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):cr(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:function DO(n,e=0){return function CO(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(Zi(1)).subscribe(()=>{var r;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent((null===(r=n._dragInstances.find(s=>s.element.nativeElement===i))||void 0===r?void 0:r._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:a,boundaryElement:c,draggingDisabled:u,rootElementSelector:f,previewContainer:p}=t;this.disabled=null!=u&&u,this.dragStartDelay=i||0,r&&(this.lockAxis=r),s&&(this.constrainPosition=s),a&&(this.previewClass=a),c&&(this.boundaryElement=c),f&&(this.rootElementSelector=f),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.changes.pipe(iw(this._handles),$n(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),po(t=>Aa(...t.map(r=>r._stateChanges.pipe(iw(r))))),Pw(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(z(Ui),z(_k,12),z(Xt),z(vt),z(kr),z(mk,8),z(ok,8),z(vS),z(Md),z(wS,10),z(yS,12))},n.\u0275dir=Pt({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(zl(i,yk,5),zl(i,vk,5),zl(i,wS,5)),2&t){let s;Vi(s=ji())&&(r._previewTemplate=s.first),Vi(s=ji())&&(r._placeholderTemplate=s.first),Vi(s=ji())&&(r._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&Gp("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[$b([{provide:yS,useExisting:n}]),xn]}),n})(),Ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=qn({providers:[vS],imports:[tk]}),n})();var bk=rc(489);const Ek=["myModal"];function Ik(n,e){if(1&n){const t=gd();lt(0,"div",5)(1,"div",6),hn("click",function(){return sn(t),pt().changeSelection(1)}),Or(2,"img",7),ct(),lt(3,"div",6),hn("click",function(){return sn(t),pt().changeSelection(2)}),Or(4,"img",8),ct(),lt(5,"div",6),hn("click",function(){return sn(t),pt().changeSelection(3)}),Or(6,"img",9),ct(),lt(7,"div",6),hn("click",function(){return sn(t),pt().changeSelection(4)}),Or(8,"img",10),ct()()}if(2&n){const t=pt();ae(2),ht("src",t.getPieceIcon("queen"),St),ae(2),ht("src",t.getPieceIcon("rook"),St),ae(2),ht("src",t.getPieceIcon("bishop"),St),ae(2),ht("src",t.getPieceIcon("knight"),St)}}function Sk(n,e){if(1&n){const t=gd();lt(0,"div",5)(1,"div",6),hn("click",function(){return sn(t),pt().changeSelection(1)}),oa(2,"\u265b"),ct(),lt(3,"div",6),hn("click",function(){return sn(t),pt().changeSelection(2)}),oa(4,"\u265c"),ct(),lt(5,"div",6),hn("click",function(){return sn(t),pt().changeSelection(3)}),oa(6,"\u265d"),ct(),lt(7,"div",6),hn("click",function(){return sn(t),pt().changeSelection(4)}),oa(8,"\u265e"),ct()()}}const Tk=["boardRef"],Ak=["modal"];function Mk(n,e){if(1&n){const t=gd();lt(0,"div",11),hn("cdkDragEnded",function(i){return sn(t),pt().dragEnded(i)})("cdkDragMoved",function(i){return sn(t),pt().dragMoved(i)})("cdkDragStarted",function(i){return sn(t),pt().dragStart(i)}),ct()}if(2&n){const t=e.$implicit,r=pt();fs("transform","translate3d("+t.point.col*r.pieceSize+"px, "+t.point.row*r.pieceSize+"px,0px)")("max-height",r.pieceSize+"px")("font-size",.8*r.pieceSize+"px")("width",r.pieceSize+"px")("height",r.pieceSize+"px"),ht("cdkDragDisabled",r.engineFacade.dragDisabled)("innerHTML",r.engineFacade.pieceIconManager.isDefaultIcons()?t.constant.icon:"",kh)("ngStyle",r.engineFacade.pieceIconManager.isDefaultIcons()?"":r.getCustomPieceIcons(t))}}function xk(n,e){if(1&n&&(lt(0,"span",18),oa(1),ct()),2&n){const t=pt(2).index,r=pt();fs("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),ae(1),_d(" ",r.engineFacade.coords.yCoords[t]," ")}}function Pk(n,e){if(1&n&&(lt(0,"span",19),oa(1),ct()),2&n){const t=pt().index,r=pt(2);fs("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),ae(1),_d(" ",r.engineFacade.coords.xCoords[t]," ")}}function Rk(n,e){if(1&n&&(lt(0,"div",20),Or(1,"div",21),ct()),2&n){const t=pt(3);ae(1),fs("font-size",t.pieceSize+"px"),ht("ngClass","piece")}}function Fk(n,e){if(1&n&&(lt(0,"div",14),Fr(1,xk,2,5,"span",15),Fr(2,Pk,2,5,"span",16),Fr(3,Rk,2,3,"div",17),ct()),2&n){const t=e.index,r=pt().index,i=pt();fs("background-color",i.getTileBackgroundColor(r,t)),Gp("current-selection",i.showActivePiece&&i.engineFacade.board.isXYInActiveMove(r,t))("king-check",i.engineFacade.board.isKingChecked(i.engineFacade.board.getPieceByPoint(r,t)))("point-circle",i.engineFacade.board.isXYInPointSelection(r,t))("possible-capture",i.showPossibleCaptures&&i.engineFacade.board.isXYInPossibleCaptures(r,t))("possible-point",i.engineFacade.board.isXYInPossibleMoves(r,t)&&i.showLegalMoves),ae(1),ht("ngIf",i.showCoords&&7===t),ae(1),ht("ngIf",i.showCoords&&7===r),ae(1),ht("ngIf",i.engineFacade.board.getPieceByPoint(r,t))}}function Ok(n,e){if(1&n&&(lt(0,"div",12),Fr(1,Fk,4,15,"div",13),ct()),2&n){const t=e.$implicit;ae(1),ht("ngForOf",t)}}function kk(n,e){if(1&n&&(Ro(),lt(0,"defs")(1,"marker",22),Or(2,"path",23),ct()()),2&n){const t=e.$implicit;ae(1),ht("id",t+"Arrow"),ae(1),fs("fill",t)}}function Lk(n,e){if(1&n&&(Ro(),Or(0,"line",24)),2&n){const t=e.$implicit;Ml("marker-end","url(#"+t.end.color+"Arrow)")("stroke",t.end.color)("x1",t.start.x)("x2",t.end.x)("y1",t.start.y)("y2",t.end.y)}}function Nk(n,e){if(1&n&&(Ro(),Or(0,"circle",25)),2&n){const t=e.$implicit,r=pt();Ml("cx",t.drawPoint.x)("cy",t.drawPoint.y)("r",r.engineFacade.heightAndWidth/18)("stroke",t.drawPoint.color)}}const Bk=function(){return["red","green","blue","orange"]};var w=(()=>{return(n=w||(w={}))[n.WHITE=0]="WHITE",n[n.BLACK=1]="BLACK",w;var n})();class nc{constructor(e,t,r,i,s){this.checkPoints=[],this.color=t,this.constant=r,this.point=e,this.relValue=i,this.board=s}}class T{constructor(e,t){this.row=e,this.col=t}isEqual(e){return e&&this.row===e.row&&this.col===e.col}hasCoordsEqual(e,t){return e&&t&&this.row===e&&this.col===t}isInRange(){return this.row>=0&&this.row<=7&&this.col>=0&&this.col<=7}clone(){return new T(this.row,this.col)}}class zt extends nc{constructor(e,t,r,i){super(e,t,r,5,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new T(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new T(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new T(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new T(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i)if(this.board.isFieldEmpty(i,r))e.push(new T(i,r));else if(!(this.board.getPieceByField instanceof Ne)){e.push(new T(i,r));break}for(let i=t-1;i>=0;--i)if(this.board.isFieldEmpty(i,r))e.push(new T(i,r));else if(!(this.board.getPieceByField instanceof Ne)){e.push(new T(i,r));break}for(let i=r-1;i>=0;--i)if(this.board.isFieldEmpty(t,i))e.push(new T(t,i));else if(!(this.board.getPieceByField instanceof Ne)){e.push(new T(t,i));break}for(let i=r+1;i<8;++i)if(this.board.isFieldEmpty(t,i))e.push(new T(t,i));else if(!(this.board.getPieceByField instanceof Ne)){e.push(new T(t,i));break}return e}}class Ne extends nc{constructor(e,t,r,i){super(e,t,r,0,i),this.castledAlready=!1,this.shortCastled=!1,this.longCastled=!1,this.isCastling=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;if(this.board.isFieldEmpty(t,r-1)&&!this.board.isFieldUnderAttack(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t,r-1)),this.board.isFieldEmpty(t,r+1)&&!this.board.isFieldUnderAttack(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t,r+1)),this.board.isFieldEmpty(t+1,r)&&!this.board.isFieldUnderAttack(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+1,r)),this.board.isFieldEmpty(t-1,r)&&!this.board.isFieldUnderAttack(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-1,r)),this.board.isFieldEmpty(t-1,r-1)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-1,r-1)),this.board.isFieldEmpty(t-1,r+1)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-1,r+1)),this.board.isFieldEmpty(t+1,r-1)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+1,r-1)),this.board.isFieldEmpty(t+1,r+1)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+1,r+1)),!this.isMovedAlready){let i=!0;for(let a=r-1;a>0;--a)if(!this.board.isFieldEmpty(t,a)||this.board.isFieldUnderAttack(t,a,this.color===w.WHITE?w.BLACK:w.WHITE)){i=!1;break}if(i&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,0)){const a=this.board.getPieceByField(t,0);a instanceof zt&&(a.isMovedAlready||e.push(new T(t,r-2)))}let s=!0;for(let a=r+1;a<7;++a)if(!this.board.isFieldEmpty(t,a)||this.board.isFieldUnderAttack(t,a,this.color===w.WHITE?w.BLACK:w.WHITE)){s=!1;break}if(s&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,7)){const a=this.board.getPieceByField(t,7);a instanceof zt&&(a.isMovedAlready||e.push(new T(t,r+2)))}}return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t,r-1)),this.board.isFieldTakenByEnemy(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t,r+1)),this.board.isFieldTakenByEnemy(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+1,r)),this.board.isFieldTakenByEnemy(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-1,r)),this.board.isFieldTakenByEnemy(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-1,r+1)),this.board.isFieldTakenByEnemy(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+1,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new T(t,r-1)),e.push(new T(t,r+1)),e.push(new T(t+1,r)),e.push(new T(t-1,r)),e.push(new T(t-1,r-1)),e.push(new T(t-1,r+1)),e.push(new T(t+1,r-1)),e.push(new T(t+1,r+1)),e}}class Hr extends nc{constructor(e,t,r,i){super(e,t,r,3,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new T(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new T(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new T(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new T(i,s));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,s));break}if(!this.board.isFieldEmpty(i,s))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ne||e.push(new T(i,s));break}e.push(new T(i,s))}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ne||e.push(new T(i,s));break}e.push(new T(i,s))}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ne||e.push(new T(i,s));break}e.push(new T(i,s))}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ne||e.push(new T(i,s));break}e.push(new T(i,s))}return e}}class Ur extends nc{constructor(e,t,r,i){super(e,t,r,3,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldEmpty(t-2,r-1)&&e.push(new T(t-2,r-1)),this.board.isFieldEmpty(t-2,r+1)&&e.push(new T(t-2,r+1)),this.board.isFieldEmpty(t-1,r-2)&&e.push(new T(t-1,r-2)),this.board.isFieldEmpty(t-1,r+2)&&e.push(new T(t-1,r+2)),this.board.isFieldEmpty(t+1,r-2)&&e.push(new T(t+1,r-2)),this.board.isFieldEmpty(t+1,r+2)&&e.push(new T(t+1,r+2)),this.board.isFieldEmpty(t+2,r-1)&&e.push(new T(t+2,r-1)),this.board.isFieldEmpty(t+2,r+1)&&e.push(new T(t+2,r+1)),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t-2,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-2,r-1)),this.board.isFieldTakenByEnemy(t-2,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-2,r+1)),this.board.isFieldTakenByEnemy(t-1,r-2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-1,r-2)),this.board.isFieldTakenByEnemy(t-1,r+2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-1,r+2)),this.board.isFieldTakenByEnemy(t+1,r-2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+1,r-2)),this.board.isFieldTakenByEnemy(t+1,r+2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+1,r+2)),this.board.isFieldTakenByEnemy(t+2,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+2,r-1)),this.board.isFieldTakenByEnemy(t+2,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+2,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new T(t-2,r-1)),e.push(new T(t-2,r+1)),e.push(new T(t-1,r-2)),e.push(new T(t-1,r+2)),e.push(new T(t+1,r-2)),e.push(new T(t+1,r+2)),e.push(new T(t+2,r-1)),e.push(new T(t+2,r+1)),e}}class Kt extends nc{constructor(e,t,r,i){super(e,t,r,1,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?this.board.isFieldEmpty(t-1,r)&&(e.push(new T(t-1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t-2,r)&&e.push(new T(t-2,r))):this.board.isFieldEmpty(t+1,r)&&(e.push(new T(t+1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t+2,r)&&e.push(new T(t+2,r))),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?(this.board.isFieldTakenByEnemy(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t-1,r+1))):(this.board.isFieldTakenByEnemy(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new T(t+1,r+1))),this.board.enPassantPoint&&this.board.enPassantPiece.color===(this.color===w.WHITE?w.BLACK:w.WHITE)&&t===this.board.enPassantPiece.point.row&&1===Math.abs(this.board.enPassantPiece.point.col-r)&&e.push(this.board.enPassantPoint),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?(e.push(new T(t-1,r-1)),e.push(new T(t-1,r+1))):(e.push(new T(t+1,r-1)),e.push(new T(t+1,r+1))),e}}class zi extends nc{constructor(e,t,r,i){super(e,t,r,9,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new T(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new T(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new T(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new T(i,s));for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new T(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new T(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new T(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new T(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new T(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof Ne||e.push(new T(i,r));break}e.push(new T(i,r))}for(let i=t-1;i>=0;--i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof Ne||e.push(new T(i,r));break}e.push(new T(i,r))}for(let i=r-1;i>=0;--i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof Ne||e.push(new T(t,i));break}e.push(new T(t,i))}for(let i=r+1;i<8;++i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof Ne||e.push(new T(t,i));break}e.push(new T(t,i))}for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ne||e.push(new T(i,s));break}e.push(new T(i,s))}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ne||e.push(new T(i,s));break}e.push(new T(i,s))}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ne||e.push(new T(i,s));break}e.push(new T(i,s))}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof Ne||e.push(new T(i,s));break}e.push(new T(i,s))}return e}}const te={WHITE_KING:{name:"King",icon:"&#x2654;"},WHITE_QUEEN:{name:"Queen",icon:"&#x2655;"},WHITE_KNIGHT:{name:"Knight",icon:"&#x2658"},WHITE_ROOK:{name:"Rook",icon:"&#x2656"},WHITE_PAWN:{name:"Pawn",icon:"&#x2659"},WHITE_BISHOP:{name:"Bishop",icon:"&#x2657"},BLACK_KING:{name:"King",icon:"&#x265A"},BLACK_QUEEN:{name:"Queen",icon:"&#x265B"},BLACK_KNIGHT:{name:"Knight",icon:"&#x265E"},BLACK_ROOK:{name:"Rook",icon:"&#x265C"},BLACK_PAWN:{name:"Pawn",icon:"&#x265F"},BLACK_BISHOP:{name:"Bishop",icon:"&#x265D"}};class DS{process(e,t){let r=e;if(!e)throw Error("Incorrect FEN provided");{t.board.reverted=!1,t.board.pieces=[];const i=r.split("/");for(let s=0;s<8;++s){let a=0;for(let c=0;c<i[s].split(" ")[0].length;++c){const u=i[s].charAt(c);if(u.match(/[0-9]/))a+=Number(u);else{switch(u){case"r":t.board.pieces.push(new zt(new T(s,a),w.BLACK,te.BLACK_ROOK,t.board));break;case"n":t.board.pieces.push(new Ur(new T(s,a),w.BLACK,te.BLACK_KNIGHT,t.board));break;case"b":t.board.pieces.push(new Hr(new T(s,a),w.BLACK,te.BLACK_BISHOP,t.board));break;case"q":t.board.pieces.push(new zi(new T(s,a),w.BLACK,te.BLACK_QUEEN,t.board));break;case"k":t.board.pieces.push(new Ne(new T(s,a),w.BLACK,te.BLACK_KING,t.board));break;case"p":{const f=new Kt(new T(s,a),w.BLACK,te.BLACK_PAWN,t.board);(f.color===w.BLACK&&1!==f.point.row||f.color===w.WHITE&&6!==f.point.row)&&(f.isMovedAlready=!0),t.board.pieces.push(f);break}case"R":t.board.pieces.push(new zt(new T(s,a),w.WHITE,te.WHITE_ROOK,t.board));break;case"N":t.board.pieces.push(new Ur(new T(s,a),w.WHITE,te.WHITE_KNIGHT,t.board));break;case"B":t.board.pieces.push(new Hr(new T(s,a),w.WHITE,te.WHITE_BISHOP,t.board));break;case"Q":t.board.pieces.push(new zi(new T(s,a),w.WHITE,te.WHITE_QUEEN,t.board));break;case"K":t.board.pieces.push(new Ne(new T(s,a),w.WHITE,te.WHITE_KING,t.board));break;case"P":{const f=new Kt(new T(s,a),w.WHITE,te.WHITE_PAWN,t.board);(f.color===w.BLACK&&1!==f.point.row||f.color===w.WHITE&&6!==f.point.row)&&(f.isMovedAlready=!0),t.board.pieces.push(f);break}}++a}}}this.setCurrentPlayer(t.board,r),this.setCastles(t.board,r),this.setEnPassant(r),this.setFullMoveCount(r),t.board.fen=r}}setCurrentPlayer(e,t){if(t){const r=t.split(" ");e.currentWhitePlayer="w"===r[1]}}setCastles(e,t){if(t){const i=t.split(" ")[2];i.includes("K")||this.setRookAlreadyMoved(e,w.WHITE,7),i.includes("Q")||this.setRookAlreadyMoved(e,w.WHITE,0),i.includes("k")||this.setRookAlreadyMoved(e,w.BLACK,7),i.includes("q")||this.setRookAlreadyMoved(e,w.BLACK,0)}}setFullMoveCount(e){}setEnPassant(e){!e||e.split(" ")}setRookAlreadyMoved(e,t,r){const i=e.pieces.find(s=>s.color===t&&s instanceof zt&&s.point.col===r);i&&(i.isMovedAlready=!0)}}class Hk{constructor(e,t,r){this._xAxis=e,this._yAxis=t,this._reverted=r}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e}get reverted(){return this._reverted}set reverted(e){this._reverted=e}}class q{static willMoveCauseCheck(e,t,r,i,s,a){const c=a.getPieceByField(t,r),u=a.getPieceByField(i,s);c&&(c.point.row=i,c.point.col=s),u&&(a.pieces=a.pieces.filter(p=>p!==u));const f=a.isKingInCheck(e,a.pieces);return c&&(c.point.col=r,c.point.row=t),u&&a.pieces.push(u),f}static format(e,t,r){if(r){const s=104-t.col;return String.fromCharCode(104-e.col)+(e.row+1)+String.fromCharCode(s)+(t.row+1)}return String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)+String.fromCharCode(t.col+97)+(Math.abs(t.row-7)+1)}static translateCoordsToIndex(e,t){let r,i;return t?(r=104-e.charCodeAt(0),i=+e.charAt(1)-1):(r=e.charCodeAt(0)-97,i=Math.abs(+e.charAt(1)-8)),new Hk(r,i,t)}static findPieceByPossibleMovesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new T(i.yAxis,i.xAxis),a=[];for(let c of t.pieces.filter(u=>u.color===r))for(let u of c.getPossibleMoves())!q.willMoveCauseCheck(c.color,c.point.row,c.point.col,i.yAxis,i.xAxis,t)&&u.isEqual(s)&&a.push(c);return a}static findPieceByPossibleCapturesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new T(i.yAxis,i.xAxis),a=[];for(let c of t.pieces.filter(u=>u.color===r))for(let u of c.getPossibleCaptures())!q.willMoveCauseCheck(c.color,c.point.row,c.point.col,i.yAxis,i.xAxis,t)&&u.isEqual(s)&&a.push(c);return a}static formatSingle(e,t){return t?String.fromCharCode(104-e.col)+(e.row+1):String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)}static getFirstLetterPiece(e){return e instanceof Kt?"P":e instanceof Ur?"N":e instanceof Hr?"B":e instanceof zt?"R":e instanceof Ne?"K":e instanceof zi?"Q":""}static reverse(e,t){return e.reverted?t+1:Math.abs(t-7)+1}static formatCol(e,t){return String.fromCharCode(e.reverted?104-t:97+t)}}class CS{static loadDefaultPieces(e){e.pieces=[];for(let t=0;t<8;++t)e.pieces.push(new Kt(new T(1,t),w.BLACK,te.BLACK_PAWN,e));e.pieces.push(new zt(new T(0,0),w.BLACK,te.BLACK_ROOK,e)),e.pieces.push(new Ur(new T(0,1),w.BLACK,te.BLACK_KNIGHT,e)),e.pieces.push(new Hr(new T(0,2),w.BLACK,te.BLACK_BISHOP,e)),e.pieces.push(new zi(new T(0,3),w.BLACK,te.BLACK_QUEEN,e)),e.pieces.push(new Ne(new T(0,4),w.BLACK,te.BLACK_KING,e)),e.pieces.push(new Hr(new T(0,5),w.BLACK,te.BLACK_BISHOP,e)),e.pieces.push(new Ur(new T(0,6),w.BLACK,te.BLACK_KNIGHT,e)),e.pieces.push(new zt(new T(0,7),w.BLACK,te.BLACK_ROOK,e));for(let t=0;t<8;++t)e.pieces.push(new Kt(new T(6,t),w.WHITE,te.WHITE_PAWN,e));e.pieces.push(new zt(new T(7,0),w.WHITE,te.WHITE_ROOK,e)),e.pieces.push(new Ur(new T(7,1),w.WHITE,te.WHITE_KNIGHT,e)),e.pieces.push(new Hr(new T(7,2),w.WHITE,te.WHITE_BISHOP,e)),e.pieces.push(new zi(new T(7,3),w.WHITE,te.WHITE_QUEEN,e)),e.pieces.push(new Ne(new T(7,4),w.WHITE,te.WHITE_KING,e)),e.pieces.push(new Hr(new T(7,5),w.WHITE,te.WHITE_BISHOP,e)),e.pieces.push(new Ur(new T(7,6),w.WHITE,te.WHITE_KNIGHT,e)),e.pieces.push(new zt(new T(7,7),w.WHITE,te.WHITE_ROOK,e)),e.calculateFEN()}}class Uk{process(e,t){if(e){t.board.reverted=!1,t.board.pieces=[],t.reset(),CS.loadDefaultPieces(t.board);let r=this.extractMoves(e),i=-1;for(let s of r){++i,s=s.replace(/[+#]/g,"");let a="";s.includes("=")&&(a=this.resolvePromotion(s.substring(s.length-1)),s=s.substring(0,s.length-2));let c=0===i||i%2==0?w.WHITE:w.BLACK;if(/^[a-z]\d$/g.test(s)){let u=q.findPieceByPossibleMovesContaining(s,t.board,c).find(f=>f instanceof Kt);u||(u=q.findPieceByPossibleCapturesContaining(s,t.board,c).find(f=>f instanceof Kt)),u&&t.move(q.formatSingle(u.point,!1)+s+a)}else if(/^[A-Z][a-h]\d$/g.test(s)){let f=q.findPieceByPossibleMovesContaining(s.substring(1),t.board,c).find(p=>this.resolvePieceByFirstChar(s.charAt(0),p));f&&t.move(q.formatSingle(f.point,!1)+s.substring(1)+a)}else if("O-O"===s)t.move(c===w.WHITE?"e1g1":"e8g8");else if(/^[a-z]x[a-z]\d$/g.test(s)){let f,u=q.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,c).filter(p=>p instanceof Kt);f=u.length>1?this.resolveByCol(u,s.substring(0,1)):u[0],f&&t.move(q.formatSingle(f.point,!1)+s.substring(s.indexOf("x")+1)+a)}else if(/^[A-Z]x[a-z]\d$/g.test(s)){let u=q.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,c).find(f=>this.resolvePieceByFirstChar(s.substring(0,1),f));u&&t.move(q.formatSingle(u.point,!1)+s.substring(s.indexOf("x")+1)+a)}else if("O-O-O"===s)t.move(c===w.WHITE?"e1c1":"e8c8");else if(/^[A-Z]\dx[a-z]\d$/g.test(s)){let u=q.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,c).filter(p=>this.resolvePieceByFirstChar(s.charAt(0),p)),f=this.resolveByRow(u,s.substring(1,2));f&&t.move(q.formatSingle(f.point,!1)+s.substring(s.indexOf("x")+1)+a)}else if(/^[A-Z][a-z][a-z]\d$/g.test(s)){let u=q.findPieceByPossibleMovesContaining(s.substring(2,4),t.board,c).filter(p=>this.resolvePieceByFirstChar(s.charAt(0),p)),f=this.resolveByCol(u,s.substring(1,2));f&&t.move(q.formatSingle(f.point,!1)+s.substring(2,4)+a)}else if(/^[A-Z][a-z]x[a-z]\d$/g.test(s)){let u=q.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,c).filter(p=>this.resolvePieceByFirstChar(s.charAt(0),p)),f=this.resolveByCol(u,s.substring(1,2));f&&t.move(q.formatSingle(f.point,!1)+s.substring(s.indexOf("x")+1)+a)}else this.processR1f2(s,t,c,a)}}}processR1f2(e,t,r,i){if(/^[A-Z]\d[a-z]\d$/g.test(e)){let s=q.findPieceByPossibleMovesContaining(e.substring(2,4),t.board,r).filter(c=>this.resolvePieceByFirstChar(e.charAt(0),c)),a=this.resolveByRow(s,e.substring(1,2));a&&t.move(q.formatSingle(a.point,!1)+e.substring(2,4)+i)}}extractMoves(e){return e.substring(e.lastIndexOf("]")+1).replace(/[0-9]+\./g,"").replace(/\s+/g," ").replace(/{[^}]*}/g,"").trim().split(" ").filter(t=>t)}movePiece(e,t,r){let i=q.translateCoordsToIndex(r,t.reverted);e.point.col=i.xAxis,e.point.row=i.yAxis}hasUpperCase(e){return/[A-Z]/.test(e)}resolvePieceByFirstChar(e,t){let r="";return t instanceof Ne?r="K":t instanceof zi?r="Q":t instanceof zt?r="R":t instanceof Hr?r="B":t instanceof Ur?r="N":t instanceof Kt&&(r="P"),e===r}isShortCastle(e){return"O-O"===e}removePiece(e,t){let r=q.translateCoordsToIndex(e,t.reverted);t.pieces=t.pieces.filter(i=>!i.point.isEqual(new T(r.yAxis,r.xAxis)))}isLongCastle(e){return"O-O-O"===e}resolveByCol(e,t){let r=q.formatSingle(e[0].point,!1);return q.formatSingle(e[1].point,!1),r.substring(0,1)===t?e[0]:e[1]}resolveByRow(e,t){let r=q.formatSingle(e[0].point,!1);return q.formatSingle(e[1].point,!1),r.substring(1,2)===t?e[0]:e[1]}replacePromotion(e){return e.replace("=Q","1").replace("=R","2").replace("=B","3").replace("=K","4")}resolvePromotion(e){switch(e){case"Q":return"1";case"R":return"2";case"B":return"3";case"N":return"4"}return""}}class Bw{static getProcessor(e){switch(e){case ga.FEN:return new DS;case ga.PGN:return new Uk}}static getDefaultProcessor(){return new DS}}var ga=(()=>{return(n=ga||(ga={}))[n.FEN=1]="FEN",n[n.PGN=2]="PGN",ga;var n})();class Vk{constructor(e,t,r){this.x=e+.5,this.y=t+.5,this.color=r}isEqual(e){return e&&e.x===this.x&&this.y===e.y}}class Hw{static getClickPoint(e,t,r,i,s){return new T(Math.floor((e.y-t)/(r/8)),Math.floor((e.x-i)/(s/8)))}static getDrawingPoint(e,t,r,i,s,a,c,u,f){const p=e/8,m=Math.floor((r-u)/p),y=Math.floor((i-f)/p);let D=t.resolve(s,c,a);return new Vk(Math.floor(m*p+p/2),Math.floor(y*p+p/2),D)}}class jk{constructor(e,t,r,i){this.move=e,this.piece=t,this.color=r,this.x=i}setGameStates(e,t,r){this.check=e,this.stalemate=t,this.mate=r}}class $k{constructor(){this.historyMovesSubject$=new In([])}get historyMoves(){return this.historyMovesSubject$.value}set historyMoves(e){this.historyMovesSubject$.next(e)}addMove(e){this.historyMoves=[...this.historyMoves,e]}pop(){const e=this.getLastMove();return this.historyMoves=this.historyMoves.filter(t=>t!==e),e}getAll(){return this.historyMoves}clear(){this.historyMoves=[]}getLastMove(){return this.historyMoves[this.getLastMoveIndex()]}getLastMoveIndex(){return this.historyMoves.length-1}}let ys=(()=>{class n{}return n.DEFAULT_DARK_TILE_COLOR="rgb(97, 84, 61)",n.DEFAULT_LIGHT_TILE_COLOR="#BAA378",n.DEFAULT_SIZE=500,n.MIN_BOARD_SIZE=100,n.MAX_BOARD_SIZE=4e3,n.DEFAULT_SOURCE_POINT_COLOR="rgba(146, 111, 26, 0.79)",n.DEFAULT_DESTINATION_POINT_COLOR="#b28e1a",n.DEFAULT_LEGAL_MOVE_POINT_COLOR="radial-gradient(#13262F 15%, transparent 20%);",n})();class Wk{constructor(){this._defaultIcons=!1}get pieceIconInput(){return this._pieceIconInput}set pieceIconInput(e){this._pieceIconInput=e}get defaultIcons(){return this._defaultIcons}set defaultIcons(e){this._defaultIcons=e}isDefaultIcons(){return null==this.pieceIconInput}getPieceIcon(e){let t=e.color===w.WHITE;switch(e.constructor){case Ne:return t?this.pieceIconInput.whiteKingUrl:this.pieceIconInput.blackKingUrl;case zi:return t?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;case zt:return t?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;case Hr:return t?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;case Ur:return t?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl;case Kt:return t?this.pieceIconInput.whitePawnUrl:this.pieceIconInput.blackPawnUrl}}loadDefaultData(){this.pieceIconInput={blackBishopUrl:"",blackKingUrl:"",blackKnightUrl:"",blackQueenUrl:"",blackRookUrl:"",whiteBishopUrl:"",whiteKingUrl:"",whiteKnightUrl:"",whitePawnUrl:"",whiteQueenUrl:"",whiteRookUrl:"",blackPawnUrl:"a"}}}class zk{constructor(){this.defaultXCoords=["a","b","c","d","e","f","g","h"],this.defaultYCoords=[8,7,6,5,4,3,2,1],this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}get xCoords(){return this.currentXCoords}get yCoords(){return this.currentYCoords}reverse(){this.currentXCoords=this.currentXCoords.reverse(),this.currentYCoords=this.currentYCoords.reverse()}reset(){this.init()}init(){this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}}class Kk{dragEnded(e,t,r){t||r&&(e.source._dragRef.getRootElement().style.transform=r)}}class Gk{constructor(){this.dragEndProcessor=new Kk}process(e,t,r){this.dragEndProcessor.dragEnded(e,t,r)}setDragEndProcessor(e){this.dragEndProcessor=e}}class qk{dragStarted(e){const t=e.source.getRootElement().style;t.zIndex="1000",t.position="absolute"}}class Zk{constructor(){this.dragStartProcessor=new qk}process(e){this.dragStartProcessor.dragStarted(e)}setDragStartProcessor(e){this.dragStartProcessor=e}}class Qk{resolve(e,t,r){let i="green";return(e||t)&&(i="red"),r&&(i="blue"),(t||e)&&r&&(i="orange"),i}}class Yk{constructor(){this.colorProcessor=new Qk}resolve(e,t,r){return this.colorProcessor.resolve(e,t,r)}setColorProcessor(e){this.colorProcessor=e}}class Xk{constructor(){this.arrowsSubject$=new In([]),this.circlesSubject$=new In([]),this.arrows$=this.arrowsSubject$.asObservable(),this.circles$=this.circlesSubject$.asObservable()}get circles(){return this.circlesSubject$.value}set circles(e){this.circlesSubject$.next(e)}get arrows(){return this.arrowsSubject$.value}set arrows(e){this.arrowsSubject$.next(e)}addCircle(e){this.circles=[...this.circles,e]}reomveCircle(e){this.circles=this.circles.filter(t=>!t.isEqual(e))}addArrow(e){this.arrows=[...this.arrows,e]}removeArrow(e){this.arrows=this.arrows.filter(t=>!t.isEqual(e))}containsCircle(e){return this.circles.some(t=>t.isEqual(e))}containsArrow(e){return this.arrows.some(t=>t.isEqual(e))}clear(){this.arrows=[],this.circles=[]}}class eL extends class Jk{constructor(){this.pgn="",this.currentIndex=.5}getPGN(){return this.pgn}processChecks(e,t,r){e?this.pgn+="#":t&&(this.pgn+="+")}reset(){this.pgn="",this.currentIndex=.5}addPromotionChoice(e){switch(e){case 1:this.pgn+="=Q";break;case 2:this.pgn+="=R";break;case 3:this.pgn+="=B";break;case 4:this.pgn+="=N"}}removeLast(){if(this.currentIndex>=.5){this.currentIndex-=.5;const e=new RegExp(/\d+\./g);e.test(this.pgn),this.pgn=this.pgn.substring(0,e.lastIndex).trim()}}}{process(e,t,r,i){this.currentIndex+=.5,this.pgn+=this.currentIndex%Math.floor(this.currentIndex)==0?" "+this.currentIndex+". ":" ";let s=[],a=[];i&&(s=q.findPieceByPossibleCapturesContaining(q.formatSingle(r,e.reverted),e,t.color).filter(c=>c.constructor.name===t.constructor.name)),a=q.findPieceByPossibleMovesContaining(q.formatSingle(r,e.reverted),e,t.color).filter(c=>c.constructor.name===t.constructor.name),t instanceof Kt&&!i&&0===s.length?this.pgn+=q.formatSingle(r,e.reverted):t instanceof Kt&&i?this.pgn+=q.formatSingle(t.point,e.reverted).substring(0,1)+"x"+q.formatSingle(r,e.reverted):t instanceof Ne&&2===Math.abs(t.point.col-r.col)?this.pgn+=e.reverted?r.col<2?"O-O":"O-O-O":r.col<3?"O-O-O":"O-O":!(t instanceof Kt)&&0===s.length&&a.length<2?this.pgn+=q.getFirstLetterPiece(t)+q.formatSingle(r,e.reverted):a&&2===a.length&&0===s.length?this.isEqualByCol(a[0],a[1])?this.pgn+=q.getFirstLetterPiece(t)+q.reverse(e,t.point.row)+q.formatSingle(r,e.reverted):this.pgn+=q.getFirstLetterPiece(t)+q.formatCol(e,t.point.col)+q.formatSingle(r,e.reverted):s.length>1?this.isEqualByCol(s[0],s[1])?this.pgn+=q.getFirstLetterPiece(t)+q.reverse(e,t.point.row)+"x"+q.formatSingle(r,e.reverted):this.pgn+=q.getFirstLetterPiece(t)+q.formatCol(e,t.point.col)+"x"+q.formatSingle(r,e.reverted):this.pgn+=q.getFirstLetterPiece(t)+"x"+q.formatSingle(r,e.reverted),this.pgn=this.pgn.trim()}resolvePieceByFirstChar(e,t){return q.getFirstLetterPiece(t)===e}isEqualByCol(e,t){return e.point.col===t.point.col}}class nL{constructor(e,t){this.engineFacade=e,this.notationProcessor=t||Bw.getDefaultProcessor()}addPieces(){CS.loadDefaultPieces(this.engineFacade.board)}loadFEN(e){this.notationProcessor.process(e,this.engineFacade)}loadPGN(e){this.notationProcessor.process(e,this.engineFacade)}setEngineFacade(e){this.engineFacade=e}setNotationProcessor(e){this.notationProcessor=e}}class bS{constructor(e){this.board=e}}class rL{constructor(){this.statesSubject$=new In([])}get states(){return this.statesSubject$.value}set states(e){this.statesSubject$.next(e)}addMove(e){this.states=[...this.states,e]}getStates(){return this.states}pop(){const e=this.getLastState();return this.states=this.states.filter(t=>t!==e),e}isEmpty(){return 0===this.states.length}clear(){this.states=[]}getLastState(){return this.states[this.getLastStateIndex()]}getLastStateIndex(){return this.states.length-1}}class iL{isEqual(e){return e&&this.start.isEqual(e.start)&&this.end.isEqual(e.end)}}class sL{isEqual(e){return e&&this.drawPoint.isEqual(e.drawPoint)}}class ES extends class oL{constructor(e){this.piece=e}}{constructor(e,t,r,i){super(e),this.pointClicked=t,this.color=r,this.board=i}getPossibleCaptures(){return this.piece.getPossibleCaptures().filter(e=>!q.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}getPossibleMoves(){return this.piece.getPossibleMoves().filter(e=>!q.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}}class IS{static resolvePromotionChoice(e,t,r){const i=t.color===w.WHITE;switch(r){case 1:e.pieces.push(new zi(t.point,t.color,i?te.WHITE_QUEEN:te.BLACK_QUEEN,e));break;case 2:e.pieces.push(new zt(t.point,t.color,i?te.WHITE_ROOK:te.BLACK_ROOK,e));break;case 3:e.pieces.push(new Hr(t.point,t.color,i?te.WHITE_BISHOP:te.BLACK_BISHOP,e));break;case 4:e.pieces.push(new Ur(t.point,t.color,i?te.WHITE_KNIGHT:te.BLACK_KNIGHT,e))}}}var ws=(()=>{return(n=ws||(ws={}))[n.KING=1]="KING",n[n.QUEEN=2]="QUEEN",n[n.BISHOP=3]="BISHOP",n[n.KNIGHT=4]="KNIGHT",n[n.ROOK=5]="ROOK",n[n.PAWN=6]="PAWN",ws;var n})(),Yg=(()=>{return(n=Yg||(Yg={}))[n.LIGHT=1]="LIGHT",n[n.DARK=2]="DARK",Yg;var n})();class lL extends class tL{constructor(e){this.dragStartStrategy=new Zk,this.dragEndStrategy=new Gk,this.pgnProcessor=new eL,this.colorStrategy=new Yk,this.coords=new zk,this.heightAndWidth=ys.DEFAULT_SIZE,this.freeMode=!1,this.drawProvider=new Xk,this.pieceIconManager=new Wk,this.moveHistoryProvider=new $k,this.disabling=!1,this.board=e}checkIfPawnFirstMove(e){e instanceof Kt&&(e.isMovedAlready=!0)}checkIfRookMoved(e){e instanceof zt&&(e.isMovedAlready=!0)}checkIfKingMoved(e){e instanceof Ne&&(e.isMovedAlready=!0)}getMoveHistory(){return this.moveHistoryProvider.getAll()}}{constructor(e,t){super(e),this._selected=!1,this.moveChange=t,this.boardLoader=new nL(this),this.boardLoader.addPieces(),this.boardStateProvider=new rL}reset(){this.boardStateProvider.clear(),this.moveHistoryProvider.clear(),this.boardLoader.addPieces(),this.board.reset(),this.coords.reset(),this.drawProvider.clear(),this.pgnProcessor.reset()}undo(){if(!this.boardStateProvider.isEmpty()){const e=this.boardStateProvider.pop().board;this.board.reverted&&e.reverse(),this.board=e,this.board.possibleCaptures=[],this.board.possibleMoves=[],this.board.activePiece=null,this.moveHistoryProvider.pop(),this.board.calculateFEN(),this.pgnProcessor.removeLast()}}saveMoveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.moveStateProvider.addMove(new bS(e))}move(e){if(e){const t=q.translateCoordsToIndex(e.substring(0,2),this.board.reverted),r=q.translateCoordsToIndex(e.substring(2,4),this.board.reverted),i=this.board.getPieceByPoint(t.yAxis,t.xAxis);if(i){if(this.board.currentWhitePlayer&&i.color===w.BLACK||!this.board.currentWhitePlayer&&i.color===w.WHITE)return;this.prepareActivePiece(i,i.point),this.board.isPointInPossibleMoves(new T(r.yAxis,r.xAxis))||this.board.isPointInPossibleCaptures(new T(r.yAxis,r.xAxis))?(this.saveClone(),this.movePiece(i,new T(r.yAxis,r.xAxis),5===e.length?+e.substring(4,5):0),this.board.lastMoveSrc=new T(t.yAxis,t.xAxis),this.board.lastMoveDest=new T(r.yAxis,r.xAxis),this.disableSelection()):this.disableSelection()}}}prepareActivePiece(e,t){this.board.activePiece=e,this._selected=!0,this.board.possibleCaptures=new ES(e,t,this.board.currentWhitePlayer?w.WHITE:w.BLACK,this.board).getPossibleCaptures(),this.board.possibleMoves=new ES(e,t,this.board.currentWhitePlayer?w.WHITE:w.BLACK,this.board).getPossibleMoves()}onPieceClicked(e,t){this.board.currentWhitePlayer&&e.color===w.BLACK||!this.board.currentWhitePlayer&&e.color===w.WHITE||this.prepareActivePiece(e,t)}handleClickEvent(e,t){let r=!1;(this.board.isPointInPossibleMoves(e)||this.board.isPointInPossibleCaptures(e)||this.freeMode)&&e.isInRange()&&(this.saveClone(),this.board.lastMoveSrc=new T(this.board.activePiece.point.row,this.board.activePiece.point.col),this.board.lastMoveDest=e.clone(),this.movePiece(this.board.activePiece,e),this.board.activePiece.point.isEqual(this.board.lastMoveSrc)||(r=!0)),(t||r)&&this.disableSelection(),this.disableSelection();const i=this.board.getPieceByPoint(e.row,e.col);i&&!r&&(this.onFreeMode(i),this.onPieceClicked(i,e))}onMouseDown(e,t,r,i){if(this.moveDone=!1,0!==e.button)return void(this.drawPoint=Hw.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i));if(this.drawProvider.clear(),this.board.activePiece&&t.isEqual(this.board.activePiece.point))return void(this.disabling=!0);const s=this.board.getPieceByPoint(t.row,t.col);if(this.freeMode&&s){if(e.ctrlKey)return void(this.board.pieces=this.board.pieces.filter(a=>a!==s));this.board.currentWhitePlayer=s.color===w.WHITE}this.isPieceDisabled(s)||(this._selected?this.handleClickEvent(t,!0):s&&(this.onFreeMode(s),this.onPieceClicked(s,t)))}onMouseUp(e,t,r,i){if(this.moveDone=!1,0!==e.button&&!this.drawDisabled)return void this.addDrawPoint(e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i);if(this.drawProvider.clear(),this.dragDisabled)return;if(this.board.activePiece&&t.isEqual(this.board.activePiece.point)&&this.disabling)return this.disableSelection(),void(this.disabling=!1);const s=this.board.getPieceByPoint(t.row,t.col);this.isPieceDisabled(s)||this._selected&&this.handleClickEvent(t,!1)}saveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.boardStateProvider.addMove(new bS(e))}movePiece(e,t,r){const i=this.board.pieces.find(s=>s.point.col===t.col&&s.point.row===t.row);if(this.pgnProcessor.process(this.board,e,t,i),i&&e.color!==i.color)this.board.pieces=this.board.pieces.filter(s=>s!==i);else if(i&&e.color===i.color)return;if(this.historyMoveCandidate=new jk(q.format(e.point,t,this.board.reverted),e.constant.name,e.color===w.WHITE?"white":"black",!!i),this.moveHistoryProvider.addMove(this.historyMoveCandidate),e instanceof Ne&&Math.abs(t.col-e.point.col)>1)if(t.col<3){const a=this.board.getPieceByField(e.point.row,0);this.freeMode||(a.point.col=this.board.reverted?2:3)}else{const a=this.board.getPieceByField(e.point.row,7);this.freeMode||(a.point.col=this.board.reverted?4:5)}e instanceof Kt?(this.board.checkIfPawnTakesEnPassant(t),this.board.checkIfPawnEnpassanted(e,t)):(this.board.enPassantPoint=null,this.board.enPassantPiece=null),e.point=t,this.increaseFullMoveCount(),this.board.currentWhitePlayer=!this.board.currentWhitePlayer,this.checkForPawnPromote(e,r)||this.afterMoveActions()}checkForPawnPromote(e,t){if(e instanceof Kt&&(0===e.point.row||7===e.point.row))return this.board.pieces=this.board.pieces.filter(r=>r!==e),t?(IS.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)):this.openPromoteDialog(e),!0}afterMoveActions(e){this.checkIfPawnFirstMove(this.board.activePiece),this.checkIfRookMoved(this.board.activePiece),this.checkIfKingMoved(this.board.activePiece),this.board.blackKingChecked=this.board.isKingInCheck(w.BLACK,this.board.pieces),this.board.whiteKingChecked=this.board.isKingInCheck(w.WHITE,this.board.pieces);const t=this.board.blackKingChecked||this.board.whiteKingChecked,r=this.checkForPossibleMoves(w.BLACK)||this.checkForPossibleMoves(w.WHITE),i=this.checkForPat(w.BLACK)||this.checkForPat(w.WHITE);this.historyMoveCandidate.setGameStates(t,i,r),this.pgnProcessor.processChecks(r,t,i),this.pgnProcessor.addPromotionChoice(e),this.disabling=!1,this.board.calculateFEN();const s=this.moveHistoryProvider.getLastMove();s&&e&&(s.move+=e),this.moveChange.emit(Object.assign(Object.assign({},s),{check:t,checkmate:r,stalemate:i,fen:this.board.fen,pgn:{pgn:this.pgnProcessor.getPGN()},freeMode:this.freeMode})),this.moveDone=!0}checkForPat(e){return e===w.WHITE&&!this.board.whiteKingChecked||e===w.BLACK&&!this.board.blackKingChecked?this.checkForPossibleMoves(e):void 0}openPromoteDialog(e){e.color===this.board.activePiece.color&&this.modal.open(t=>{IS.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)})}checkForPossibleMoves(e){return!this.board.pieces.filter(t=>t.color===e).some(t=>t.getPossibleMoves().some(r=>!q.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board))||t.getPossibleCaptures().some(r=>!q.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board)))}disableSelection(){this._selected=!1,this.board.possibleCaptures=[],this.board.activePiece=null,this.board.possibleMoves=[]}onFreeMode(e){!this.freeMode||null==e||(this.board.currentWhitePlayer=e.color===w.WHITE)}isPieceDisabled(e){return!(e&&e.point&&this.board.possibleCaptures.find(r=>r.col===e.point.col&&r.row===e.point.row))&&e&&(this.lightDisabled&&e.color===w.WHITE||this.darkDisabled&&e.color===w.BLACK)}addDrawPoint(e,t,r,i,s,a,c){const u=Hw.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e,t,r,i,s,a,c);if(this.drawPoint.isEqual(u)){const f=new sL;f.drawPoint=u,this.drawProvider.containsCircle(f)?this.drawProvider.reomveCircle(f):this.drawProvider.addCircle(f)}else{const f=new iL;f.start=this.drawPoint,f.end=u,this.drawProvider.containsArrow(f)?this.drawProvider.removeArrow(f):this.drawProvider.addArrow(f)}}increaseFullMoveCount(){this.board.currentWhitePlayer||++this.board.fullMoveCount}addPiece(e,t,r){if(this.freeMode&&r&&e>0&&t>0){let i=q.translateCoordsToIndex(r,this.board.reverted),s=this.board.getPieceByPoint(i.yAxis,i.xAxis);s&&(this.board.pieces=this.board.pieces.filter(c=>c!==s));let a=class aL{static create(e,t,r,i){let s,a=r===Yg.LIGHT?w.WHITE:w.BLACK;switch(t){case ws.QUEEN:s=new zi(new T(e.yAxis,e.xAxis),a,a===w.WHITE?te.WHITE_QUEEN:te.BLACK_QUEEN,i);break;case ws.KING:s=new Ne(new T(e.yAxis,e.xAxis),a,a===w.WHITE?te.WHITE_KING:te.BLACK_KING,i);break;case ws.KNIGHT:s=new Ur(new T(e.yAxis,e.xAxis),a,a===w.WHITE?te.WHITE_KNIGHT:te.BLACK_KNIGHT,i);break;case ws.BISHOP:s=new Hr(new T(e.yAxis,e.xAxis),a,a===w.WHITE?te.WHITE_BISHOP:te.BLACK_BISHOP,i);break;case ws.ROOK:s=new zt(new T(e.yAxis,e.xAxis),a,a===w.WHITE?te.WHITE_ROOK:te.BLACK_ROOK,i);break;case ws.PAWN:s=new Kt(new T(e.yAxis,e.xAxis),a,a===w.WHITE?te.WHITE_PAWN:te.BLACK_PAWN,i)}return s}}.create(i,e,t,this.board);this.saveClone(),this.board.pieces.push(a),this.afterMoveActions()}}}class cL{constructor(){this.board=[],this.pieces=[],this.enPassantPoint=null,this.enPassantPiece=null,this.lastMoveSrc=null,this.lastMoveDest=null,this.possibleCaptures=[],this.possibleMoves=[],this.currentWhitePlayer=!0,this.reverted=!1,this.fullMoveCount=1;for(let e=0;e<8;++e){this.board[e]=[];for(let t=0;t<8;++t)this.board[e][t]=0}}isXYInPossibleMoves(e,t){return this.possibleMoves.some(r=>r.row===e&&r.col===t)}isXYInPossibleCaptures(e,t){return this.possibleCaptures.some(r=>r.row===e&&r.col===t)}isXYInSourceMove(e,t){return this.lastMoveSrc&&this.lastMoveSrc.row===e&&this.lastMoveSrc.col===t}isXYInDestMove(e,t){return this.lastMoveDest&&this.lastMoveDest.row===e&&this.lastMoveDest.col===t}isXYInActiveMove(e,t){return this.activePiece&&this.activePiece.point.row===e&&this.activePiece.point.col===t}isPointInPossibleMoves(e){return this.possibleMoves.some(t=>t.row===e.row&&t.col===e.col)}isPointInPossibleCaptures(e){return this.possibleCaptures.some(t=>t.row===e.row&&t.col===e.col)}reset(){this.lastMoveDest=null,this.lastMoveSrc=null,this.whiteKingChecked=!1,this.blackKingChecked=!1,this.possibleCaptures=[],this.possibleMoves=[],this.activePiece=null,this.reverted=!1,this.currentWhitePlayer=!0,this.enPassantPoint=null,this.enPassantPiece=null,this.fullMoveCount=1,this.calculateFEN()}reverse(){this.reverted=!this.reverted,this.activePiece=null,this.possibleMoves=[],this.possibleCaptures=[],this.pieces.forEach(e=>this.reversePoint(e.point)),this.reversePoint(this.lastMoveSrc),this.reversePoint(this.lastMoveDest),this.enPassantPoint&&this.enPassantPiece&&this.reversePoint(this.enPassantPoint)}clone(){return(0,bk.cloneDeep)(this)}isFieldTakenByEnemy(e,t,r){return!(e>7||e<0||t>7||t<0)&&this.pieces.some(i=>i.point.col===t&&i.point.row===e&&i.color===r)}isFieldEmpty(e,t){return!(e>7||e<0||t>7||t<0||this.pieces.some(r=>r.point.col===t&&r.point.row===e))}isFieldUnderAttack(e,t,r){return this.pieces.filter(i=>i.color===r).some(i=>i.getCoveredFields().some(s=>s.col===t&&s.row===e))}getPieceByField(e,t){if(!this.isFieldEmpty(e,t))return this.pieces.find(r=>r.point.col===t&&r.point.row===e)}isKingInCheck(e,t){const r=t.find(i=>i.color===e&&i instanceof Ne);return!!r&&t.some(i=>i.getPossibleCaptures().some(s=>s.col===r.point.col&&s.row===r.point.row)&&i.color!==e)}getKingByColor(e){return this.pieces.find(t=>t instanceof Ne&&t.color===e)}getCastleFENString(e){const t=this.getKingByColor(e);if(!t||t.isMovedAlready)return"";let r="";const i=this.getPieceByField(t.point.row,0),s=this.getPieceByField(t.point.row,7);return s instanceof zt&&s.color===e&&(s.isMovedAlready||(r+=this.reverted?"q":"k")),i instanceof zt&&i.color===e&&(i.isMovedAlready||(r+=this.reverted?"k":"q")),r=r.split("").sort().join(""),e===w.BLACK?r:r.toUpperCase()}getEnPassantFENString(){return this.enPassantPoint?this.reverted?String.fromCharCode(104-this.enPassantPoint.col)+(this.enPassantPoint.row+1):String.fromCharCode(97+this.enPassantPoint.col)+(Math.abs(this.enPassantPoint.row-7)+1):"-"}calculateFEN(){let e="";for(let s=0;s<8;++s){let a=0;for(let c=0;c<8;++c){const u=this.pieces.find(f=>f.point.col===c&&f.point.row===s);u?(a>0&&(e+=a,a=0),u instanceof zt?e+=u.color===w.BLACK?"r":"R":u instanceof Ur?e+=u.color===w.BLACK?"n":"N":u instanceof Hr?e+=u.color===w.BLACK?"b":"B":u instanceof zi?e+=u.color===w.BLACK?"q":"Q":u instanceof Ne?e+=u.color===w.BLACK?"k":"K":u instanceof Kt&&(e+=u.color===w.BLACK?"p":"P")):++a}a>0&&(e+=a),e+="/"}e=e.substr(0,e.length-1),this.reverted&&(e=e.split("").reverse().join("")),e+=" "+(this.currentWhitePlayer?"w":"b");let i=this.getCastleFENString(w.WHITE)+this.getCastleFENString(w.BLACK);i||(i="-"),e+=" "+i,e+=" "+this.getEnPassantFENString(),e+=" 0",e+=" "+this.fullMoveCount,this.fen=e}isXYInPointSelection(e,t){return!1}reversePoint(e){e&&(e.row=Math.abs(e.row-7),e.col=Math.abs(e.col-7))}getPieceByPoint(e,t){return e=Math.floor(e),t=Math.floor(t),this.pieces.find(r=>r.point.col===t&&r.point.row===e)}checkIfPawnTakesEnPassant(e){e.isEqual(this.enPassantPoint)&&(this.pieces=this.pieces.filter(t=>t!==this.enPassantPiece),this.enPassantPoint=null,this.enPassantPiece=null)}checkIfPawnEnpassanted(e,t){Math.abs(e.point.row-t.row)>1?(this.enPassantPiece=e,this.enPassantPoint=new T((e.point.row+t.row)/2,e.point.col)):(this.enPassantPoint=null,this.enPassantPiece=null)}isKingChecked(e){if(e instanceof Ne)return e.color===w.WHITE?this.whiteKingChecked:this.blackKingChecked}getCurrentPlayerColor(){return this.currentWhitePlayer?w.WHITE:w.BLACK}}let SS=(()=>{class n{constructor(){this.componentMethodCallSource=new Oe,this.componentMethodCalled$=this.componentMethodCallSource.asObservable()}reset(){this.componentMethodCallSource.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uL=(()=>{class n{constructor(){this.color="white",this.opened=!1}open(t){this.opened=!0,this.onCloseCallback=t,this.modal.nativeElement.style.display="block"}changeSelection(t){this.modal.nativeElement.style.display="none",this.opened=!1,this.onCloseCallback(t)}getPieceIcon(t){let r="";switch(t.toLowerCase()){case"queen":r="white"===this.color?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;break;case"rook":r="white"===this.color?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;break;case"bishop":r="white"===this.color?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;break;case"knight":r="white"===this.color?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl}return r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xs({type:n,selectors:[["app-piece-promotion-modal"]],viewQuery:function(t,r){if(1&t&&Sd(Ek,5),2&t){let i;Vi(i=ji())&&(r.modal=i.first)}},inputs:{pieceIconInput:"pieceIconInput",color:"color"},decls:6,vars:2,consts:[[1,"container"],["myModal",""],[1,"wrapper"],[1,"content"],["class","piece-wrapper",4,"ngIf"],[1,"piece-wrapper"],[1,"piece",3,"click"],["alt","Queen",3,"src"],["alt","Rook",3,"src"],["alt","Bishop",3,"src"],["alt","Knight",3,"src"]],template:function(t,r){1&t&&(lt(0,"div",0,1)(2,"div",2)(3,"div",3),Fr(4,Ik,9,4,"div",4),Fr(5,Sk,9,0,"div",4),ct()()()),2&t&&(ae(4),ht("ngIf",r.pieceIconInput),ae(1),ht("ngIf",!r.pieceIconInput))},directives:[zy],styles:[".container[_ngcontent-%COMP%]{display:none;position:absolute;z-index:9999;top:0;color:#000;width:100%;height:100%;overflow:auto;background-color:#0006}.wrapper[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;position:relative;top:30%;font-size:100%;height:40%;padding:10px;border:1px solid #888;width:90%}.piece[_ngcontent-%COMP%]{font-size:5rem;height:100%;width:25%;cursor:pointer;display:inline-block;text-align:center}.piece[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.piece[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:5px}.piece-wrapper[_ngcontent-%COMP%]{height:80%;width:100%}#close-button[_ngcontent-%COMP%]{border-radius:4px;background-color:#4caf50;border:none;color:#fff;padding-left:5px;padding-right:5px;text-align:center;text-decoration:none;display:inline-block}.selected[_ngcontent-%COMP%]{border:2px solid #00B919;border-radius:4px;box-sizing:border-box}"]}),n})(),dL=(()=>{class n{constructor(t){this.ngxChessBoardService=t,this.darkTileColor=ys.DEFAULT_DARK_TILE_COLOR,this.lightTileColor=ys.DEFAULT_LIGHT_TILE_COLOR,this.showCoords=!0,this.sourcePointColor=ys.DEFAULT_SOURCE_POINT_COLOR,this.destinationPointColor=ys.DEFAULT_DESTINATION_POINT_COLOR,this.legalMovesPointColor=ys.DEFAULT_LEGAL_MOVE_POINT_COLOR,this.showLastMove=!0,this.showLegalMoves=!0,this.showActivePiece=!0,this.showPossibleCaptures=!0,this.moveChange=new rt,this.checkmate=new rt,this.stalemate=new rt,this.selected=!1,this.isDragging=!1,this.startTransition="",this.engineFacade=new lL(new cL,this.moveChange)}set size(t){this.engineFacade.heightAndWidth=t&&t>=ys.MIN_BOARD_SIZE&&t<=ys.MAX_BOARD_SIZE?t:ys.DEFAULT_SIZE,this.engineFacade.drawProvider.clear(),this.calculatePieceSize()}set freeMode(t){this.engineFacade.freeMode=t}set dragDisabled(t){this.engineFacade.dragDisabled=t}set drawDisabled(t){this.engineFacade.drawDisabled=t}set pieceIcons(t){this.engineFacade.pieceIconManager.pieceIconInput=t}set lightDisabled(t){this.engineFacade.lightDisabled=t}set darkDisabled(t){this.engineFacade.darkDisabled=t}onRightClick(t){t.preventDefault()}ngOnChanges(t){(t.lightDisabled&&this.lightDisabled&&this.engineFacade.board.currentWhitePlayer||t.darkDisabled&&this.darkDisabled&&!this.engineFacade.board.currentWhitePlayer)&&(this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[])}ngOnInit(){this.ngxChessBoardService.componentMethodCalled$.subscribe(()=>{this.engineFacade.reset()})}ngAfterViewInit(){this.engineFacade.modal=this.modal,this.calculatePieceSize()}onMouseUp(t){this.engineFacade.onMouseUp(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}reverse(){this.selected=!1,this.engineFacade.board.reverse(),this.engineFacade.coords.reverse()}updateBoard(t){this.engineFacade.board=t,this.boardLoader.setEngineFacade(this.engineFacade),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[]}setFEN(t){try{this.engineFacade.boardLoader.setNotationProcessor(Bw.getProcessor(ga.FEN)),this.engineFacade.boardLoader.loadFEN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){this.engineFacade.boardLoader.addPieces()}}setPGN(t){try{this.engineFacade.pgnProcessor.reset(),this.engineFacade.boardLoader.setNotationProcessor(Bw.getProcessor(ga.PGN)),this.engineFacade.boardLoader.loadPGN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){console.log(r),this.engineFacade.boardLoader.addPieces()}}getFEN(){return this.engineFacade.board.fen}dragEnded(t){this.isDragging=!1,this.engineFacade.dragEndStrategy.process(t,this.engineFacade.moveDone,this.startTransition)}dragStart(t){this.isDragging=!0;let r=t.source.getRootElement().style.transform.split(") ");this.startTransition=2===r.length?r[1]:r[0],this.engineFacade.dragStartStrategy.process(t)}onMouseDown(t){this.engineFacade.onMouseDown(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}getClickPoint(t){return Hw.getClickPoint(t,this.boardRef.nativeElement.getBoundingClientRect().top,this.boardRef.nativeElement.getBoundingClientRect().height,this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().width)}calculatePieceSize(){this.pieceSize=this.engineFacade.heightAndWidth/8}getCustomPieceIcons(t){return JSON.parse(`{ "background-image": "url('${this.engineFacade.pieceIconManager.getPieceIcon(t)}')"}`)}move(t){this.engineFacade.move(t)}getMoveHistory(){return this.engineFacade.getMoveHistory()}reset(){this.engineFacade.reset()}undo(){this.engineFacade.undo()}addPiece(t,r,i){this.engineFacade.addPiece(t,r,i)}getPGN(){return this.engineFacade.pgnProcessor.getPGN()}dragMoved(t){let r=t.pointerPosition.x-t.source.getRootElement().parentElement.getBoundingClientRect().left-this.pieceSize/2,i=t.pointerPosition.y-t.source.getRootElement().parentElement.getBoundingClientRect().top-this.pieceSize/2;t.source.getRootElement().style.transform="translate3d("+r+"px, "+i+"px,0px)"}getTileBackgroundColor(t,r){let i=(t+r)%2==0?this.lightTileColor:this.darkTileColor;return this.showLastMove&&(this.engineFacade.board.isXYInSourceMove(t,r)&&(i=this.sourcePointColor),this.engineFacade.board.isXYInDestMove(t,r)&&(i=this.destinationPointColor)),i}}return n.\u0275fac=function(t){return new(t||n)(z(SS))},n.\u0275cmp=xs({type:n,selectors:[["ngx-chess-board"]],viewQuery:function(t,r){if(1&t&&(Sd(Tk,5),Sd(Ak,5)),2&t){let i;Vi(i=ji())&&(r.boardRef=i.first),Vi(i=ji())&&(r.modal=i.first)}},hostBindings:function(t,r){1&t&&hn("contextmenu",function(s){return r.onRightClick(s)})},inputs:{darkTileColor:"darkTileColor",lightTileColor:"lightTileColor",showCoords:"showCoords",sourcePointColor:"sourcePointColor",destinationPointColor:"destinationPointColor",legalMovesPointColor:"legalMovesPointColor",showLastMove:"showLastMove",showLegalMoves:"showLegalMoves",showActivePiece:"showActivePiece",showPossibleCaptures:"showPossibleCaptures",size:"size",freeMode:"freeMode",dragDisabled:"dragDisabled",drawDisabled:"drawDisabled",pieceIcons:"pieceIcons",lightDisabled:"lightDisabled",darkDisabled:"darkDisabled"},outputs:{moveChange:"moveChange",checkmate:"checkmate",stalemate:"stalemate"},features:[xn],decls:13,vars:18,consts:[["id","board",3,"pointerdown","pointerup"],["boardRef",""],["id","drag"],["class","single-piece","cdkDrag","",3,"cdkDragDisabled","innerHTML","ngStyle","transform","max-height","font-size","width","height","cdkDragEnded","cdkDragMoved","cdkDragStarted",4,"ngFor","ngForOf"],["class","board-row",4,"ngFor","ngForOf"],[2,"position","absolute","top","0","pointer-events","none"],[4,"ngFor","ngForOf"],["class","arrow",4,"ngFor","ngForOf"],["fill-opacity","0.0","stroke-width","2",4,"ngFor","ngForOf"],[3,"pieceIconInput","color"],["modal",""],["cdkDrag","",1,"single-piece",3,"cdkDragDisabled","innerHTML","ngStyle","cdkDragEnded","cdkDragMoved","cdkDragStarted"],[1,"board-row"],["class","board-col",3,"current-selection","king-check","point-circle","possible-capture","possible-point","background-color",4,"ngFor","ngForOf"],[1,"board-col"],["class","yCoord",3,"color","font-size",4,"ngIf"],["class","xCoord",3,"color","font-size",4,"ngIf"],["style","height:100%; width:100%",4,"ngIf"],[1,"yCoord"],[1,"xCoord"],[2,"height","100%","width","100%"],[3,"ngClass"],["markerHeight","13","markerWidth","13","orient","auto","refX","9","refY","6",3,"id"],["d","M2,2 L2,11 L10,6 L2,2"],[1,"arrow"],["fill-opacity","0.0","stroke-width","2"]],template:function(t,r){if(1&t){const i=gd();lt(0,"div",0,1),hn("pointerdown",function(a){return sn(i),!Nv(12).opened&&r.onMouseDown(a)})("pointerup",function(a){return sn(i),!Nv(12).opened&&r.onMouseUp(a)}),lt(2,"div",2),Fr(3,Mk,1,13,"div",3),Fr(4,Ok,2,1,"div",4),ct(),Ro(),lt(5,"svg",5),Fr(6,kk,3,3,"defs",6),Fr(7,Lk,1,6,"line",7),iy(8,"async"),Fr(9,Nk,1,4,"circle",8),iy(10,"async"),ct(),function za(){!function os(){J.lFrame.currentNamespace=null}()}(),Or(11,"app-piece-promotion-modal",9,10),ct()}2&t&&(fs("height",r.engineFacade.heightAndWidth,"px")("width",r.engineFacade.heightAndWidth,"px"),ae(3),ht("ngForOf",r.engineFacade.board.pieces),ae(1),ht("ngForOf",r.engineFacade.board.board),ae(1),Ml("height",r.engineFacade.heightAndWidth)("width",r.engineFacade.heightAndWidth),ae(1),ht("ngForOf",function Jb(n,e,t){const r=Zt()+n,i=N();return i[r]===ne?Ni(i,r,t?e.call(t):e()):function pd(n,e){return n[e]}(i,r)}(17,Bk)),ae(1),ht("ngForOf",sy(8,13,r.engineFacade.drawProvider.arrows$)),ae(2),ht("ngForOf",sy(10,15,r.engineFacade.drawProvider.circles$)),ae(2),ht("pieceIconInput",r.engineFacade.pieceIconManager.pieceIconInput)("color",r.engineFacade.board.getCurrentPlayerColor()?"white":"black"))},directives:[uL,m0,Dk,w0,zy,g0],pipes:[D0],styles:['@charset "UTF-8";#board[_ngcontent-%COMP%]{font-family:Courier New,serif;position:relative}.board-row[_ngcontent-%COMP%]{display:block;width:100%;height:12.5%;position:relative}.board-col[_ngcontent-%COMP%]{position:relative;display:inline-block;width:12.5%;vertical-align:top;cursor:default;height:100%}.piece[_ngcontent-%COMP%]{height:100%;cursor:-webkit-grab;cursor:grab;width:100%;-moz-user-select:none;user-select:none;-webkit-user-select:none;background-size:cover;justify-content:center;text-align:center;color:#000!important;box-sizing:border-box}.piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}#drag[_ngcontent-%COMP%]{height:100%;width:100%}.possible-point[_ngcontent-%COMP%]{background:radial-gradient(#13262F 15%,transparent 20%)}.possible-point[_ngcontent-%COMP%]:hover, .possible-capture[_ngcontent-%COMP%]:hover{opacity:.4}.possible-capture[_ngcontent-%COMP%]{background:radial-gradient(transparent 0%,transparent 80%,#13262F 80%);opacity:.5;box-sizing:border-box;margin:0;padding:0}.king-check[_ngcontent-%COMP%]{background:radial-gradient(ellipse at center,red 0%,#e70000 25%,rgba(169,0,0,0) 89%,rgba(158,0,0,0) 100%)}.current-selection[_ngcontent-%COMP%]{background-color:#72620b!important}.yCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;right:.2em;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.xCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;left:.2em;bottom:0;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.hovering[_ngcontent-%COMP%]{background-color:red!important}.arrow[_ngcontent-%COMP%]{stroke-width:2}svg[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 0px #111) drop-shadow(-1px 1px 0px #111) drop-shadow(1px -1px 0px #111) drop-shadow(-1px -1px 0px #111)}[_nghost-%COMP%]{display:inline-block!important}.single-piece[_ngcontent-%COMP%]{position:absolute;z-index:999;justify-content:center;text-align:center;-moz-user-select:none;user-select:none;-webkit-user-select:none;color:#000!important;cursor:-webkit-grab;cursor:grab;background-size:cover}.single-piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}.cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-dragging){transition:transform .2s cubic-bezier(0,.3,.14,.49)}']}),n})(),fL=(()=>{class n{static forRoot(){return{ngModule:n,providers:[SS]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=qn({imports:[[b0,Ck]]}),n})();const hL=["board"];let pL=(()=>{class n{constructor(t){this.ref=t,this.title="iframepage",this.red="rgb(100, 0, 0)",console.log(window.origin),this.moveManual()}moveCallback(t){console.log("player just made a move",t," in window",window.name),window.parent.postMessage({gameMove:t,player:window.name},"*")}moveManual(){window.addEventListener("message",t=>{var r;if(t.data.player&&(null===(r=t.data)||void 0===r?void 0:r.player)!==window.name){console.log("e.data: ",t.data,window.name);let i=t.data.gameMove;console.log(i),this.boardManager.move(i.move)}})}ngAfterContentChecked(){this.ref.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(z(Md))},n.\u0275cmp=xs({type:n,selectors:[["app-child"]],viewQuery:function(t,r){if(1&t&&Sd(hL,5),2&t){let i;Vi(i=ji())&&(r.boardManager=i.first)}},decls:2,vars:1,consts:[[3,"darkTileColor","moveChange"],["board",""]],template:function(t,r){1&t&&(lt(0,"ngx-chess-board",0,1),hn("moveChange",function(s){return r.moveCallback(s)}),ct()),2&t&&ht("darkTileColor",r.red)},directives:[dL],styles:[""]}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Yn({type:n,bootstrap:[pL]}),n.\u0275inj=qn({providers:[],imports:[[NP,_O,fL.forRoot()]]}),n})();(function C1(){WE=!1})(),kP().bootstrapModule(gL).catch(n=>console.error(n))},489:function(Vr,Ds,rc){var Ve;Vr=rc.nmd(Vr),function(){var b,pn="Expected a function",_a="__lodash_hash_undefined__",Gi="__lodash_placeholder__",Be=1/0,Wr=9007199254740991,hr=4294967295,rf=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ye="[object Arguments]",et="[object Array]",Fe="[object Boolean]",qi="[object Date]",vo="[object Error]",ac="[object Function]",nm="[object GeneratorFunction]",pr="[object Map]",Da="[object Number]",mi="[object Object]",lc="[object Promise]",Ss="[object RegExp]",Wn="[object Set]",Ca="[object String]",cc="[object Symbol]",zn="[object WeakMap]",ba="[object ArrayBuffer]",Ts="[object DataView]",sf="[object Float32Array]",uc="[object Float64Array]",af="[object Int8Array]",lf="[object Int16Array]",cf="[object Int32Array]",uf="[object Uint8Array]",Ea="[object Uint8ClampedArray]",Ia="[object Uint16Array]",Sa="[object Uint32Array]",df=/\b__p \+= '';/g,ff=/\b(__p \+=) '' \+/g,sm=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dc=/&(?:amp|lt|gt|quot|#39);/g,fc=/[&<>"']/g,hf=RegExp(dc.source),pf=RegExp(fc.source),Kn=/<%-([\s\S]+?)%>/g,om=/<%([\s\S]+?)%>/g,gf=/<%=([\s\S]+?)%>/g,am=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lm=/^\w*$/,mf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hc=/[\\^$.*+?()[\]{}|]/g,cm=RegExp(hc.source),Gn=/^\s+/,um=/\s/,wt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,yo=/\{\n\/\* \[wrapped with (.+)\] \*/,zr=/,? & /,Jw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dm=/[()=,{}\[\]\/\s]/,_f=/\\(\\)?/g,pc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vf=/\w*$/,wo=/^[-+]0x[0-9a-f]+$/i,fm=/^0b[01]+$/i,yf=/^\[object .+?Constructor\]$/,wf=/^0o[0-7]+$/i,hm=/^(?:0|[1-9]\d*)$/,pm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ta=/($^)/,gm=/['\n\r\u2028\u2029\\]/g,Do="\\ud800-\\udfff",Aa="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Zi="\\u2700-\\u27bf",Df="a-z\\xdf-\\xf6\\xf8-\\xff",Ma="A-Z\\xc0-\\xd6\\xd8-\\xde",Cf="\\ufe0e\\ufe0f",xa="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bf="["+Do+"]",vm="["+xa+"]",Se="["+Aa+"]",Pa="\\d+",le="["+Zi+"]",Nt="["+Df+"]",Ef="[^"+Do+xa+Pa+Zi+Df+Ma+"]",If="\\ud83c[\\udffb-\\udfff]",Co="[^"+Do+"]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",Sf="[\\ud800-\\udbff][\\udc00-\\udfff]",As="["+Ma+"]",gr="(?:"+Nt+"|"+Ef+")",tD="(?:"+As+"|"+Ef+")",wm="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Dm="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Cm="(?:"+Se+"|"+If+")?",Tf="["+Cf+"]?",tn=Tf+Cm+"(?:\\u200d(?:"+[Co,Gt,Sf].join("|")+")"+Tf+Cm+")*",qe="(?:"+[le,Gt,Sf].join("|")+")"+tn,iD="(?:"+[Co+Se+"?",Se,Gt,Sf,bf].join("|")+")",sD=RegExp("['\u2019]","g"),oD=RegExp(Se,"g"),pe=RegExp(If+"(?="+If+")|"+iD+tn,"g"),aD=RegExp([As+"?"+Nt+"+"+wm+"(?="+[vm,As,"$"].join("|")+")",tD+"+"+Dm+"(?="+[vm,As+gr,"$"].join("|")+")",As+"?"+gr+"+"+wm,As+"+"+Dm,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pa,qe].join("|"),"g"),qn=RegExp("[\\u200d"+Do+Aa+Cf+"]"),_c=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Af=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Em=-1,Ze={};Ze[sf]=Ze[uc]=Ze[af]=Ze[lf]=Ze[cf]=Ze[uf]=Ze[Ea]=Ze[Ia]=Ze[Sa]=!0,Ze[Ye]=Ze[et]=Ze[ba]=Ze[Fe]=Ze[Ts]=Ze[qi]=Ze[vo]=Ze[ac]=Ze[pr]=Ze[Da]=Ze[mi]=Ze[Ss]=Ze[Wn]=Ze[Ca]=Ze[zn]=!1;var $e={};$e[Ye]=$e[et]=$e[ba]=$e[Ts]=$e[Fe]=$e[qi]=$e[sf]=$e[uc]=$e[af]=$e[lf]=$e[cf]=$e[pr]=$e[Da]=$e[mi]=$e[Ss]=$e[Wn]=$e[Ca]=$e[cc]=$e[uf]=$e[Ea]=$e[Ia]=$e[Sa]=!0,$e[vo]=$e[ac]=$e[zn]=!1;var Im={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oe=parseFloat,yc=parseInt,xf="object"==typeof global&&global&&global.Object===Object&&global,_i="object"==typeof self&&self&&self.Object===Object&&self,Dt=xf||_i||Function("return this")(),Sm=Ds&&!Ds.nodeType&&Ds,Sn=Sm&&Vr&&!Vr.nodeType&&Vr,Tn=Sn&&Sn.exports===Sm,Pf=Tn&&xf.process,Zn=function(){try{return Sn&&Sn.require&&Sn.require("util").types||Pf&&Pf.binding&&Pf.binding("util")}catch(P){}}(),Qn=Zn&&Zn.isArrayBuffer,Rf=Zn&&Zn.isDate,Ff=Zn&&Zn.isMap,Of=Zn&&Zn.isRegExp,Tm=Zn&&Zn.isSet,Le=Zn&&Zn.isTypedArray;function An(I,P,x){switch(x.length){case 0:return I.call(P);case 1:return I.call(P,x[0]);case 2:return I.call(P,x[0],x[1]);case 3:return I.call(P,x[0],x[1],x[2])}return I.apply(P,x)}function lD(I,P,x,W){for(var ce=-1,Pe=null==I?0:I.length;++ce<Pe;){var bt=I[ce];P(W,bt,x(bt),I)}return W}function xt(I,P){for(var x=-1,W=null==I?0:I.length;++x<W&&!1!==P(I[x],x,I););return I}function We(I,P){for(var x=null==I?0:I.length;x--&&!1!==P(I[x],x,I););return I}function bo(I,P){for(var x=-1,W=null==I?0:I.length;++x<W;)if(!P(I[x],x,I))return!1;return!0}function mr(I,P){for(var x=-1,W=null==I?0:I.length,ce=0,Pe=[];++x<W;){var bt=I[x];P(bt,x,I)&&(Pe[ce++]=bt)}return Pe}function Ms(I,P){return!(null==I||!I.length)&&Qi(I,P,0)>-1}function Fa(I,P,x){for(var W=-1,ce=null==I?0:I.length;++W<ce;)if(x(P,I[W]))return!0;return!1}function xe(I,P){for(var x=-1,W=null==I?0:I.length,ce=Array(W);++x<W;)ce[x]=P(I[x],x,I);return ce}function Mn(I,P){for(var x=-1,W=P.length,ce=I.length;++x<W;)I[ce+x]=P[x];return I}function wc(I,P,x,W){var ce=-1,Pe=null==I?0:I.length;for(W&&Pe&&(x=I[++ce]);++ce<Pe;)x=P(x,I[ce],ce,I);return x}function xs(I,P,x,W){var ce=null==I?0:I.length;for(W&&ce&&(x=I[--ce]);ce--;)x=P(x,I[ce],ce,I);return x}function Dc(I,P){for(var x=-1,W=null==I?0:I.length;++x<W;)if(P(I[x],x,I))return!0;return!1}var kf=_r("length");function Yn(I,P,x){var W;return x(I,function(ce,Pe,bt){if(P(ce,Pe,bt))return W=Pe,!1}),W}function Oa(I,P,x,W){for(var ce=I.length,Pe=x+(W?1:-1);W?Pe--:++Pe<ce;)if(P(I[Pe],Pe,I))return Pe;return-1}function Qi(I,P,x){return P==P?function nn(I,P,x){for(var W=x-1,ce=I.length;++W<ce;)if(I[W]===P)return W;return-1}(I,P,x):Oa(I,qt,x)}function Pt(I,P,x,W){for(var ce=x-1,Pe=I.length;++ce<Pe;)if(W(I[ce],P))return ce;return-1}function qt(I){return I!=I}function Rt(I,P){var x=null==I?0:I.length;return x?Eo(I,P)/x:NaN}function _r(I){return function(P){return null==P?b:P[I]}}function Kr(I){return function(P){return null==I?b:I[P]}}function mn(I,P,x,W,ce){return ce(I,function(Pe,bt,Ge){x=W?(W=!1,Pe):P(x,Pe,bt,Ge)}),x}function Eo(I,P){for(var x,W=-1,ce=I.length;++W<ce;){var Pe=P(I[W]);Pe!==b&&(x=x===b?Pe:x+Pe)}return x}function Yi(I,P){for(var x=-1,W=Array(I);++x<I;)W[x]=P(x);return W}function vi(I){return I&&I.slice(0,ze(I)+1).replace(Gn,"")}function He(I){return function(P){return I(P)}}function Cc(I,P){return xe(P,function(x){return I[x]})}function Bt(I,P){return I.has(P)}function V(I,P){for(var x=-1,W=I.length;++x<W&&Qi(P,I[x],0)>-1;);return x}function me(I,P){for(var x=I.length;x--&&Qi(P,I[x],0)>-1;);return x}function Xe(I,P){for(var x=I.length,W=0;x--;)I[x]===P&&++W;return W}var _n=Kr({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Xi=Kr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ct(I){return"\\"+Im[I]}function Ke(I){return qn.test(I)}function fe(I){var P=-1,x=Array(I.size);return I.forEach(function(W,ce){x[++P]=[ce,W]}),x}function So(I,P){return function(x){return I(P(x))}}function vn(I,P){for(var x=-1,W=I.length,ce=0,Pe=[];++x<W;){var bt=I[x];(bt===P||bt===Gi)&&(I[x]=Gi,Pe[ce++]=x)}return Pe}function Rs(I){var P=-1,x=Array(I.size);return I.forEach(function(W){x[++P]=W}),x}function Xn(I){return Ke(I)?function Mm(I){for(var P=pe.lastIndex=0;pe.test(I);)++P;return P}(I):kf(I)}function it(I){return Ke(I)?function vr(I){return I.match(pe)||[]}(I):function Lf(I){return I.split("")}(I)}function ze(I){for(var P=I.length;P--&&um.test(I.charAt(P)););return P}var Am=Kr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),es=function I(P){var o,x=(P=null==P?Dt:es.defaults(Dt.Object(),P,es.pick(Dt,Af))).Array,W=P.Date,ce=P.Error,Pe=P.Function,bt=P.Math,Ge=P.Object,Bf=P.RegExp,cD=P.String,er=P.TypeError,Ec=x.prototype,Ao=Ge.prototype,Ic=P["__core-js_shared__"],Sc=Pe.prototype.toString,Ue=Ao.hasOwnProperty,dD=0,xm=(o=/[^.]+$/.exec(Ic&&Ic.keys&&Ic.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",Tc=Ao.toString,Hf=Sc.call(Ge),Ac=Dt._,fD=Bf("^"+Sc.call(Ue).replace(hc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mc=Tn?P.Buffer:b,ts=P.Symbol,yr=P.Uint8Array,Uf=Mc?Mc.allocUnsafe:b,xn=So(Ge.getPrototypeOf,Ge),xc=Ge.create,Vf=Ao.propertyIsEnumerable,Na=Ec.splice,Pc=ts?ts.isConcatSpreadable:b,Os=ts?ts.iterator:b,ns=ts?ts.toStringTag:b,ks=function(){try{var o=Mi(Ge,"defineProperty");return o({},"",{}),o}catch(l){}}(),Pm=P.clearTimeout!==Dt.clearTimeout&&P.clearTimeout,Pn=W&&W.now!==Dt.Date.now&&W.now,Rc=P.setTimeout!==Dt.setTimeout&&P.setTimeout,Ba=bt.ceil,Ls=bt.floor,Fc=Ge.getOwnPropertySymbols,Rm=Mc?Mc.isBuffer:b,Ha=P.isFinite,Fm=Ec.join,Oc=So(Ge.keys,Ge),Et=bt.max,we=bt.min,jf=W.now,Om=P.parseInt,st=bt.random,km=Ec.reverse,$f=Mi(P,"DataView"),yi=Mi(P,"Map"),rn=Mi(P,"Promise"),Ns=Mi(P,"Set"),rs=Mi(P,"WeakMap"),wr=Mi(Ge,"create"),Ht=rs&&new rs,is={},kc=Pi($f),Lm=Pi(yi),wi=Pi(rn),Wf=Pi(Ns),Lc=Pi(rs),J=ts?ts.prototype:b,Ua=J?J.valueOf:b,zf=J?J.toString:b;function _(o){if(nt(o)&&!he(o)&&!(o instanceof Ce)){if(o instanceof Rn)return o;if(Ue.call(o,"__wrapped__"))return Js(o)}return new Rn(o)}var Bs=function(){function o(){}return function(l){if(!ae(l))return{};if(xc)return xc(l);o.prototype=l;var d=new o;return o.prototype=b,d}}();function Mo(){}function Rn(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=b}function Ce(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=hr,this.__views__=[]}function Qe(o){var l=-1,d=null==o?0:o.length;for(this.clear();++l<d;){var h=o[l];this.set(h[0],h[1])}}function Di(o){var l=-1,d=null==o?0:o.length;for(this.clear();++l<d;){var h=o[l];this.set(h[0],h[1])}}function Cr(o){var l=-1,d=null==o?0:o.length;for(this.clear();++l<d;){var h=o[l];this.set(h[0],h[1])}}function ss(o){var l=-1,d=null==o?0:o.length;for(this.__data__=new Cr;++l<d;)this.add(o[l])}function Fn(o){var l=this.__data__=new Di(o);this.size=l.size}function jc(o,l){var d=he(o),h=!d&&Fi(o),g=!d&&!h&&Oi(o),v=!d&&!h&&!g&&ni(o),C=d||h||g||v,E=C?Yi(o.length,cD):[],S=E.length;for(var O in o)(l||Ue.call(o,O))&&(!C||!("length"==O||g&&("offset"==O||"parent"==O)||v&&("buffer"==O||"byteLength"==O||"byteOffset"==O)||ir(O,S)))&&E.push(O);return E}function $c(o){var l=o.length;return l?o[ls(0,l-1)]:b}function Qf(o,l){return du(ln(o),os(l,0,o.length))}function Wa(o){return du(ln(o))}function Wc(o,l,d){(d!==b&&!Dn(o[l],d)||d===b&&!(l in o))&&Zr(o,l,d)}function Po(o,l,d){var h=o[l];(!Ue.call(o,l)||!Dn(h,d)||d===b&&!(l in o))&&Zr(o,l,d)}function It(o,l){for(var d=o.length;d--;)if(Dn(o[d][0],l))return d;return-1}function Ci(o,l,d,h){return br(o,function(g,v,C){l(h,g,d(g),C)}),h}function tt(o,l){return o&&Tr(l,_t(l),o)}function Zr(o,l,d){"__proto__"==l&&ks?ks(o,l,{configurable:!0,enumerable:!0,value:d,writable:!0}):o[l]=d}function za(o,l){for(var d=-1,h=l.length,g=x(h),v=null==o;++d<h;)g[d]=v?b:Il(o,l[d]);return g}function os(o,l,d){return o==o&&(d!==b&&(o=o<=d?o:d),l!==b&&(o=o>=l?o:l)),o}function On(o,l,d,h,g,v){var C,E=1&l,S=2&l,O=4&l;if(d&&(C=g?d(o,h,g,v):d(o)),C!==b)return C;if(!ae(o))return o;var k=he(o);if(k){if(C=function Xs(o){var l=o.length,d=new o.constructor(l);return l&&"string"==typeof o[0]&&Ue.call(o,"index")&&(d.index=o.index,d.input=o.input),d}(o),!E)return ln(o,C)}else{var B=Vt(o),U=B==ac||B==nm;if(Oi(o))return uh(o,E);if(B==mi||B==Ye||U&&!g){if(C=S||U?{}:Dh(o),!E)return S?function Ym(o,l){return Tr(o,wh(o),l)}(o,function Ro(o,l){return o&&Tr(l,un(l),o)}(C,o)):function Qm(o,l){return Tr(o,yh(o),l)}(o,tt(C,o))}else{if(!$e[B])return g?o:{};C=function r_(o,l,d){var h=o.constructor;switch(l){case ba:return su(o);case Fe:case qi:return new h(+o);case Ts:return function gD(o,l){var d=l?su(o.buffer):o.buffer;return new o.constructor(d,o.byteOffset,o.byteLength)}(o,d);case sf:case uc:case af:case lf:case cf:case uf:case Ea:case Ia:case Sa:return an(o,d);case pr:return new h;case Da:case Ca:return new h(o);case Ss:return function mD(o){var l=new o.constructor(o.source,vf.exec(o));return l.lastIndex=o.lastIndex,l}(o);case Wn:return new h;case cc:return function dh(o){return Ua?Ge(Ua.call(o)):{}}(o)}}(o,B,E)}}v||(v=new Fn);var G=v.get(o);if(G)return G;v.set(o,C),Hu(o)?o.forEach(function(X){C.add(On(X,l,d,X,o,v))}):Nu(o)&&o.forEach(function(X,De){C.set(De,On(X,l,d,De,o,v))});var _e=k?b:(O?S?ll:Ys:S?un:_t)(o);return xt(_e||o,function(X,De){_e&&(X=o[De=X]),Po(C,De,On(X,l,d,De,o,v))}),C}function Fo(o,l,d){var h=d.length;if(null==o)return!h;for(o=Ge(o);h--;){var g=d[h],C=o[g];if(C===b&&!(g in o)||!(0,l[g])(C))return!1}return!0}function Oo(o,l,d){if("function"!=typeof o)throw new er(pn);return zo(function(){o.apply(b,d)},l)}function bi(o,l,d,h){var g=-1,v=Ms,C=!0,E=o.length,S=[],O=l.length;if(!E)return S;d&&(l=xe(l,He(d))),h?(v=Fa,C=!1):l.length>=200&&(v=Bt,C=!1,l=new ss(l));e:for(;++g<E;){var k=o[g],B=null==d?k:d(k);if(k=h||0!==k?k:0,C&&B==B){for(var U=O;U--;)if(l[U]===B)continue e;S.push(k)}else v(l,B,h)||S.push(k)}return S}_.templateSettings={escape:Kn,evaluate:om,interpolate:gf,variable:"",imports:{_}},(_.prototype=Mo.prototype).constructor=_,(Rn.prototype=Bs(Mo.prototype)).constructor=Rn,(Ce.prototype=Bs(Mo.prototype)).constructor=Ce,Qe.prototype.clear=function Kf(){this.__data__=wr?wr(null):{},this.size=0},Qe.prototype.delete=function xo(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l},Qe.prototype.get=function Dr(o){var l=this.__data__;if(wr){var d=l[o];return d===_a?b:d}return Ue.call(l,o)?l[o]:b},Qe.prototype.has=function Nc(o){var l=this.__data__;return wr?l[o]!==b:Ue.call(l,o)},Qe.prototype.set=function Bc(o,l){var d=this.__data__;return this.size+=this.has(o)?0:1,d[o]=wr&&l===b?_a:l,this},Di.prototype.clear=function Nm(){this.__data__=[],this.size=0},Di.prototype.delete=function Va(o){var l=this.__data__,d=It(l,o);return!(d<0||(d==l.length-1?l.pop():Na.call(l,d,1),--this.size,0))},Di.prototype.get=function ja(o){var l=this.__data__,d=It(l,o);return d<0?b:l[d][1]},Di.prototype.has=function Zt(o){return It(this.__data__,o)>-1},Di.prototype.set=function Gr(o,l){var d=this.__data__,h=It(d,o);return h<0?(++this.size,d.push([o,l])):d[h][1]=l,this},Cr.prototype.clear=function Hs(){this.size=0,this.__data__={hash:new Qe,map:new(yi||Di),string:new Qe}},Cr.prototype.delete=function qr(o){var l=ul(this,o).delete(o);return this.size-=l?1:0,l},Cr.prototype.get=function Bm(o){return ul(this,o).get(o)},Cr.prototype.has=function Gf(o){return ul(this,o).has(o)},Cr.prototype.set=function Hm(o,l){var d=ul(this,o),h=d.size;return d.set(o,l),this.size+=d.size==h?0:1,this},ss.prototype.add=ss.prototype.push=function Hc(o){return this.__data__.set(o,_a),this},ss.prototype.has=function Uc(o){return this.__data__.has(o)},Fn.prototype.clear=function Vc(){this.__data__=new Di,this.size=0},Fn.prototype.delete=function Um(o){var l=this.__data__,d=l.delete(o);return this.size=l.size,d},Fn.prototype.get=function qf(o){return this.__data__.get(o)},Fn.prototype.has=function $a(o){return this.__data__.has(o)},Fn.prototype.set=function Zf(o,l){var d=this.__data__;if(d instanceof Di){var h=d.__data__;if(!yi||h.length<199)return h.push([o,l]),this.size=++d.size,this;d=this.__data__=new Cr(h)}return d.set(o,l),this.size=d.size,this};var br=il(Er),zc=il(Kc,!0);function jm(o,l){var d=!0;return br(o,function(h,g,v){return d=!!l(h,g,v)}),d}function tr(o,l,d){for(var h=-1,g=o.length;++h<g;){var v=o[h],C=l(v);if(null!=C&&(E===b?C==C&&!Wt(C):d(C,E)))var E=C,S=v}return S}function Yf(o,l){var d=[];return br(o,function(h,g,v){l(h,g,v)&&d.push(h)}),d}function Ft(o,l,d,h,g){var v=-1,C=o.length;for(d||(d=hl),g||(g=[]);++v<C;){var E=o[v];l>0&&d(E)?l>1?Ft(E,l-1,d,h,g):Mn(g,E):h||(g[g.length]=E)}return g}var as=Ho(),Ka=Ho(!0);function Er(o,l){return o&&as(o,l,_t)}function Kc(o,l){return o&&Ka(o,l,_t)}function Gc(o,l){return mr(l,function(d){return ei(o[d])})}function Us(o,l){for(var d=0,h=(l=Qr(l,o)).length;null!=o&&d<h;)o=o[yn(l[d++])];return d&&d==h?o:b}function Lo(o,l,d){var h=l(o);return he(o)?h:Mn(h,d(o))}function Ut(o){return null==o?o===b?"[object Undefined]":"[object Null]":ns&&ns in Ge(o)?function t_(o){var l=Ue.call(o,ns),d=o[ns];try{o[ns]=b;var h=!0}catch(v){}var g=Tc.call(o);return h&&(l?o[ns]=d:delete o[ns]),g}(o):function yD(o){return Tc.call(o)}(o)}function No(o,l){return o>l}function Ga(o,l){return null!=o&&Ue.call(o,l)}function Xf(o,l){return null!=o&&l in Ge(o)}function Ei(o,l,d){for(var h=d?Fa:Ms,g=o[0].length,v=o.length,C=v,E=x(v),S=1/0,O=[];C--;){var k=o[C];C&&l&&(k=xe(k,He(l))),S=we(k.length,S),E[C]=!d&&(l||g>=120&&k.length>=120)?new ss(C&&k):b}k=o[0];var B=-1,U=E[0];e:for(;++B<g&&O.length<S;){var G=k[B],Y=l?l(G):G;if(G=d||0!==G?G:0,!(U?Bt(U,Y):h(O,Y,d))){for(C=v;--C;){var _e=E[C];if(!(_e?Bt(_e,Y):h(o[C],Y,d)))continue e}U&&U.push(Y),O.push(G)}}return O}function Ir(o,l,d){var h=null==(o=l_(o,l=Qr(l,o)))?o:o[yn(St(l))];return null==h?b:An(h,o,d)}function qa(o){return nt(o)&&Ut(o)==Ye}function Vs(o,l,d,h,g){return o===l||(null==o||null==l||!nt(o)&&!nt(l)?o!=o&&l!=l:function eh(o,l,d,h,g,v){var C=he(o),E=he(l),S=C?et:Vt(o),O=E?et:Vt(l),k=(S=S==Ye?mi:S)==mi,B=(O=O==Ye?mi:O)==mi,U=S==O;if(U&&Oi(o)){if(!Oi(l))return!1;C=!0,k=!1}if(U&&!k)return v||(v=new Fn),C||ni(o)?Qs(o,l,d,h,g,v):function e_(o,l,d,h,g,v,C){switch(d){case Ts:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case ba:return!(o.byteLength!=l.byteLength||!v(new yr(o),new yr(l)));case Fe:case qi:case Da:return Dn(+o,+l);case vo:return o.name==l.name&&o.message==l.message;case Ss:case Ca:return o==l+"";case pr:var E=fe;case Wn:if(E||(E=Rs),o.size!=l.size&&!(1&h))return!1;var O=C.get(o);if(O)return O==l;h|=2,C.set(o,l);var k=Qs(E(o),E(l),h,g,v,C);return C.delete(o),k;case cc:if(Ua)return Ua.call(o)==Ua.call(l)}return!1}(o,l,S,d,h,g,v);if(!(1&d)){var G=k&&Ue.call(o,"__wrapped__"),Y=B&&Ue.call(l,"__wrapped__");if(G||Y){var _e=G?o.value():o,X=Y?l.value():l;return v||(v=new Fn),g(_e,X,d,h,v)}}return!!U&&(v||(v=new Fn),function _h(o,l,d,h,g,v){var C=1&d,E=Ys(o),S=E.length;if(S!=Ys(l).length&&!C)return!1;for(var B=S;B--;){var U=E[B];if(!(C?U in l:Ue.call(l,U)))return!1}var G=v.get(o),Y=v.get(l);if(G&&Y)return G==l&&Y==o;var _e=!0;v.set(o,l),v.set(l,o);for(var X=C;++B<S;){var De=o[U=E[B]],Ee=l[U];if(h)var Un=C?h(Ee,De,U,l,o,v):h(De,Ee,U,o,l,v);if(!(Un===b?De===Ee||g(De,Ee,d,h,v):Un)){_e=!1;break}X||(X="constructor"==U)}if(_e&&!X){var dn=o.constructor,Yt=l.constructor;dn!=Yt&&"constructor"in o&&"constructor"in l&&!("function"==typeof dn&&dn instanceof dn&&"function"==typeof Yt&&Yt instanceof Yt)&&(_e=!1)}return v.delete(o),v.delete(l),_e}(o,l,d,h,g,v))}(o,l,d,h,Vs,g))}function qc(o,l,d,h){var g=d.length,v=g,C=!h;if(null==o)return!v;for(o=Ge(o);g--;){var E=d[g];if(C&&E[2]?E[1]!==o[E[0]]:!(E[0]in o))return!1}for(;++g<v;){var S=(E=d[g])[0],O=o[S],k=E[1];if(C&&E[2]){if(O===b&&!(S in o))return!1}else{var B=new Fn;if(h)var U=h(O,k,S,o,l,B);if(!(U===b?Vs(k,O,3,h,B):U))return!1}}return!0}function js(o){return!(!ae(o)||function i_(o){return!!xm&&xm in o}(o))&&(ei(o)?fD:yf).test(Pi(o))}function Bo(o){return"function"==typeof o?o:null==o?Ot:"object"==typeof o?he(o)?nh(o[0],o[1]):Jc(o):ad(o)}function Yc(o){if(!$o(o))return Oc(o);var l=[];for(var d in Ge(o))Ue.call(o,d)&&"constructor"!=d&&l.push(d);return l}function Ya(o,l){return o<l}function Xc(o,l){var d=-1,h=cn(o)?x(o.length):[];return br(o,function(g,v,C){h[++d]=l(g,v,C)}),h}function Jc(o){var l=vh(o);return 1==l.length&&l[0][2]?Eh(l[0][0],l[0][1]):function(d){return d===o||qc(d,o,l)}}function nh(o,l){return pl(o)&&bh(l)?Eh(yn(o),l):function(d){var h=Il(d,o);return h===b&&h===l?Sl(d,o):Vs(l,h,3)}}function Xa(o,l,d,h,g){o!==l&&as(l,function(v,C){if(g||(g=new Fn),ae(v))!function Ja(o,l,d,h,g,v,C){var E=Ih(o,d),S=Ih(l,d),O=C.get(S);if(O)Wc(o,d,O);else{var k=v?v(E,S,d+"",o,l,C):b,B=k===b;if(B){var U=he(S),G=!U&&Oi(S),Y=!U&&!G&&ni(S);k=S,U||G||Y?he(E)?k=E:ot(E)?k=ln(E):G?(B=!1,k=uh(S,!0)):Y?(B=!1,k=an(S,!0)):k=[]:no(S)||Fi(S)?(k=E,Fi(E)?k=fp(E):(!ae(E)||ei(E))&&(k=Dh(S))):B=!1}B&&(C.set(S,k),g(k,S,h,v,C),C.delete(S)),Wc(o,d,k)}}(o,l,C,d,Xa,h,g);else{var E=h?h(Ih(o,C),v,C+"",o,l,g):b;E===b&&(E=v),Wc(o,C,E)}},un)}function $s(o,l){var d=o.length;if(d)return ir(l+=l<0?d:0,d)?o[l]:b}function rh(o,l,d){l=l.length?xe(l,function(v){return he(v)?function(C){return Us(C,1===v.length?v[0]:v)}:v}):[Ot];var h=-1;return l=xe(l,He(Q())),function ka(I,P){var x=I.length;for(I.sort(P);x--;)I[x]=I[x].value;return I}(Xc(o,function(v,C,E){return{criteria:xe(l,function(O){return O(v)}),index:++h,value:v}}),function(v,C){return function qs(o,l,d){for(var h=-1,g=o.criteria,v=l.criteria,C=g.length,E=d.length;++h<C;){var S=nl(g[h],v[h]);if(S)return h>=E?S:S*("desc"==d[h]?-1:1)}return o.index-l.index}(v,C,d)})}function eu(o,l,d){for(var h=-1,g=l.length,v={};++h<g;){var C=l[h],E=Us(o,C);d(E,C)&&Sr(v,Qr(C,o),E)}return v}function tu(o,l,d,h){var g=h?Pt:Qi,v=-1,C=l.length,E=o;for(o===l&&(l=ln(l)),d&&(E=xe(o,He(d)));++v<C;)for(var S=0,O=l[v],k=d?d(O):O;(S=g(E,k,S,h))>-1;)E!==o&&Na.call(E,S,1),Na.call(o,S,1);return o}function el(o,l){for(var d=o?l.length:0,h=d-1;d--;){var g=l[d];if(d==h||g!==v){var v=g;ir(g)?Na.call(o,g,1):ah(o,g)}}return o}function ls(o,l){return o+Ls(st()*(l-o+1))}function Ii(o,l){var d="";if(!o||l<1||l>Wr)return d;do{l%2&&(d+=o),(l=Ls(l/2))&&(o+=o)}while(l);return d}function ue(o,l){return uu(a_(o,l,Ot),o+"")}function sh(o){return $c(ii(o))}function nu(o,l){var d=ii(o);return du(d,os(l,0,d.length))}function Sr(o,l,d,h){if(!ae(o))return o;for(var g=-1,v=(l=Qr(l,o)).length,C=v-1,E=o;null!=E&&++g<v;){var S=yn(l[g]),O=d;if("__proto__"===S||"constructor"===S||"prototype"===S)return o;if(g!=C){var k=E[S];(O=h?h(k,S,E):b)===b&&(O=ae(k)?k:ir(l[g+1])?[]:{})}Po(E,S,O),E=E[S]}return o}var zm=Ht?function(o,l){return Ht.set(o,l),o}:Ot,Km=ks?function(o,l){return ks(o,"toString",{configurable:!0,enumerable:!1,value:nd(l),writable:!0})}:Ot;function se(o){return du(ii(o))}function kn(o,l,d){var h=-1,g=o.length;l<0&&(l=-l>g?0:g+l),(d=d>g?g:d)<0&&(d+=g),g=l>d?0:d-l>>>0,l>>>=0;for(var v=x(g);++h<g;)v[h]=o[h+l];return v}function pD(o,l){var d;return br(o,function(h,g,v){return!(d=l(h,g,v))}),!!d}function ru(o,l,d){var h=0,g=null==o?h:o.length;if("number"==typeof l&&l==l&&g<=2147483647){for(;h<g;){var v=h+g>>>1,C=o[v];null!==C&&!Wt(C)&&(d?C<=l:C<l)?h=v+1:g=v}return g}return oh(o,l,Ot,d)}function oh(o,l,d,h){var g=0,v=null==o?0:o.length;if(0===v)return 0;for(var C=(l=d(l))!=l,E=null===l,S=Wt(l),O=l===b;g<v;){var k=Ls((g+v)/2),B=d(o[k]),U=B!==b,G=null===B,Y=B==B,_e=Wt(B);if(C)var X=h||Y;else X=O?Y&&(h||U):E?Y&&U&&(h||!G):S?Y&&U&&!G&&(h||!_e):!G&&!_e&&(h?B<=l:B<l);X?g=k+1:v=k}return we(v,4294967294)}function Gm(o,l){for(var d=-1,h=o.length,g=0,v=[];++d<h;){var C=o[d],E=l?l(C):C;if(!d||!Dn(E,S)){var S=E;v[g++]=0===C?0:C}}return v}function qm(o){return"number"==typeof o?o:Wt(o)?NaN:+o}function Ln(o){if("string"==typeof o)return o;if(he(o))return xe(o,Ln)+"";if(Wt(o))return zf?zf.call(o):"";var l=o+"";return"0"==l&&1/o==-Be?"-0":l}function Nn(o,l,d){var h=-1,g=Ms,v=o.length,C=!0,E=[],S=E;if(d)C=!1,g=Fa;else if(v>=200){var O=l?null:Jm(o);if(O)return Rs(O);C=!1,g=Bt,S=new ss}else S=l?[]:E;e:for(;++h<v;){var k=o[h],B=l?l(k):k;if(k=d||0!==k?k:0,C&&B==B){for(var U=S.length;U--;)if(S[U]===B)continue e;l&&S.push(B),E.push(k)}else g(S,B,d)||(S!==E&&S.push(B),E.push(k))}return E}function ah(o,l){return null==(o=l_(o,l=Qr(l,o)))||delete o[yn(St(l))]}function dt(o,l,d,h){return Sr(o,l,d(Us(o,l)),h)}function Ks(o,l,d,h){for(var g=o.length,v=h?g:-1;(h?v--:++v<g)&&l(o[v],v,o););return d?kn(o,h?0:v,h?v+1:g):kn(o,h?v+1:0,h?g:v)}function Gs(o,l){var d=o;return d instanceof Ce&&(d=d.value()),wc(l,function(h,g){return g.func.apply(g.thisArg,Mn([h],g.args))},d)}function lh(o,l,d){var h=o.length;if(h<2)return h?Nn(o[0]):[];for(var g=-1,v=x(h);++g<h;)for(var C=o[g],E=-1;++E<h;)E!=g&&(v[g]=bi(v[g]||C,o[E],l,d));return Nn(Ft(v,1),l,d)}function ch(o,l,d){for(var h=-1,g=o.length,v=l.length,C={};++h<g;)d(C,o[h],h<v?l[h]:b);return C}function on(o){return ot(o)?o:[]}function Bn(o){return"function"==typeof o?o:Ot}function Qr(o,l){return he(o)?o:pl(o,l)?[o]:Ah(Re(o))}var tl=ue;function Hn(o,l,d){var h=o.length;return d=d===b?h:d,!l&&d>=h?o:kn(o,l,d)}var iu=Pm||function(o){return Dt.clearTimeout(o)};function uh(o,l){if(l)return o.slice();var d=o.length,h=Uf?Uf(d):new o.constructor(d);return o.copy(h),h}function su(o){var l=new o.constructor(o.byteLength);return new yr(l).set(new yr(o)),l}function an(o,l){var d=l?su(o.buffer):o.buffer;return new o.constructor(d,o.byteOffset,o.length)}function nl(o,l){if(o!==l){var d=o!==b,h=null===o,g=o==o,v=Wt(o),C=l!==b,E=null===l,S=l==l,O=Wt(l);if(!E&&!O&&!v&&o>l||v&&C&&S&&!E&&!O||h&&C&&S||!d&&S||!g)return 1;if(!h&&!v&&!O&&o<l||O&&d&&g&&!h&&!v||E&&d&&g||!C&&g||!S)return-1}return 0}function Zm(o,l,d,h){for(var g=-1,v=o.length,C=d.length,E=-1,S=l.length,O=Et(v-C,0),k=x(S+O),B=!h;++E<S;)k[E]=l[E];for(;++g<C;)(B||g<v)&&(k[d[g]]=o[g]);for(;O--;)k[E++]=o[g++];return k}function ou(o,l,d,h){for(var g=-1,v=o.length,C=-1,E=d.length,S=-1,O=l.length,k=Et(v-E,0),B=x(k+O),U=!h;++g<k;)B[g]=o[g];for(var G=g;++S<O;)B[G+S]=l[S];for(;++C<E;)(U||g<v)&&(B[G+d[C]]=o[g++]);return B}function ln(o,l){var d=-1,h=o.length;for(l||(l=x(h));++d<h;)l[d]=o[d];return l}function Tr(o,l,d,h){var g=!d;d||(d={});for(var v=-1,C=l.length;++v<C;){var E=l[v],S=h?h(d[E],o[E],E,d,o):b;S===b&&(S=o[E]),g?Zr(d,E,S):Po(d,E,S)}return d}function rl(o,l){return function(d,h){var g=he(d)?lD:Ci,v=l?l():{};return g(d,o,Q(h,2),v)}}function cs(o){return ue(function(l,d){var h=-1,g=d.length,v=g>1?d[g-1]:b,C=g>2?d[2]:b;for(v=o.length>3&&"function"==typeof v?(g--,v):b,C&&jt(d[0],d[1],C)&&(v=g<3?b:v,g=1),l=Ge(l);++h<g;){var E=d[h];E&&o(l,E,h,v)}return l})}function il(o,l){return function(d,h){if(null==d)return d;if(!cn(d))return o(d,h);for(var g=d.length,v=l?g:-1,C=Ge(d);(l?v--:++v<g)&&!1!==h(C[v],v,C););return d}}function Ho(o){return function(l,d,h){for(var g=-1,v=Ge(l),C=h(l),E=C.length;E--;){var S=C[o?E:++g];if(!1===d(v[S],S,v))break}return l}}function Zs(o){return function(l){var d=Ke(l=Re(l))?it(l):b,h=d?d[0]:l.charAt(0),g=d?Hn(d,1).join(""):l.slice(1);return h[o]()+g}}function Si(o){return function(l){return wc(xp(Xu(l).replace(sD,"")),o,"")}}function Ti(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var d=Bs(o.prototype),h=o.apply(d,l);return ae(h)?h:d}}function fh(o){return function(l,d,h){var g=Ge(l);if(!cn(l)){var v=Q(d,3);l=_t(l),d=function(E){return v(g[E],E,g)}}var C=o(l,d,h);return C>-1?g[v?l[C]:C]:b}}function hh(o){return nr(function(l){var d=l.length,h=d,g=Rn.prototype.thru;for(o&&l.reverse();h--;){var v=l[h];if("function"!=typeof v)throw new er(pn);if(g&&!C&&"wrapper"==cl(v))var C=new Rn([],!0)}for(h=C?h:d;++h<d;){var E=cl(v=l[h]),S="wrapper"==E?lu(v):b;C=S&&gl(S[0])&&424==S[1]&&!S[4].length&&1==S[9]?C[cl(S[0])].apply(C,S[3]):1==v.length&&gl(v)?C[E]():C.thru(v)}return function(){var O=arguments,k=O[0];if(C&&1==O.length&&he(k))return C.plant(k).value();for(var B=0,U=d?l[B].apply(this,O):k;++B<d;)U=l[B].call(this,U);return U}})}function Uo(o,l,d,h,g,v,C,E,S,O){var k=128&l,B=1&l,U=2&l,G=24&l,Y=512&l,_e=U?b:Ti(o);return function X(){for(var De=arguments.length,Ee=x(De),Un=De;Un--;)Ee[Un]=arguments[Un];if(G)var dn=rr(X),Yt=Xe(Ee,dn);if(h&&(Ee=Zm(Ee,h,g,G)),v&&(Ee=ou(Ee,v,C,G)),De-=Yt,G&&De<O){var at=vn(Ee,dn);return al(o,l,Uo,X.placeholder,d,Ee,at,E,S,O-De)}var Vn=B?d:this,Pr=U?Vn[o]:o;return De=Ee.length,E?Ee=wD(Ee,E):Y&&De>1&&Ee.reverse(),k&&S<De&&(Ee.length=S),this&&this!==Dt&&this instanceof X&&(Pr=_e||Ti(Pr)),Pr.apply(Vn,Ee)}}function ph(o,l){return function(d,h){return function $m(o,l,d,h){return Er(o,function(g,v,C){l(h,d(g),v,C)}),h}(d,o,l(h),{})}}function Ai(o,l){return function(d,h){var g;if(d===b&&h===b)return l;if(d!==b&&(g=d),h!==b){if(g===b)return h;"string"==typeof d||"string"==typeof h?(d=Ln(d),h=Ln(h)):(d=qm(d),h=qm(h)),g=o(d,h)}return g}}function sl(o){return nr(function(l){return l=xe(l,He(Q())),ue(function(d){var h=this;return o(l,function(g){return An(g,h,d)})})})}function ol(o,l){var d=(l=l===b?" ":Ln(l)).length;if(d<2)return d?Ii(l,o):l;var h=Ii(l,Ba(o/Xn(l)));return Ke(l)?Hn(it(h),0,o).join(""):h.slice(0,o)}function au(o){return function(l,d,h){return h&&"number"!=typeof h&&jt(l,d,h)&&(d=h=b),l=ri(l),d===b?(d=l,l=0):d=ri(d),function zs(o,l,d,h){for(var g=-1,v=Et(Ba((l-o)/(d||1)),0),C=x(v);v--;)C[h?v:++g]=o,o+=d;return C}(l,d,h=h===b?l<d?1:-1:ri(h),o)}}function Vo(o){return function(l,d){return"string"==typeof l&&"string"==typeof d||(l=ar(l),d=ar(d)),o(l,d)}}function al(o,l,d,h,g,v,C,E,S,O){var k=8&l;l|=k?32:64,4&(l&=~(k?64:32))||(l&=-4);var _e=[o,l,g,k?v:b,k?C:b,k?b:v,k?b:C,E,S,O],X=d.apply(b,_e);return gl(o)&&cu(X,_e),X.placeholder=h,Sh(X,o,l)}function us(o){var l=bt[o];return function(d,h){if(d=ar(d),(h=null==h?0:we(ge(h),292))&&Ha(d)){var g=(Re(d)+"e").split("e");return+((g=(Re(l(g[0]+"e"+(+g[1]+h)))+"e").split("e"))[0]+"e"+(+g[1]-h))}return l(d)}}var Jm=Ns&&1/Rs(new Ns([,-0]))[1]==Be?function(o){return new Ns(o)}:ra;function gh(o){return function(l){var d=Vt(l);return d==pr?fe(l):d==Wn?function Fs(I){var P=-1,x=Array(I.size);return I.forEach(function(W){x[++P]=[W,W]}),x}(l):function La(I,P){return xe(P,function(x){return[x,I[x]]})}(l,o(l))}}function Yr(o,l,d,h,g,v,C,E){var S=2&l;if(!S&&"function"!=typeof o)throw new er(pn);var O=h?h.length:0;if(O||(l&=-97,h=g=b),C=C===b?C:Et(ge(C),0),E=E===b?E:ge(E),O-=g?g.length:0,64&l){var k=h,B=g;h=g=b}var U=S?b:lu(o),G=[o,l,d,h,g,k,B,v,C,E];if(U&&function Wo(o,l){var d=o[1],h=l[1],g=d|h;if(!(g<131||(128==h&&8==d||128==h&&256==d&&o[7].length<=l[8]||384==h&&l[7].length<=l[8]&&8==d)))return o;1&h&&(o[2]=l[2],g|=1&d?0:4);var E=l[3];if(E){var S=o[3];o[3]=S?Zm(S,E,l[4]):E,o[4]=S?vn(o[3],Gi):l[4]}(E=l[5])&&(o[5]=(S=o[5])?ou(S,E,l[6]):E,o[6]=S?vn(o[5],Gi):l[6]),(E=l[7])&&(o[7]=E),128&h&&(o[8]=null==o[8]?l[8]:we(o[8],l[8])),null==o[9]&&(o[9]=l[9]),o[0]=l[0],o[1]=g}(G,U),o=G[0],l=G[1],d=G[2],h=G[3],g=G[4],!(E=G[9]=G[9]===b?S?0:o.length:Et(G[9]-O,0))&&24&l&&(l&=-25),l&&1!=l)Y=8==l||16==l?function Xm(o,l,d){var h=Ti(o);return function g(){for(var v=arguments.length,C=x(v),E=v,S=rr(g);E--;)C[E]=arguments[E];var O=v<3&&C[0]!==S&&C[v-1]!==S?[]:vn(C,S);return(v-=O.length)<d?al(o,l,Uo,g.placeholder,b,C,O,b,b,d-v):An(this&&this!==Dt&&this instanceof g?h:o,this,C)}}(o,l,E):32!=l&&33!=l||g.length?Uo.apply(b,G):function K(o,l,d,h){var g=1&l,v=Ti(o);return function C(){for(var E=-1,S=arguments.length,O=-1,k=h.length,B=x(k+S),U=this&&this!==Dt&&this instanceof C?v:o;++O<k;)B[O]=h[O];for(;S--;)B[O++]=arguments[++E];return An(U,g?d:this,B)}}(o,l,d,h);else var Y=function _D(o,l,d){var h=1&l,g=Ti(o);return function v(){return(this&&this!==Dt&&this instanceof v?g:o).apply(h?d:this,arguments)}}(o,l,d);return Sh((U?zm:cu)(Y,G),o,l)}function jo(o,l,d,h){return o===b||Dn(o,Ao[d])&&!Ue.call(h,d)?l:o}function Xr(o,l,d,h,g,v){return ae(o)&&ae(l)&&(v.set(l,o),Xa(o,l,b,Xr,v),v.delete(l)),o}function mh(o){return no(o)?b:o}function Qs(o,l,d,h,g,v){var C=1&d,E=o.length,S=l.length;if(E!=S&&!(C&&S>E))return!1;var O=v.get(o),k=v.get(l);if(O&&k)return O==l&&k==o;var B=-1,U=!0,G=2&d?new ss:b;for(v.set(o,l),v.set(l,o);++B<E;){var Y=o[B],_e=l[B];if(h)var X=C?h(_e,Y,B,l,o,v):h(Y,_e,B,o,l,v);if(X!==b){if(X)continue;U=!1;break}if(G){if(!Dc(l,function(De,Ee){if(!Bt(G,Ee)&&(Y===De||g(Y,De,d,h,v)))return G.push(Ee)})){U=!1;break}}else if(Y!==_e&&!g(Y,_e,d,h,v)){U=!1;break}}return v.delete(o),v.delete(l),U}function nr(o){return uu(a_(o,b,Fh),o+"")}function Ys(o){return Lo(o,_t,yh)}function ll(o){return Lo(o,un,wh)}var lu=Ht?function(o){return Ht.get(o)}:ra;function cl(o){for(var l=o.name+"",d=is[l],h=Ue.call(is,l)?d.length:0;h--;){var g=d[h],v=g.func;if(null==v||v==o)return g.name}return l}function rr(o){return(Ue.call(_,"placeholder")?_:o).placeholder}function Q(){var o=_.iteratee||na;return o=o===na?Bo:o,arguments.length?o(arguments[0],arguments[1]):o}function ul(o,l){var d=o.__data__;return function Ch(o){var l=typeof o;return"string"==l||"number"==l||"symbol"==l||"boolean"==l?"__proto__"!==o:null===o}(l)?d["string"==typeof l?"string":"hash"]:d.map}function vh(o){for(var l=_t(o),d=l.length;d--;){var h=l[d],g=o[h];l[d]=[h,g,bh(g)]}return l}function Mi(o,l){var d=function Ji(I,P){return null==I?b:I[P]}(o,l);return js(d)?d:b}var yh=Fc?function(o){return null==o?[]:(o=Ge(o),mr(Fc(o),function(l){return Vf.call(o,l)}))}:ao,wh=Fc?function(o){for(var l=[];o;)Mn(l,yh(o)),o=xn(o);return l}:ao,Vt=Ut;function fl(o,l,d){for(var h=-1,g=(l=Qr(l,o)).length,v=!1;++h<g;){var C=yn(l[h]);if(!(v=null!=o&&d(o,C)))break;o=o[C]}return v||++h!=g?v:!!(g=null==o?0:o.length)&&ne(g)&&ir(C,g)&&(he(o)||Fi(o))}function Dh(o){return"function"!=typeof o.constructor||$o(o)?{}:Bs(xn(o))}function hl(o){return he(o)||Fi(o)||!!(Pc&&o&&o[Pc])}function ir(o,l){var d=typeof o;return!!(l=null==l?Wr:l)&&("number"==d||"symbol"!=d&&hm.test(o))&&o>-1&&o%1==0&&o<l}function jt(o,l,d){if(!ae(d))return!1;var h=typeof l;return!!("number"==h?cn(d)&&ir(l,d.length):"string"==h&&l in d)&&Dn(d[l],o)}function pl(o,l){if(he(o))return!1;var d=typeof o;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=o&&!Wt(o))||lm.test(o)||!am.test(o)||null!=l&&o in Ge(l)}function gl(o){var l=cl(o),d=_[l];if("function"!=typeof d||!(l in Ce.prototype))return!1;if(o===d)return!0;var h=lu(d);return!!h&&o===h[0]}($f&&Vt(new $f(new ArrayBuffer(1)))!=Ts||yi&&Vt(new yi)!=pr||rn&&Vt(rn.resolve())!=lc||Ns&&Vt(new Ns)!=Wn||rs&&Vt(new rs)!=zn)&&(Vt=function(o){var l=Ut(o),d=l==mi?o.constructor:b,h=d?Pi(d):"";if(h)switch(h){case kc:return Ts;case Lm:return pr;case wi:return lc;case Wf:return Wn;case Lc:return zn}return l});var s_=Ic?ei:ld;function $o(o){var l=o&&o.constructor;return o===("function"==typeof l&&l.prototype||Ao)}function bh(o){return o==o&&!ae(o)}function Eh(o,l){return function(d){return null!=d&&d[o]===l&&(l!==b||o in Ge(d))}}function a_(o,l,d){return l=Et(l===b?o.length-1:l,0),function(){for(var h=arguments,g=-1,v=Et(h.length-l,0),C=x(v);++g<v;)C[g]=h[l+g];g=-1;for(var E=x(l+1);++g<l;)E[g]=h[g];return E[l]=d(C),An(o,this,E)}}function l_(o,l){return l.length<2?o:Us(o,kn(l,0,-1))}function wD(o,l){for(var d=o.length,h=we(l.length,d),g=ln(o);h--;){var v=l[h];o[h]=ir(v,d)?g[v]:b}return o}function Ih(o,l){if(("constructor"!==l||"function"!=typeof o[l])&&"__proto__"!=l)return o[l]}var cu=Th(zm),zo=Rc||function(o,l){return Dt.setTimeout(o,l)},uu=Th(Km);function Sh(o,l,d){var h=l+"";return uu(o,function vD(o,l){var d=l.length;if(!d)return o;var h=d-1;return l[h]=(d>1?"& ":"")+l[h],l=l.join(d>2?", ":" "),o.replace(wt,"{\n/* [wrapped with "+l+"] */\n")}(h,function Ar(o,l){return xt(rf,function(d){var h="_."+d[0];l&d[1]&&!Ms(o,h)&&o.push(h)}),o.sort()}(function dl(o){var l=o.match(yo);return l?l[1].split(zr):[]}(h),d)))}function Th(o){var l=0,d=0;return function(){var h=jf(),g=16-(h-d);if(d=h,g>0){if(++l>=800)return arguments[0]}else l=0;return o.apply(b,arguments)}}function du(o,l){var d=-1,h=o.length,g=h-1;for(l=l===b?h:l;++d<l;){var v=ls(d,g),C=o[v];o[v]=o[d],o[d]=C}return o.length=l,o}var Ah=function xi(o){var l=yl(o,function(h){return 500===d.size&&d.clear(),h}),d=l.cache;return l}(function(o){var l=[];return 46===o.charCodeAt(0)&&l.push(""),o.replace(mf,function(d,h,g,v){l.push(g?v.replace(_f,"$1"):h||d)}),l});function yn(o){if("string"==typeof o||Wt(o))return o;var l=o+"";return"0"==l&&1/o==-Be?"-0":l}function Pi(o){if(null!=o){try{return Sc.call(o)}catch(l){}try{return o+""}catch(l){}}return""}function Js(o){if(o instanceof Ce)return o.clone();var l=new Rn(o.__wrapped__,o.__chain__);return l.__actions__=ln(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}var DD=ue(function(o,l){return ot(o)?bi(o,Ft(l,1,ot,!0)):[]}),CD=ue(function(o,l){var d=St(l);return ot(d)&&(d=b),ot(o)?bi(o,Ft(l,1,ot,!0),Q(d,2)):[]}),bD=ue(function(o,l){var d=St(l);return ot(d)&&(d=b),ot(o)?bi(o,Ft(l,1,ot,!0),b,d):[]});function gu(o,l,d){var h=null==o?0:o.length;if(!h)return-1;var g=null==d?0:ge(d);return g<0&&(g=Et(h+g,0)),Oa(o,Q(l,3),g)}function Rh(o,l,d){var h=null==o?0:o.length;if(!h)return-1;var g=h-1;return d!==b&&(g=ge(d),g=d<0?Et(h+g,0):we(g,h-1)),Oa(o,Q(l,3),g,!0)}function Fh(o){return null!=o&&o.length?Ft(o,1):[]}function Ko(o){return o&&o.length?o[0]:b}var f_=ue(function(o){var l=xe(o,on);return l.length&&l[0]===o[0]?Ei(l):[]}),ft=ue(function(o){var l=St(o),d=xe(o,on);return l===St(d)?l=b:d.pop(),d.length&&d[0]===o[0]?Ei(d,Q(l,2)):[]}),kh=ue(function(o){var l=St(o),d=xe(o,on);return(l="function"==typeof l?l:b)&&d.pop(),d.length&&d[0]===o[0]?Ei(d,b,l):[]});function St(o){var l=null==o?0:o.length;return l?o[l-1]:b}var g_=ue(Nh);function Nh(o,l){return o&&o.length&&l&&l.length?tu(o,l):o}var SD=nr(function(o,l){var d=null==o?0:o.length,h=za(o,l);return el(o,xe(l,function(g){return ir(g,d)?+g:g}).sort(nl)),h});function ds(o){return null==o?o:km.call(o)}var C_=ue(function(o){return Nn(Ft(o,1,ot,!0))}),b_=ue(function(o){var l=St(o);return ot(l)&&(l=b),Nn(Ft(o,1,ot,!0),Q(l,2))}),yu=ue(function(o){var l=St(o);return l="function"==typeof l?l:b,Nn(Ft(o,1,ot,!0),b,l)});function Du(o){if(!o||!o.length)return[];var l=0;return o=mr(o,function(d){if(ot(d))return l=Et(d.length,l),!0}),Yi(l,function(d){return xe(o,_r(d))})}function $h(o,l){if(!o||!o.length)return[];var d=Du(o);return null==l?d:xe(d,function(h){return An(l,b,h)})}var qo=ue(function(o,l){return ot(o)?bi(o,l):[]}),S_=ue(function(o){return lh(mr(o,ot))}),T_=ue(function(o){var l=St(o);return ot(l)&&(l=b),lh(mr(o,ot),Q(l,2))}),A_=ue(function(o){var l=St(o);return l="function"==typeof l?l:b,lh(mr(o,ot),b,l)}),M_=ue(Du),P_=ue(function(o){var l=o.length,d=l>1?o[l-1]:b;return d="function"==typeof d?(o.pop(),d):b,$h(o,d)});function zh(o){var l=_(o);return l.__chain__=!0,l}function ml(o,l){return l(o)}var F_=nr(function(o){var l=o.length,d=l?o[0]:0,h=this.__wrapped__,g=function(v){return za(v,o)};return!(l>1||this.__actions__.length)&&h instanceof Ce&&ir(d)?((h=h.slice(d,+d+(l?1:0))).__actions__.push({func:ml,args:[g],thisArg:b}),new Rn(h,this.__chain__).thru(function(v){return l&&!v.length&&v.push(b),v})):this.thru(g)}),Kh=rl(function(o,l,d){Ue.call(o,d)?++o[d]:Zr(o,d,1)}),Cu=fh(gu),bu=fh(Rh);function Eu(o,l){return(he(o)?xt:br)(o,Q(l,3))}function Iu(o,l){return(he(o)?We:zc)(o,Q(l,3))}var Su=rl(function(o,l,d){Ue.call(o,d)?o[d].push(l):Zr(o,d,[l])}),qh=ue(function(o,l,d){var h=-1,g="function"==typeof l,v=cn(o)?x(o.length):[];return br(o,function(C){v[++h]=g?An(l,C,d):Ir(C,l,d)}),v}),PD=rl(function(o,l,d){Zr(o,d,l)});function Jr(o,l){return(he(o)?xe:Xc)(o,Q(l,3))}var Zh=rl(function(o,l,d){o[d?0:1].push(l)},function(){return[[],[]]}),Qh=ue(function(o,l){if(null==o)return[];var d=l.length;return d>1&&jt(o,l[0],l[1])?l=[]:d>2&&jt(l[0],l[1],l[2])&&(l=[l[0]]),rh(o,Ft(l,1),[])}),to=Pn||function(){return Dt.Date.now()};function _l(o,l,d){return l=d?b:l,Yr(o,128,b,b,b,b,l=o&&null==l?o.length:l)}function Xh(o,l){var d;if("function"!=typeof l)throw new er(pn);return o=ge(o),function(){return--o>0&&(d=l.apply(this,arguments)),o<=1&&(l=b),d}}var xu=ue(function(o,l,d){var h=1;if(d.length){var g=vn(d,rr(xu));h|=32}return Yr(o,h,l,d,g)}),Pu=ue(function(o,l,d){var h=3;if(d.length){var g=vn(d,rr(Pu));h|=32}return Yr(l,h,o,d,g)});function Fu(o,l,d){var h,g,v,C,E,S,O=0,k=!1,B=!1,U=!0;if("function"!=typeof o)throw new er(pn);function G(at){var Vn=h,Pr=g;return h=g=b,O=at,C=o.apply(Pr,Vn)}function Y(at){return O=at,E=zo(De,l),k?G(at):C}function X(at){var Vn=at-S;return S===b||Vn>=l||Vn<0||B&&at-O>=v}function De(){var at=to();if(X(at))return Ee(at);E=zo(De,function _e(at){var Ov=l-(at-S);return B?we(Ov,v-(at-O)):Ov}(at))}function Ee(at){return E=b,U&&h?G(at):(h=g=b,C)}function Yt(){var at=to(),Vn=X(at);if(h=arguments,g=this,S=at,Vn){if(E===b)return Y(S);if(B)return iu(E),E=zo(De,l),G(S)}return E===b&&(E=zo(De,l)),C}return l=ar(l)||0,ae(d)&&(k=!!d.leading,v=(B="maxWait"in d)?Et(ar(d.maxWait)||0,l):v,U="trailing"in d?!!d.trailing:U),Yt.cancel=function Un(){E!==b&&iu(E),O=0,h=S=g=E=b},Yt.flush=function dn(){return E===b?C:Ee(to())},Yt}var Jh=ue(function(o,l){return Oo(o,1,l)}),z_=ue(function(o,l,d){return Oo(o,ar(l)||0,d)});function yl(o,l){if("function"!=typeof o||null!=l&&"function"!=typeof l)throw new er(pn);var d=function(){var h=arguments,g=l?l.apply(this,h):h[0],v=d.cache;if(v.has(g))return v.get(g);var C=o.apply(this,h);return d.cache=v.set(g,C)||v,C};return d.cache=new(yl.Cache||Cr),d}function Qo(o){if("function"!=typeof o)throw new er(pn);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}yl.Cache=Cr;var tp=tl(function(o,l){var d=(l=1==l.length&&he(l[0])?xe(l[0],He(Q())):xe(Ft(l,1),He(Q()))).length;return ue(function(h){for(var g=-1,v=we(h.length,d);++g<v;)h[g]=l[g].call(this,h[g]);return An(o,this,h)})}),Yo=ue(function(o,l){var d=vn(l,rr(Yo));return Yr(o,32,b,l,d)}),Ou=ue(function(o,l){var d=vn(l,rr(Ou));return Yr(o,64,b,l,d)}),wl=nr(function(o,l){return Yr(o,256,b,b,b,l)});function Dn(o,l){return o===l||o!=o&&l!=l}var op=Vo(No),RD=Vo(function(o,l){return o>=l}),Fi=qa(function(){return arguments}())?qa:function(o){return nt(o)&&Ue.call(o,"callee")&&!Vf.call(o,"callee")},he=x.isArray,ap=Qn?He(Qn):function Za(o){return nt(o)&&Ut(o)==ba};function cn(o){return null!=o&&ne(o.length)&&!ei(o)}function ot(o){return nt(o)&&cn(o)}var Oi=Rm||ld,lp=Rf?He(Rf):function hD(o){return nt(o)&&Ut(o)==qi};function Cl(o){if(!nt(o))return!1;var l=Ut(o);return l==vo||"[object DOMException]"==l||"string"==typeof o.message&&"string"==typeof o.name&&!no(o)}function ei(o){if(!ae(o))return!1;var l=Ut(o);return l==ac||l==nm||"[object AsyncFunction]"==l||"[object Proxy]"==l}function cp(o){return"number"==typeof o&&o==ge(o)}function ne(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=Wr}function ae(o){var l=typeof o;return null!=o&&("object"==l||"function"==l)}function nt(o){return null!=o&&"object"==typeof o}var Nu=Ff?He(Ff):function Wm(o){return nt(o)&&Vt(o)==pr};function El(o){return"number"==typeof o||nt(o)&&Ut(o)==Da}function no(o){if(!nt(o)||Ut(o)!=mi)return!1;var l=xn(o);if(null===l)return!0;var d=Ue.call(l,"constructor")&&l.constructor;return"function"==typeof d&&d instanceof d&&Sc.call(d)==Hf}var Jo=Of?He(Of):function Zc(o){return nt(o)&&Ut(o)==Ss},Hu=Tm?He(Tm):function Qc(o){return nt(o)&&Vt(o)==Wn};function Uu(o){return"string"==typeof o||!he(o)&&nt(o)&&Ut(o)==Ca}function Wt(o){return"symbol"==typeof o||nt(o)&&Ut(o)==cc}var ni=Le?He(Le):function Qa(o){return nt(o)&&ne(o.length)&&!!Ze[Ut(o)]},OD=Vo(Ya),tv=Vo(function(o,l){return o<=l});function dp(o){if(!o)return[];if(cn(o))return Uu(o)?it(o):ln(o);if(Os&&o[Os])return function Ps(I){for(var P,x=[];!(P=I.next()).done;)x.push(P.value);return x}(o[Os]());var l=Vt(o);return(l==pr?fe:l==Wn?Rs:ii)(o)}function ri(o){return o?(o=ar(o))===Be||o===-Be?17976931348623157e292*(o<0?-1:1):o==o?o:0:0===o?o:0}function ge(o){var l=ri(o),d=l%1;return l==l?d?l-d:l:0}function Wu(o){return o?os(ge(o),0,hr):0}function ar(o){if("number"==typeof o)return o;if(Wt(o))return NaN;if(ae(o)){var l="function"==typeof o.valueOf?o.valueOf():o;o=ae(l)?l+"":l}if("string"!=typeof o)return 0===o?o:+o;o=vi(o);var d=fm.test(o);return d||wf.test(o)?yc(o.slice(2),d?2:8):wo.test(o)?NaN:+o}function fp(o){return Tr(o,un(o))}function Re(o){return null==o?"":Ln(o)}var hp=cs(function(o,l){if($o(l)||cn(l))Tr(l,_t(l),o);else for(var d in l)Ue.call(l,d)&&Po(o,d,l[d])}),pp=cs(function(o,l){Tr(l,un(l),o)}),ro=cs(function(o,l,d,h){Tr(l,un(l),o,h)}),LD=cs(function(o,l,d,h){Tr(l,_t(l),o,h)}),ND=nr(za),HD=ue(function(o,l){o=Ge(o);var d=-1,h=l.length,g=h>2?l[2]:b;for(g&&jt(l[0],l[1],g)&&(h=1);++d<h;)for(var v=l[d],C=un(v),E=-1,S=C.length;++E<S;){var O=C[E],k=o[O];(k===b||Dn(k,Ao[O])&&!Ue.call(o,O))&&(o[O]=v[O])}return o}),UD=ue(function(o){return o.push(b,Xr),An(mp,b,o)});function Il(o,l,d){var h=null==o?b:Us(o,l);return h===b?d:h}function Sl(o,l){return null!=o&&fl(o,l,Xf)}var Gu=ph(function(o,l,d){null!=l&&"function"!=typeof l.toString&&(l=Tc.call(l)),o[l]=d},nd(Ot)),rv=ph(function(o,l,d){null!=l&&"function"!=typeof l.toString&&(l=Tc.call(l)),Ue.call(o,l)?o[l].push(d):o[l]=[d]},Q),Li=ue(Ir);function _t(o){return cn(o)?jc(o):Yc(o)}function un(o){return cn(o)?jc(o,!0):function th(o){if(!ae(o))return function o_(o){var l=[];if(null!=o)for(var d in Ge(o))l.push(d);return l}(o);var l=$o(o),d=[];for(var h in o)"constructor"==h&&(l||!Ue.call(o,h))||d.push(h);return d}(o)}var gp=cs(function(o,l,d){Xa(o,l,d)}),mp=cs(function(o,l,d,h){Xa(o,l,d,h)}),sv=nr(function(o,l){var d={};if(null==o)return d;var h=!1;l=xe(l,function(v){return v=Qr(v,o),h||(h=v.length>1),v}),Tr(o,ll(o),d),h&&(d=On(d,7,mh));for(var g=l.length;g--;)ah(d,l[g]);return d}),io=nr(function(o,l){return null==o?{}:function ih(o,l){return eu(o,l,function(d,h){return Sl(o,h)})}(o,l)});function Tl(o,l){if(null==o)return{};var d=xe(ll(o),function(h){return[h]});return l=Q(l),eu(o,d,function(h,g){return l(h,g[0])})}var _p=gh(_t),Zu=gh(un);function ii(o){return null==o?[]:Cc(o,_t(o))}var Cp=Si(function(o,l,d){return l=l.toLowerCase(),o+(d?bp(l):l)});function bp(o){return td(Re(o).toLowerCase())}function Xu(o){return(o=Re(o))&&o.replace(pm,_n).replace(oD,"")}var cv=Si(function(o,l,d){return o+(d?"-":"")+l.toLowerCase()}),uv=Si(function(o,l,d){return o+(d?" ":"")+l.toLowerCase()}),GD=Zs("toLowerCase"),fv=Si(function(o,l,d){return o+(d?"_":"")+l.toLowerCase()}),pv=Si(function(o,l,d){return o+(d?" ":"")+td(l)}),ed=Si(function(o,l,d){return o+(d?" ":"")+l.toUpperCase()}),td=Zs("toUpperCase");function xp(o,l,d){return o=Re(o),(l=d?b:l)===b?function Io(I){return _c.test(I)}(o)?function Jn(I){return I.match(aD)||[]}(o):function Nf(I){return I.match(Jw)||[]}(o):o.match(l)||[]}var yv=ue(function(o,l){try{return An(o,b,l)}catch(d){return Cl(d)?d:new ce(d)}}),Pp=nr(function(o,l){return xt(l,function(d){d=yn(d),Zr(o,d,xu(o[d],o))}),o});function nd(o){return function(){return o}}var Cv=hh(),bv=hh(!0);function Ot(o){return o}function na(o){return Bo("function"==typeof o?o:On(o,1))}var sd=ue(function(o,l){return function(d){return Ir(d,o,l)}}),Rp=ue(function(o,l){return function(d){return Ir(o,d,l)}});function od(o,l,d){var h=_t(l),g=Gc(l,h);null==d&&(!ae(l)||!g.length&&h.length)&&(d=l,l=o,o=this,g=Gc(l,_t(l)));var v=!(ae(d)&&"chain"in d&&!d.chain),C=ei(o);return xt(g,function(E){var S=l[E];o[E]=S,C&&(o.prototype[E]=function(){var O=this.__chain__;if(v||O){var k=o(this.__wrapped__),B=k.__actions__=ln(this.__actions__);return B.push({func:S,args:arguments,thisArg:o}),k.__chain__=O,k}return S.apply(o,Mn([this.value()],arguments))})}),o}function ra(){}var Sv=sl(xe),Fp=sl(bo),Op=sl(Dc);function ad(o){return pl(o)?_r(yn(o)):function Ws(o){return function(l){return Us(l,o)}}(o)}var Lp=au(),si=au(!0);function ao(){return[]}function ld(){return!1}var Av=Ai(function(o,l){return o+l},0),dd=us("ceil"),Bp=Ai(function(o,l){return o/l},1),Hp=us("floor"),lo=Ai(function(o,l){return o*l},1),jp=us("round"),Rv=Ai(function(o,l){return o-l},0);return _.after=function Yh(o,l){if("function"!=typeof l)throw new er(pn);return o=ge(o),function(){if(--o<1)return l.apply(this,arguments)}},_.ary=_l,_.assign=hp,_.assignIn=pp,_.assignInWith=ro,_.assignWith=LD,_.at=ND,_.before=Xh,_.bind=xu,_.bindAll=Pp,_.bindKey=Pu,_.castArray=function Xo(){if(!arguments.length)return[];var o=arguments[0];return he(o)?o:[o]},_.chain=zh,_.chunk=function Mh(o,l,d){l=(d?jt(o,l,d):l===b)?1:Et(ge(l),0);var h=null==o?0:o.length;if(!h||l<1)return[];for(var g=0,v=0,C=x(Ba(h/l));g<h;)C[v++]=kn(o,g,g+=l);return C},_.compact=function xh(o){for(var l=-1,d=null==o?0:o.length,h=0,g=[];++l<d;){var v=o[l];v&&(g[h++]=v)}return g},_.concat=function Ph(){var o=arguments.length;if(!o)return[];for(var l=x(o-1),d=arguments[0],h=o;h--;)l[h-1]=arguments[h];return Mn(he(d)?ln(d):[d],Ft(l,1))},_.cond=function wv(o){var l=null==o?0:o.length,d=Q();return o=l?xe(o,function(h){if("function"!=typeof h[1])throw new er(pn);return[d(h[0]),h[1]]}):[],ue(function(h){for(var g=-1;++g<l;){var v=o[g];if(An(v[0],this,h))return An(v[1],this,h)}})},_.conforms=function Dv(o){return function Vm(o){var l=_t(o);return function(d){return Fo(d,o,l)}}(On(o,1))},_.constant=nd,_.countBy=Kh,_.create=function BD(o,l){var d=Bs(o);return null==l?d:tt(d,l)},_.curry=function Ru(o,l,d){var h=Yr(o,8,b,b,b,b,b,l=d?b:l);return h.placeholder=Ru.placeholder,h},_.curryRight=function Ri(o,l,d){var h=Yr(o,16,b,b,b,b,b,l=d?b:l);return h.placeholder=Ri.placeholder,h},_.debounce=Fu,_.defaults=HD,_.defaultsDeep=UD,_.defer=Jh,_.delay=z_,_.difference=DD,_.differenceBy=CD,_.differenceWith=bD,_.drop=function fu(o,l,d){var h=null==o?0:o.length;return h?kn(o,(l=d||l===b?1:ge(l))<0?0:l,h):[]},_.dropRight=function hu(o,l,d){var h=null==o?0:o.length;return h?kn(o,0,(l=h-(l=d||l===b?1:ge(l)))<0?0:l):[]},_.dropRightWhile=function pu(o,l){return o&&o.length?Ks(o,Q(l,3),!0,!0):[]},_.dropWhile=function ED(o,l){return o&&o.length?Ks(o,Q(l,3),!0):[]},_.fill=function ID(o,l,d,h){var g=null==o?0:o.length;return g?(d&&"number"!=typeof d&&jt(o,l,d)&&(d=0,h=g),function ko(o,l,d,h){var g=o.length;for((d=ge(d))<0&&(d=-d>g?0:g+d),(h=h===b||h>g?g:ge(h))<0&&(h+=g),h=d>h?0:Wu(h);d<h;)o[d++]=l;return o}(o,l,d,h)):[]},_.filter=function wn(o,l){return(he(o)?mr:Yf)(o,Q(l,3))},_.flatMap=function N_(o,l){return Ft(Jr(o,l),1)},_.flatMapDeep=function Gh(o,l){return Ft(Jr(o,l),Be)},_.flatMapDepth=function Zo(o,l,d){return d=d===b?1:ge(d),Ft(Jr(o,l),d)},_.flatten=Fh,_.flattenDeep=function c_(o){return null!=o&&o.length?Ft(o,Be):[]},_.flattenDepth=function u_(o,l){return null!=o&&o.length?Ft(o,l=l===b?1:ge(l)):[]},_.flip=function vl(o){return Yr(o,512)},_.flow=Cv,_.flowRight=bv,_.fromPairs=function Oh(o){for(var l=-1,d=null==o?0:o.length,h={};++l<d;){var g=o[l];h[g[0]]=g[1]}return h},_.functions=function zu(o){return null==o?[]:Gc(o,_t(o))},_.functionsIn=function nv(o){return null==o?[]:Gc(o,un(o))},_.groupBy=Su,_.initial=function mu(o){return null!=o&&o.length?kn(o,0,-1):[]},_.intersection=f_,_.intersectionBy=ft,_.intersectionWith=kh,_.invert=Gu,_.invertBy=rv,_.invokeMap=qh,_.iteratee=na,_.keyBy=PD,_.keys=_t,_.keysIn=un,_.map=Jr,_.mapKeys=function qu(o,l){var d={};return l=Q(l,3),Er(o,function(h,g,v){Zr(d,l(h,g,v),h)}),d},_.mapValues=function iv(o,l){var d={};return l=Q(l,3),Er(o,function(h,g,v){Zr(d,g,l(h,g,v))}),d},_.matches=function Ev(o){return Jc(On(o,1))},_.matchesProperty=function id(o,l){return nh(o,On(l,1))},_.memoize=yl,_.merge=gp,_.mergeWith=mp,_.method=sd,_.methodOf=Rp,_.mixin=od,_.negate=Qo,_.nthArg=function QD(o){return o=ge(o),ue(function(l){return $s(l,o)})},_.omit=sv,_.omitBy=function ea(o,l){return Tl(o,Qo(Q(l)))},_.once=function ep(o){return Xh(2,o)},_.orderBy=function Au(o,l,d,h){return null==o?[]:(he(l)||(l=null==l?[]:[l]),he(d=h?b:d)||(d=null==d?[]:[d]),rh(o,l,d))},_.over=Sv,_.overArgs=tp,_.overEvery=Fp,_.overSome=Op,_.partial=Yo,_.partialRight=Ou,_.partition=Zh,_.pick=io,_.pickBy=Tl,_.property=ad,_.propertyOf=function kp(o){return function(l){return null==o?b:Us(o,l)}},_.pull=g_,_.pullAll=Nh,_.pullAllBy=function m_(o,l,d){return o&&o.length&&l&&l.length?tu(o,l,Q(d,2)):o},_.pullAllWith=function __(o,l,d){return o&&o.length&&l&&l.length?tu(o,l,b,d):o},_.pullAt=SD,_.range=Lp,_.rangeRight=si,_.rearg=wl,_.reject=function H_(o,l){return(he(o)?mr:Yf)(o,Qo(Q(l,3)))},_.remove=function TD(o,l){var d=[];if(!o||!o.length)return d;var h=-1,g=[],v=o.length;for(l=Q(l,3);++h<v;){var C=o[h];l(C,h,o)&&(d.push(C),g.push(h))}return el(o,g),d},_.rest=function Dl(o,l){if("function"!=typeof o)throw new er(pn);return ue(o,l=l===b?l:ge(l))},_.reverse=ds,_.sampleSize=function V_(o,l,d){return l=(d?jt(o,l,d):l===b)?1:ge(l),(he(o)?Qf:nu)(o,l)},_.set=function ta(o,l,d){return null==o?o:Sr(o,l,d)},_.setWith=function oo(o,l,d,h){return h="function"==typeof h?h:b,null==o?o:Sr(o,l,d,h)},_.shuffle=function j_(o){return(he(o)?Wa:se)(o)},_.slice=function Qt(o,l,d){var h=null==o?0:o.length;return h?(d&&"number"!=typeof d&&jt(o,l,d)?(l=0,d=h):(l=null==l?0:ge(l),d=d===b?h:ge(d)),kn(o,l,d)):[]},_.sortBy=Qh,_.sortedUniq=function v_(o){return o&&o.length?Gm(o):[]},_.sortedUniqBy=function y_(o,l){return o&&o.length?Gm(o,Q(l,2)):[]},_.split=function hv(o,l,d){return d&&"number"!=typeof d&&jt(o,l,d)&&(l=d=b),(d=d===b?hr:d>>>0)?(o=Re(o))&&("string"==typeof l||null!=l&&!Jo(l))&&!(l=Ln(l))&&Ke(o)?Hn(it(o),0,d):o.split(l,d):[]},_.spread=function np(o,l){if("function"!=typeof o)throw new er(pn);return l=null==l?0:Et(ge(l),0),ue(function(d){var h=d[l],g=Hn(d,0,l);return h&&Mn(g,h),An(o,this,g)})},_.tail=function Uh(o){var l=null==o?0:o.length;return l?kn(o,1,l):[]},_.take=function w_(o,l,d){return o&&o.length?kn(o,0,(l=d||l===b?1:ge(l))<0?0:l):[]},_.takeRight=function Vh(o,l,d){var h=null==o?0:o.length;return h?kn(o,(l=h-(l=d||l===b?1:ge(l)))<0?0:l,h):[]},_.takeRightWhile=function D_(o,l){return o&&o.length?Ks(o,Q(l,3),!1,!0):[]},_.takeWhile=function jh(o,l){return o&&o.length?Ks(o,Q(l,3)):[]},_.tap=function R_(o,l){return l(o),o},_.throttle=function ku(o,l,d){var h=!0,g=!0;if("function"!=typeof o)throw new er(pn);return ae(d)&&(h="leading"in d?!!d.leading:h,g="trailing"in d?!!d.trailing:g),Fu(o,l,{leading:h,maxWait:l,trailing:g})},_.thru=ml,_.toArray=dp,_.toPairs=_p,_.toPairsIn=Zu,_.toPath=function ud(o){return he(o)?xe(o,yn):Wt(o)?[o]:ln(Ah(Re(o)))},_.toPlainObject=fp,_.transform=function vp(o,l,d){var h=he(o),g=h||Oi(o)||ni(o);if(l=Q(l,4),null==d){var v=o&&o.constructor;d=g?h?new v:[]:ae(o)&&ei(v)?Bs(xn(o)):{}}return(g?xt:Er)(o,function(C,E,S){return l(d,C,E,S)}),d},_.unary=function rp(o){return _l(o,1)},_.union=C_,_.unionBy=b_,_.unionWith=yu,_.uniq=function E_(o){return o&&o.length?Nn(o):[]},_.uniqBy=function I_(o,l){return o&&o.length?Nn(o,Q(l,2)):[]},_.uniqWith=function wu(o,l){return l="function"==typeof l?l:b,o&&o.length?Nn(o,b,l):[]},_.unset=function Qu(o,l){return null==o||ah(o,l)},_.unzip=Du,_.unzipWith=$h,_.update=function Yu(o,l,d){return null==o?o:dt(o,l,Bn(d))},_.updateWith=function yp(o,l,d,h){return h="function"==typeof h?h:b,null==o?o:dt(o,l,Bn(d),h)},_.values=ii,_.valuesIn=function ov(o){return null==o?[]:Cc(o,un(o))},_.without=qo,_.words=xp,_.wrap=function Lu(o,l){return Yo(Bn(l),o)},_.xor=S_,_.xorBy=T_,_.xorWith=A_,_.zip=M_,_.zipObject=function x_(o,l){return ch(o||[],l||[],Po)},_.zipObjectDeep=function Wh(o,l){return ch(o||[],l||[],Sr)},_.zipWith=P_,_.entries=_p,_.entriesIn=Zu,_.extend=pp,_.extendWith=ro,od(_,_),_.add=Av,_.attempt=yv,_.camelCase=Cp,_.capitalize=bp,_.ceil=dd,_.clamp=function wp(o,l,d){return d===b&&(d=l,l=b),d!==b&&(d=(d=ar(d))==d?d:0),l!==b&&(l=(l=ar(l))==l?l:0),os(ar(o),l,d)},_.clone=function K_(o){return On(o,4)},_.cloneDeep=function G_(o){return On(o,5)},_.cloneDeepWith=function q_(o,l){return On(o,5,l="function"==typeof l?l:b)},_.cloneWith=function ip(o,l){return On(o,4,l="function"==typeof l?l:b)},_.conformsTo=function sp(o,l){return null==l||Fo(o,l,_t(l))},_.deburr=Xu,_.defaultTo=function rd(o,l){return null==o||o!=o?l:o},_.divide=Bp,_.endsWith=function av(o,l,d){o=Re(o),l=Ln(l);var h=o.length,g=d=d===b?h:os(ge(d),0,h);return(d-=l.length)>=0&&o.slice(d,g)==l},_.eq=Dn,_.escape=function lv(o){return(o=Re(o))&&pf.test(o)?o.replace(fc,Xi):o},_.escapeRegExp=function Cn(o){return(o=Re(o))&&cm.test(o)?o.replace(hc,"\\$&"):o},_.every=function xD(o,l,d){var h=he(o)?bo:jm;return d&&jt(o,l,d)&&(l=b),h(o,Q(l,3))},_.find=Cu,_.findIndex=gu,_.findKey=function VD(o,l){return Yn(o,Q(l,3),Er)},_.findLast=bu,_.findLastIndex=Rh,_.findLastKey=function jD(o,l){return Yn(o,Q(l,3),Kc)},_.floor=Hp,_.forEach=Eu,_.forEachRight=Iu,_.forIn=function $D(o,l){return null==o?o:as(o,Q(l,3),un)},_.forInRight=function WD(o,l){return null==o?o:Ka(o,Q(l,3),un)},_.forOwn=function zD(o,l){return o&&Er(o,Q(l,3))},_.forOwnRight=function ki(o,l){return o&&Kc(o,Q(l,3))},_.get=Il,_.gt=op,_.gte=RD,_.has=function Ku(o,l){return null!=o&&fl(o,l,Ga)},_.hasIn=Sl,_.head=Ko,_.identity=Ot,_.includes=function Tu(o,l,d,h){o=cn(o)?o:ii(o),d=d&&!h?ge(d):0;var g=o.length;return d<0&&(d=Et(g+d,0)),Uu(o)?d<=g&&o.indexOf(l,d)>-1:!!g&&Qi(o,l,d)>-1},_.indexOf=function d_(o,l,d){var h=null==o?0:o.length;if(!h)return-1;var g=null==d?0:ge(d);return g<0&&(g=Et(h+g,0)),Qi(o,l,g)},_.inRange=function KD(o,l,d){return l=ri(l),d===b?(d=l,l=0):d=ri(d),function Jf(o,l,d){return o>=we(l,d)&&o<Et(l,d)}(o=ar(o),l,d)},_.invoke=Li,_.isArguments=Fi,_.isArray=he,_.isArrayBuffer=ap,_.isArrayLike=cn,_.isArrayLikeObject=ot,_.isBoolean=function sr(o){return!0===o||!1===o||nt(o)&&Ut(o)==Fe},_.isBuffer=Oi,_.isDate=lp,_.isElement=function Z_(o){return nt(o)&&1===o.nodeType&&!no(o)},_.isEmpty=function Q_(o){if(null==o)return!0;if(cn(o)&&(he(o)||"string"==typeof o||"function"==typeof o.splice||Oi(o)||ni(o)||Fi(o)))return!o.length;var l=Vt(o);if(l==pr||l==Wn)return!o.size;if($o(o))return!Yc(o).length;for(var d in o)if(Ue.call(o,d))return!1;return!0},_.isEqual=function Y_(o,l){return Vs(o,l)},_.isEqualWith=function X_(o,l,d){var h=(d="function"==typeof d?d:b)?d(o,l):b;return h===b?Vs(o,l,b,d):!!h},_.isError=Cl,_.isFinite=function J_(o){return"number"==typeof o&&Ha(o)},_.isFunction=ei,_.isInteger=cp,_.isLength=ne,_.isMap=Nu,_.isMatch=function bl(o,l){return o===l||qc(o,l,vh(l))},_.isMatchWith=function or(o,l,d){return d="function"==typeof d?d:b,qc(o,l,vh(l),d)},_.isNaN=function up(o){return El(o)&&o!=+o},_.isNative=function ev(o){if(s_(o))throw new ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return js(o)},_.isNil=function ti(o){return null==o},_.isNull=function Bu(o){return null===o},_.isNumber=El,_.isObject=ae,_.isObjectLike=nt,_.isPlainObject=no,_.isRegExp=Jo,_.isSafeInteger=function FD(o){return cp(o)&&o>=-Wr&&o<=Wr},_.isSet=Hu,_.isString=Uu,_.isSymbol=Wt,_.isTypedArray=ni,_.isUndefined=function Vu(o){return o===b},_.isWeakMap=function ju(o){return nt(o)&&Vt(o)==zn},_.isWeakSet=function $u(o){return nt(o)&&"[object WeakSet]"==Ut(o)},_.join=function h_(o,l){return null==o?"":Fm.call(o,l)},_.kebabCase=cv,_.last=St,_.lastIndexOf=function Lh(o,l,d){var h=null==o?0:o.length;if(!h)return-1;var g=h;return d!==b&&(g=(g=ge(d))<0?Et(h+g,0):we(g,h-1)),l==l?function To(I,P,x){for(var W=x+1;W--;)if(I[W]===P)return W;return W}(o,l,g):Oa(o,qt,g,!0)},_.lowerCase=uv,_.lowerFirst=GD,_.lt=OD,_.lte=tv,_.max=function Up(o){return o&&o.length?tr(o,Ot,No):b},_.maxBy=function Mv(o,l){return o&&o.length?tr(o,Q(l,2),No):b},_.mean=function fd(o){return Rt(o,Ot)},_.meanBy=function xv(o,l){return Rt(o,Q(l,2))},_.min=function Pv(o){return o&&o.length?tr(o,Ot,Ya):b},_.minBy=function Vp(o,l){return o&&o.length?tr(o,Q(l,2),Ya):b},_.stubArray=ao,_.stubFalse=ld,_.stubObject=function Tv(){return{}},_.stubString=function YD(){return""},_.stubTrue=function cd(){return!0},_.multiply=lo,_.nth=function p_(o,l){return o&&o.length?$s(o,ge(l)):b},_.noConflict=function Iv(){return Dt._===this&&(Dt._=Ac),this},_.noop=ra,_.now=to,_.pad=function qD(o,l,d){o=Re(o);var h=(l=ge(l))?Xn(o):0;if(!l||h>=l)return o;var g=(l-h)/2;return ol(Ls(g),d)+o+ol(Ba(g),d)},_.padEnd=function Ep(o,l,d){o=Re(o);var h=(l=ge(l))?Xn(o):0;return l&&h<l?o+ol(l-h,d):o},_.padStart=function ZD(o,l,d){o=Re(o);var h=(l=ge(l))?Xn(o):0;return l&&h<l?ol(l-h,d)+o:o},_.parseInt=function dv(o,l,d){return d||null==l?l=0:l&&(l=+l),Om(Re(o).replace(Gn,""),l||0)},_.random=function Dp(o,l,d){if(d&&"boolean"!=typeof d&&jt(o,l,d)&&(l=d=b),d===b&&("boolean"==typeof l?(d=l,l=b):"boolean"==typeof o&&(d=o,o=b)),o===b&&l===b?(o=0,l=1):(o=ri(o),l===b?(l=o,o=0):l=ri(l)),o>l){var h=o;o=l,l=h}if(d||o%1||l%1){var g=st();return we(o+g*(l-o+oe("1e-"+((g+"").length-1))),l)}return ls(o,l)},_.reduce=function B_(o,l,d){var h=he(o)?wc:mn,g=arguments.length<3;return h(o,Q(l,4),d,g,br)},_.reduceRight=function Mu(o,l,d){var h=he(o)?xs:mn,g=arguments.length<3;return h(o,Q(l,4),d,g,zc)},_.repeat=function Ju(o,l,d){return l=(d?jt(o,l,d):l===b)?1:ge(l),Ii(Re(o),l)},_.replace=function Ip(){var o=arguments,l=Re(o[0]);return o.length<3?l:l.replace(o[1],o[2])},_.result=function so(o,l,d){var h=-1,g=(l=Qr(l,o)).length;for(g||(g=1,o=b);++h<g;){var v=null==o?b:o[yn(l[h])];v===b&&(h=g,v=d),o=ei(v)?v.call(o):v}return o},_.round=jp,_.runInContext=I,_.sample=function U_(o){return(he(o)?$c:sh)(o)},_.size=function $_(o){if(null==o)return 0;if(cn(o))return Uu(o)?Xn(o):o.length;var l=Vt(o);return l==pr||l==Wn?o.size:Yc(o).length},_.snakeCase=fv,_.some=function W_(o,l,d){var h=he(o)?Dc:pD;return d&&jt(o,l,d)&&(l=b),h(o,Q(l,3))},_.sortedIndex=function _u(o,l){return ru(o,l)},_.sortedIndexBy=function Bh(o,l,d){return oh(o,l,Q(d,2))},_.sortedIndexOf=function Hh(o,l){var d=null==o?0:o.length;if(d){var h=ru(o,l);if(h<d&&Dn(o[h],l))return h}return-1},_.sortedLastIndex=function $t(o,l){return ru(o,l,!0)},_.sortedLastIndexBy=function Go(o,l,d){return oh(o,l,Q(d,2),!0)},_.sortedLastIndexOf=function vu(o,l){if(null!=o&&o.length){var h=ru(o,l,!0)-1;if(Dn(o[h],l))return h}return-1},_.startCase=pv,_.startsWith=function Sp(o,l,d){return o=Re(o),d=null==d?0:os(ge(d),0,o.length),l=Ln(l),o.slice(d,d+l.length)==l},_.subtract=Rv,_.sum=function Fv(o){return o&&o.length?Eo(o,Ot):0},_.sumBy=function co(o,l){return o&&o.length?Eo(o,Q(l,2)):0},_.template=function gv(o,l,d){var h=_.templateSettings;d&&jt(o,l,d)&&(l=b),o=Re(o),l=ro({},l,h,jo);var E,S,g=ro({},l.imports,h.imports,jo),v=_t(g),C=Cc(g,v),O=0,k=l.interpolate||Ta,B="__p += '",U=Bf((l.escape||Ta).source+"|"+k.source+"|"+(k===gf?pc:Ta).source+"|"+(l.evaluate||Ta).source+"|$","g"),G="//# sourceURL="+(Ue.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Em+"]")+"\n";o.replace(U,function(X,De,Ee,Un,dn,Yt){return Ee||(Ee=Un),B+=o.slice(O,Yt).replace(gm,Ct),De&&(E=!0,B+="' +\n__e("+De+") +\n'"),dn&&(S=!0,B+="';\n"+dn+";\n__p += '"),Ee&&(B+="' +\n((__t = ("+Ee+")) == null ? '' : __t) +\n'"),O=Yt+X.length,X}),B+="';\n";var Y=Ue.call(l,"variable")&&l.variable;if(Y){if(dm.test(Y))throw new ce("Invalid `variable` option passed into `_.template`")}else B="with (obj) {\n"+B+"\n}\n";B=(S?B.replace(df,""):B).replace(ff,"$1").replace(sm,"$1;"),B="function("+(Y||"obj")+") {\n"+(Y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(E?", __e = _.escape":"")+(S?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+B+"return __p\n}";var _e=yv(function(){return Pe(v,G+"return "+B).apply(b,C)});if(_e.source=B,Cl(_e))throw _e;return _e},_.times=function Np(o,l){if((o=ge(o))<1||o>Wr)return[];var d=hr,h=we(o,hr);l=Q(l),o-=hr;for(var g=Yi(h,l);++d<o;)l(d);return g},_.toFinite=ri,_.toInteger=ge,_.toLength=Wu,_.toLower=function Tp(o){return Re(o).toLowerCase()},_.toNumber=ar,_.toSafeInteger=function kD(o){return o?os(ge(o),-Wr,Wr):0===o?o:0},_.toString=Re,_.toUpper=function mv(o){return Re(o).toUpperCase()},_.trim=function _v(o,l,d){if((o=Re(o))&&(d||l===b))return vi(o);if(!o||!(l=Ln(l)))return o;var h=it(o),g=it(l);return Hn(h,V(h,g),me(h,g)+1).join("")},_.trimEnd=function Ap(o,l,d){if((o=Re(o))&&(d||l===b))return o.slice(0,ze(o)+1);if(!o||!(l=Ln(l)))return o;var h=it(o);return Hn(h,0,me(h,it(l))+1).join("")},_.trimStart=function Mp(o,l,d){if((o=Re(o))&&(d||l===b))return o.replace(Gn,"");if(!o||!(l=Ln(l)))return o;var h=it(o);return Hn(h,V(h,it(l))).join("")},_.truncate=function vv(o,l){var d=30,h="...";if(ae(l)){var g="separator"in l?l.separator:g;d="length"in l?ge(l.length):d,h="omission"in l?Ln(l.omission):h}var v=(o=Re(o)).length;if(Ke(o)){var C=it(o);v=C.length}if(d>=v)return o;var E=d-Xn(h);if(E<1)return h;var S=C?Hn(C,0,E).join(""):o.slice(0,E);if(g===b)return S+h;if(C&&(E+=S.length-E),Jo(g)){if(o.slice(E).search(g)){var O,k=S;for(g.global||(g=Bf(g.source,Re(vf.exec(g))+"g")),g.lastIndex=0;O=g.exec(k);)var B=O.index;S=S.slice(0,B===b?E:B)}}else if(o.indexOf(Ln(g),E)!=E){var U=S.lastIndexOf(g);U>-1&&(S=S.slice(0,U))}return S+h},_.unescape=function xr(o){return(o=Re(o))&&hf.test(o)?o.replace(dc,Am):o},_.uniqueId=function ia(o){var l=++dD;return Re(o)+l},_.upperCase=ed,_.upperFirst=td,_.each=Eu,_.eachRight=Iu,_.first=Ko,od(_,function(){var o={};return Er(_,function(l,d){Ue.call(_.prototype,d)||(o[d]=l)}),o}(),{chain:!1}),_.VERSION="4.17.21",xt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){_[o].placeholder=_}),xt(["drop","take"],function(o,l){Ce.prototype[o]=function(d){d=d===b?1:Et(ge(d),0);var h=this.__filtered__&&!l?new Ce(this):this.clone();return h.__filtered__?h.__takeCount__=we(d,h.__takeCount__):h.__views__.push({size:we(d,hr),type:o+(h.__dir__<0?"Right":"")}),h},Ce.prototype[o+"Right"]=function(d){return this.reverse()[o](d).reverse()}}),xt(["filter","map","takeWhile"],function(o,l){var d=l+1,h=1==d||3==d;Ce.prototype[o]=function(g){var v=this.clone();return v.__iteratees__.push({iteratee:Q(g,3),type:d}),v.__filtered__=v.__filtered__||h,v}}),xt(["head","last"],function(o,l){var d="take"+(l?"Right":"");Ce.prototype[o]=function(){return this[d](1).value()[0]}}),xt(["initial","tail"],function(o,l){var d="drop"+(l?"":"Right");Ce.prototype[o]=function(){return this.__filtered__?new Ce(this):this[d](1)}}),Ce.prototype.compact=function(){return this.filter(Ot)},Ce.prototype.find=function(o){return this.filter(o).head()},Ce.prototype.findLast=function(o){return this.reverse().find(o)},Ce.prototype.invokeMap=ue(function(o,l){return"function"==typeof o?new Ce(this):this.map(function(d){return Ir(d,o,l)})}),Ce.prototype.reject=function(o){return this.filter(Qo(Q(o)))},Ce.prototype.slice=function(o,l){o=ge(o);var d=this;return d.__filtered__&&(o>0||l<0)?new Ce(d):(o<0?d=d.takeRight(-o):o&&(d=d.drop(o)),l!==b&&(d=(l=ge(l))<0?d.dropRight(-l):d.take(l-o)),d)},Ce.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Ce.prototype.toArray=function(){return this.take(hr)},Er(Ce.prototype,function(o,l){var d=/^(?:filter|find|map|reject)|While$/.test(l),h=/^(?:head|last)$/.test(l),g=_[h?"take"+("last"==l?"Right":""):l],v=h||/^find/.test(l);!g||(_.prototype[l]=function(){var C=this.__wrapped__,E=h?[1]:arguments,S=C instanceof Ce,O=E[0],k=S||he(C),B=function(De){var Ee=g.apply(_,Mn([De],E));return h&&U?Ee[0]:Ee};k&&d&&"function"==typeof O&&1!=O.length&&(S=k=!1);var U=this.__chain__,G=!!this.__actions__.length,Y=v&&!U,_e=S&&!G;if(!v&&k){C=_e?C:new Ce(this);var X=o.apply(C,E);return X.__actions__.push({func:ml,args:[B],thisArg:b}),new Rn(X,U)}return Y&&_e?o.apply(this,E):(X=this.thru(B),Y?h?X.value()[0]:X.value():X)})}),xt(["pop","push","shift","sort","splice","unshift"],function(o){var l=Ec[o],d=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",h=/^(?:pop|shift)$/.test(o);_.prototype[o]=function(){var g=arguments;if(h&&!this.__chain__){var v=this.value();return l.apply(he(v)?v:[],g)}return this[d](function(C){return l.apply(he(C)?C:[],g)})}}),Er(Ce.prototype,function(o,l){var d=_[l];if(d){var h=d.name+"";Ue.call(is,h)||(is[h]=[]),is[h].push({name:l,func:d})}}),is[Uo(b,2).name]=[{name:"wrapper",func:b}],Ce.prototype.clone=function N(){var o=new Ce(this.__wrapped__);return o.__actions__=ln(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=ln(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=ln(this.__views__),o},Ce.prototype.reverse=function Te(){if(this.__filtered__){var o=new Ce(this);o.__dir__=-1,o.__filtered__=!0}else(o=this.clone()).__dir__*=-1;return o},Ce.prototype.value=function sn(){var o=this.__wrapped__.value(),l=this.__dir__,d=he(o),h=l<0,g=d?o.length:0,v=function n_(o,l,d){for(var h=-1,g=d.length;++h<g;){var v=d[h],C=v.size;switch(v.type){case"drop":o+=C;break;case"dropRight":l-=C;break;case"take":l=we(l,o+C);break;case"takeRight":o=Et(o,l-C)}}return{start:o,end:l}}(0,g,this.__views__),C=v.start,E=v.end,S=E-C,O=h?E:C-1,k=this.__iteratees__,B=k.length,U=0,G=we(S,this.__takeCount__);if(!d||!h&&g==S&&G==S)return Gs(o,this.__actions__);var Y=[];e:for(;S--&&U<G;){for(var _e=-1,X=o[O+=l];++_e<B;){var De=k[_e],Un=De.type,dn=(0,De.iteratee)(X);if(2==Un)X=dn;else if(!dn){if(1==Un)continue e;break e}}Y[U++]=X}return Y},_.prototype.at=F_,_.prototype.chain=function O_(){return zh(this)},_.prototype.commit=function k_(){return new Rn(this.value(),this.__chain__)},_.prototype.next=function L_(){this.__values__===b&&(this.__values__=dp(this.value()));var o=this.__index__>=this.__values__.length;return{done:o,value:o?b:this.__values__[this.__index__++]}},_.prototype.plant=function Mr(o){for(var l,d=this;d instanceof Mo;){var h=Js(d);h.__index__=0,h.__values__=b,l?g.__wrapped__=h:l=h;var g=h;d=d.__wrapped__}return g.__wrapped__=o,l},_.prototype.reverse=function AD(){var o=this.__wrapped__;if(o instanceof Ce){var l=o;return this.__actions__.length&&(l=new Ce(this)),(l=l.reverse()).__actions__.push({func:ml,args:[ds],thisArg:b}),new Rn(l,this.__chain__)}return this.thru(ds)},_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=function MD(){return Gs(this.__wrapped__,this.__actions__)},_.prototype.first=_.prototype.head,Os&&(_.prototype[Os]=function eo(){return this}),_}();Dt._=es,(Ve=function(){return es}.call(Ds,rc,Ds,Vr))!==b&&(Vr.exports=Ve)}.call(this)}},Vr=>{Vr(Vr.s=203)}]);